(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var rA={exports:{}},Rh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=Symbol.for("react.transitional.element"),A2=Symbol.for("react.fragment");function aA(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:E2,type:e,key:i,ref:t!==void 0?t:null,props:n}}Rh.Fragment=A2;Rh.jsx=aA;Rh.jsxs=aA;rA.exports=Rh;var y=rA.exports,oA={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=Symbol.for("react.transitional.element"),S2=Symbol.for("react.portal"),w2=Symbol.for("react.fragment"),x2=Symbol.for("react.strict_mode"),R2=Symbol.for("react.profiler"),C2=Symbol.for("react.consumer"),I2=Symbol.for("react.context"),N2=Symbol.for("react.forward_ref"),D2=Symbol.for("react.suspense"),V2=Symbol.for("react.memo"),lA=Symbol.for("react.lazy"),M2=Symbol.for("react.activity"),Mv=Symbol.iterator;function O2(e){return e===null||typeof e!="object"?null:(e=Mv&&e[Mv]||e["@@iterator"],typeof e=="function"?e:null)}var uA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cA=Object.assign,hA={};function La(e,t,n){this.props=e,this.context=t,this.refs=hA,this.updater=n||uA}La.prototype.isReactComponent={};La.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};La.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fA(){}fA.prototype=La.prototype;function Xp(e,t,n){this.props=e,this.context=t,this.refs=hA,this.updater=n||uA}var Wp=Xp.prototype=new fA;Wp.constructor=Xp;cA(Wp,La.prototype);Wp.isPureReactComponent=!0;var Ov=Array.isArray;function sm(){}var It={H:null,A:null,T:null,S:null},dA=Object.prototype.hasOwnProperty;function Zp(e,t,n){var i=n.ref;return{$$typeof:Qp,type:e,key:t,ref:i!==void 0?i:null,props:n}}function P2(e,t){return Zp(e.type,t,e.props)}function Jp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qp}function k2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pv=/\/+/g;function qf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?k2(""+e.key):t.toString(36)}function L2(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(sm,sm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Mr(e,t,n,i,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qp:case S2:a=!0;break;case lA:return a=e._init,Mr(a(e._payload),t,n,i,s)}}if(a)return s=s(e),a=i===""?"."+qf(e,0):i,Ov(s)?(n="",a!=null&&(n=a.replace(Pv,"$&/")+"/"),Mr(s,t,n,"",function(c){return c})):s!=null&&(Jp(s)&&(s=P2(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Pv,"$&/")+"/")+a)),t.push(s)),1;a=0;var o=i===""?".":i+":";if(Ov(e))for(var u=0;u<e.length;u++)i=e[u],r=o+qf(i,u),a+=Mr(i,t,n,r,s);else if(u=O2(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+qf(i,u++),a+=Mr(i,t,n,r,s);else if(r==="object"){if(typeof e.then=="function")return Mr(L2(e),t,n,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function xu(e,t,n){if(e==null)return e;var i=[],s=0;return Mr(e,i,"","",function(r){return t.call(n,r,s++)}),i}function j2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kv=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},U2={map:xu,forEach:function(e,t,n){xu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xu(e,function(){t++}),t},toArray:function(e){return xu(e,function(t){return t})||[]},only:function(e){if(!Jp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Activity=M2;et.Children=U2;et.Component=La;et.Fragment=w2;et.Profiler=R2;et.PureComponent=Xp;et.StrictMode=x2;et.Suspense=D2;et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=It;et.__COMPILER_RUNTIME={__proto__:null,c:function(e){return It.H.useMemoCache(e)}};et.cache=function(e){return function(){return e.apply(null,arguments)}};et.cacheSignal=function(){return null};et.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=cA({},e.props),s=e.key;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)!dA.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var a=Array(r),o=0;o<r;o++)a[o]=arguments[o+2];i.children=a}return Zp(e.type,s,i)};et.createContext=function(e){return e={$$typeof:I2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:C2,_context:e},e};et.createElement=function(e,t,n){var i,s={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)dA.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Zp(e,r,s)};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:N2,render:e}};et.isValidElement=Jp;et.lazy=function(e){return{$$typeof:lA,_payload:{_status:-1,_result:e},_init:j2}};et.memo=function(e,t){return{$$typeof:V2,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=It.T,n={};It.T=n;try{var i=e(),s=It.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(sm,kv)}catch(r){kv(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),It.T=t}};et.unstable_useCacheRefresh=function(){return It.H.useCacheRefresh()};et.use=function(e){return It.H.use(e)};et.useActionState=function(e,t,n){return It.H.useActionState(e,t,n)};et.useCallback=function(e,t){return It.H.useCallback(e,t)};et.useContext=function(e){return It.H.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e,t){return It.H.useDeferredValue(e,t)};et.useEffect=function(e,t){return It.H.useEffect(e,t)};et.useEffectEvent=function(e){return It.H.useEffectEvent(e)};et.useId=function(){return It.H.useId()};et.useImperativeHandle=function(e,t,n){return It.H.useImperativeHandle(e,t,n)};et.useInsertionEffect=function(e,t){return It.H.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return It.H.useLayoutEffect(e,t)};et.useMemo=function(e,t){return It.H.useMemo(e,t)};et.useOptimistic=function(e,t){return It.H.useOptimistic(e,t)};et.useReducer=function(e,t,n){return It.H.useReducer(e,t,n)};et.useRef=function(e){return It.H.useRef(e)};et.useState=function(e){return It.H.useState(e)};et.useSyncExternalStore=function(e,t,n){return It.H.useSyncExternalStore(e,t,n)};et.useTransition=function(){return It.H.useTransition()};et.version="19.2.0";oA.exports=et;var U=oA.exports,mA={exports:{}},Ch={},pA={exports:{}},gA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var K=H.length;H.push(G);t:for(;0<K;){var ht=K-1>>>1,Tt=H[ht];if(0<s(Tt,G))H[ht]=G,H[K]=Tt,K=ht;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],K=H.pop();if(K!==G){H[0]=K;t:for(var ht=0,Tt=H.length,Zn=Tt>>>1;ht<Zn;){var Ds=2*(ht+1)-1,Rr=H[Ds],sn=Ds+1,Ri=H[sn];if(0>s(Rr,K))sn<Tt&&0>s(Ri,Rr)?(H[ht]=Ri,H[sn]=K,ht=sn):(H[ht]=Rr,H[Ds]=K,ht=Ds);else if(sn<Tt&&0>s(Ri,K))H[ht]=Ri,H[sn]=K,ht=sn;else break t}}return G}function s(H,G){var K=H.sortIndex-G.sortIndex;return K!==0?K:H.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],h=1,d=null,m=3,g=!1,w=!1,I=!1,D=!1,v=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(H){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=H)i(c),G.sortIndex=G.expirationTime,t(u,G);else break;G=n(c)}}function P(H){if(I=!1,N(H),!w)if(n(u)!==null)w=!0,z||(z=!0,V());else{var G=n(c);G!==null&&Ve(P,G.startTime-H)}}var z=!1,E=-1,_=5,A=-1;function x(){return D?!0:!(e.unstable_now()-A<_)}function C(){if(D=!1,z){var H=e.unstable_now();A=H;var G=!0;try{t:{w=!1,I&&(I=!1,T(E),E=-1),g=!0;var K=m;try{e:{for(N(H),d=n(u);d!==null&&!(d.expirationTime>H&&x());){var ht=d.callback;if(typeof ht=="function"){d.callback=null,m=d.priorityLevel;var Tt=ht(d.expirationTime<=H);if(H=e.unstable_now(),typeof Tt=="function"){d.callback=Tt,N(H),G=!0;break e}d===n(u)&&i(u),N(H)}else i(u);d=n(u)}if(d!==null)G=!0;else{var Zn=n(c);Zn!==null&&Ve(P,Zn.startTime-H),G=!1}}break t}finally{d=null,m=K,g=!1}G=void 0}}finally{G?V():z=!1}}}var V;if(typeof S=="function")V=function(){S(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Jt=R.port2;R.port1.onmessage=C,V=function(){Jt.postMessage(null)}}else V=function(){v(C,0)};function Ve(H,G){E=v(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var K=m;m=G;try{return H()}finally{m=K}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=m;m=H;try{return G()}finally{m=K}},e.unstable_scheduleCallback=function(H,G,K){var ht=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ht+K:ht):K=ht,H){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=K+Tt,H={id:h++,callback:G,priorityLevel:H,startTime:K,expirationTime:Tt,sortIndex:-1},K>ht?(H.sortIndex=K,t(c,H),n(u)===null&&H===n(c)&&(I?(T(E),E=-1):I=!0,Ve(P,K-ht))):(H.sortIndex=Tt,t(u,H),w||g||(w=!0,z||(z=!0,V()))),H},e.unstable_shouldYield=x,e.unstable_wrapCallback=function(H){var G=m;return function(){var K=m;m=G;try{return H.apply(this,arguments)}finally{m=K}}}})(gA);pA.exports=gA;var z2=pA.exports,yA={exports:{}},De={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2=U;function vA(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Oi(){}var Ce={d:{f:Oi,r:function(){throw Error(vA(522))},D:Oi,C:Oi,L:Oi,m:Oi,X:Oi,S:Oi,M:Oi},p:0,findDOMNode:null},F2=Symbol.for("react.portal");function H2(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F2,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var jo=B2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ih(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}De.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(vA(299));return H2(e,t,null,n)};De.flushSync=function(e){var t=jo.T,n=Ce.p;try{if(jo.T=null,Ce.p=2,e)return e()}finally{jo.T=t,Ce.p=n,Ce.d.f()}};De.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ce.d.C(e,t))};De.prefetchDNS=function(e){typeof e=="string"&&Ce.d.D(e)};De.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ih(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ce.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Ce.d.X(e,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};De.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ih(t.as,t.crossOrigin);Ce.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ce.d.M(e)};De.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ih(n,t.crossOrigin);Ce.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};De.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ih(t.as,t.crossOrigin);Ce.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ce.d.m(e)};De.requestFormReset=function(e){Ce.d.r(e)};De.unstable_batchedUpdates=function(e,t){return e(t)};De.useFormState=function(e,t,n){return jo.H.useFormState(e,t,n)};De.useFormStatus=function(){return jo.H.useHostTransitionStatus()};De.version="19.2.0";function _A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_A)}catch(e){console.error(e)}}_A(),yA.exports=De;var q2=yA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie=z2,TA=U,G2=q2;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function bA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function EA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AA(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lv(e){if(Bl(e)!==e)throw Error(L(188))}function K2(e){var t=e.alternate;if(!t){if(t=Bl(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Lv(s),e;if(r===i)return Lv(s),t;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function SA(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=SA(e),t!==null)return t;e=e.sibling}return null}var Nt=Object.assign,Y2=Symbol.for("react.element"),Ru=Symbol.for("react.transitional.element"),Co=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),rm=Symbol.for("react.profiler"),xA=Symbol.for("react.consumer"),oi=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),om=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),lm=Symbol.for("react.activity"),$2=Symbol.for("react.memo_cache_sentinel"),jv=Symbol.iterator;function _o(e){return e===null||typeof e!="object"?null:(e=jv&&e[jv]||e["@@iterator"],typeof e=="function"?e:null)}var Q2=Symbol.for("react.client.reference");function um(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q2?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case rm:return"Profiler";case wA:return"StrictMode";case am:return"Suspense";case om:return"SuspenseList";case lm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Co:return"Portal";case oi:return e.displayName||"Context";case xA:return(e._context.displayName||"Context")+".Consumer";case tg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eg:return t=e.displayName||null,t!==null?t:um(e.type)||"Memo";case Li:t=e._payload,e=e._init;try{return um(e(t))}catch{}}return null}var Io=Array.isArray,W=TA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt=G2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xs={pending:!1,data:null,method:null,action:null},cm=[],Br=-1;function Xn(e){return{current:e}}function le(e){0>Br||(e.current=cm[Br],cm[Br]=null,Br--)}function St(e,t){Br++,cm[Br]=e.current,e.current=t}var Un=Xn(null),ul=Xn(null),Zi=Xn(null),Rc=Xn(null);function Cc(e,t){switch(St(Zi,t),St(ul,e),St(Un,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?q_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=q_(t),e=Kw(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(Un),St(Un,e)}function ya(){le(Un),le(ul),le(Zi)}function hm(e){e.memoizedState!==null&&St(Rc,e);var t=Un.current,n=Kw(t,e.type);t!==n&&(St(ul,e),St(Un,n))}function Ic(e){ul.current===e&&(le(Un),le(ul)),Rc.current===e&&(le(Rc),Tl._currentValue=Xs)}var Gf,Uv;function Us(e){if(Gf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gf=t&&t[1]||"",Uv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gf+e+Uv}var Kf=!1;function Yf(e,t){if(!e||Kf)return"";Kf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(g){var m=g}Reflect.construct(e,[],d)}else{try{d.call()}catch(g){m=g}e.call(d.prototype)}}else{try{throw Error()}catch(g){m=g}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],o=r[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===c.length)for(i=u.length-1,s=c.length-1;1<=i&&0<=s&&u[i]!==c[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==c[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==c[s]){var h=`
`+u[i].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=i&&0<=s);break}}}finally{Kf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Us(n):""}function X2(e,t){switch(e.tag){case 26:case 27:case 5:return Us(e.type);case 16:return Us("Lazy");case 13:return e.child!==t&&t!==null?Us("Suspense Fallback"):Us("Suspense");case 19:return Us("SuspenseList");case 0:case 15:return Yf(e.type,!1);case 11:return Yf(e.type.render,!1);case 1:return Yf(e.type,!0);case 31:return Us("Activity");default:return""}}function zv(e){try{var t="",n=null;do t+=X2(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var fm=Object.prototype.hasOwnProperty,ng=ie.unstable_scheduleCallback,$f=ie.unstable_cancelCallback,W2=ie.unstable_shouldYield,Z2=ie.unstable_requestPaint,Xe=ie.unstable_now,J2=ie.unstable_getCurrentPriorityLevel,RA=ie.unstable_ImmediatePriority,CA=ie.unstable_UserBlockingPriority,Nc=ie.unstable_NormalPriority,tN=ie.unstable_LowPriority,IA=ie.unstable_IdlePriority,eN=ie.log,nN=ie.unstable_setDisableYieldValue,Fl=null,We=null;function Ki(e){if(typeof eN=="function"&&nN(e),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Fl,e)}catch{}}var Ze=Math.clz32?Math.clz32:rN,iN=Math.log,sN=Math.LN2;function rN(e){return e>>>=0,e===0?32:31-(iN(e)/sN|0)|0}var Cu=256,Iu=262144,Nu=4194304;function zs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nh(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?s=zs(i):(a&=o,a!==0?s=zs(a):n||(n=o&~e,n!==0&&(s=zs(n))))):(o=i&~r,o!==0?s=zs(o):a!==0?s=zs(a):n||(n=i&~e,n!==0&&(s=zs(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function Hl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function aN(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NA(){var e=Nu;return Nu<<=1,!(Nu&62914560)&&(Nu=4194304),e}function Qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oN(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-Ze(n),d=1<<h;o[h]=0,u[h]=-1;var m=c[h];if(m!==null)for(c[h]=null,h=0;h<m.length;h++){var g=m[h];g!==null&&(g.lane&=-536870913)}n&=~d}i!==0&&DA(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function DA(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ze(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function VA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ze(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function MA(e,t){var n=t&-t;return n=n&42?1:ig(n),n&(e.suspendedLanes|t)?0:n}function ig(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function OA(){var e=mt.p;return e!==0?e:(e=window.event,e===void 0?32:i1(e.type))}function Bv(e,t){var n=mt.p;try{return mt.p=e,t()}finally{mt.p=n}}var ws=Math.random().toString(36).slice(2),de="__reactFiber$"+ws,Be="__reactProps$"+ws,ja="__reactContainer$"+ws,dm="__reactEvents$"+ws,lN="__reactListeners$"+ws,uN="__reactHandles$"+ws,Fv="__reactResources$"+ws,Gl="__reactMarker$"+ws;function rg(e){delete e[de],delete e[Be],delete e[dm],delete e[lN],delete e[uN]}function Fr(e){var t=e[de];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[de]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Q_(e);e!==null;){if(n=e[de])return n;e=Q_(e)}return t}e=n,n=e.parentNode}return null}function Ua(e){if(e=e[de]||e[ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function No(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function ia(e){var t=e[Fv];return t||(t=e[Fv]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function oe(e){e[Gl]=!0}var PA=new Set,kA={};function vr(e,t){va(e,t),va(e+"Capture",t)}function va(e,t){for(kA[e]=t,e=0;e<t.length;e++)PA.add(t[e])}var cN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hv={},qv={};function hN(e){return fm.call(qv,e)?!0:fm.call(Hv,e)?!1:cN.test(e)?qv[e]=!0:(Hv[e]=!0,!1)}function Zu(e,t,n){if(hN(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Du(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Jn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function LA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fN(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mm(e){if(!e._valueTracker){var t=LA(e)?"checked":"value";e._valueTracker=fN(e,t,""+e[t])}}function jA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=LA(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Dc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dN=/[\n"\\]/g;function hn(e){return e.replace(dN,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function pm(e,t,n,i,s,r,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ln(t)):e.value!==""+ln(t)&&(e.value=""+ln(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?gm(e,a,ln(t)):n!=null?gm(e,a,ln(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ln(o):e.removeAttribute("name")}function UA(e,t,n,i,s,r,a,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){mm(e);return}n=n!=null?""+ln(n):"",t=t!=null?""+ln(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),mm(e)}function gm(e,t,n){t==="number"&&Dc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function sa(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ln(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zA(e,t,n){if(t!=null&&(t=""+ln(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ln(n):""}function BA(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(L(92));if(Io(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ln(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),mm(e)}function _a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gv(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||mN.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function FA(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Gv(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Gv(e,r,t[r])}function ag(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ju(e){return gN.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var ym=null;function og(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hr=null,ra=null;function Kv(e){var t=Ua(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;t:switch(e=t.stateNode,t.type){case"input":if(pm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Be]||null;if(!s)throw Error(L(90));pm(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&jA(i)}break t;case"textarea":zA(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&sa(e,!!n.multiple,t,!1)}}}var Xf=!1;function HA(e,t,n){if(Xf)return e(t,n);Xf=!0;try{var i=e(t);return i}finally{if(Xf=!1,(Hr!==null||ra!==null)&&(Fh(),Hr&&(t=Hr,e=ra,ra=Hr=null,Kv(t),e)))for(t=0;t<e.length;t++)Kv(e[t])}}function cl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Be]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vm=!1;if(pi)try{var To={};Object.defineProperty(To,"passive",{get:function(){vm=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{vm=!1}var Yi=null,lg=null,tc=null;function qA(){if(tc)return tc;var e,t=lg,n=t.length,i,s="value"in Yi?Yi.value:Yi.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return tc=s.slice(e,1<i?1-i:void 0)}function ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function Yv(){return!1}function Fe(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Vu:Yv,this.isPropagationStopped=Yv,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=Fe(_r),Kl=Nt({},_r,{view:0,detail:0}),yN=Fe(Kl),Wf,Zf,bo,Vh=Nt({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(Wf=e.screenX-bo.screenX,Zf=e.screenY-bo.screenY):Zf=Wf=0,bo=e),Wf)},movementY:function(e){return"movementY"in e?e.movementY:Zf}}),$v=Fe(Vh),vN=Nt({},Vh,{dataTransfer:0}),_N=Fe(vN),TN=Nt({},Kl,{relatedTarget:0}),Jf=Fe(TN),bN=Nt({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),EN=Fe(bN),AN=Nt({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SN=Fe(AN),wN=Nt({},_r,{data:0}),Qv=Fe(wN),xN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CN[e])?!!t[e]:!1}function ug(){return IN}var NN=Nt({},Kl,{key:function(e){if(e.key){var t=xN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(e){return e.type==="keypress"?ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DN=Fe(NN),VN=Nt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=Fe(VN),MN=Nt({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),ON=Fe(MN),PN=Nt({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=Fe(PN),LN=Nt({},Vh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jN=Fe(LN),UN=Nt({},_r,{newState:0,oldState:0}),zN=Fe(UN),BN=[9,13,27,32],cg=pi&&"CompositionEvent"in window,Uo=null;pi&&"documentMode"in document&&(Uo=document.documentMode);var FN=pi&&"TextEvent"in window&&!Uo,GA=pi&&(!cg||Uo&&8<Uo&&11>=Uo),Wv=" ",Zv=!1;function KA(e,t){switch(e){case"keyup":return BN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qr=!1;function HN(e,t){switch(e){case"compositionend":return YA(t);case"keypress":return t.which!==32?null:(Zv=!0,Wv);case"textInput":return e=t.data,e===Wv&&Zv?null:e;default:return null}}function qN(e,t){if(qr)return e==="compositionend"||!cg&&KA(e,t)?(e=qA(),tc=lg=Yi=null,qr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GA&&t.locale!=="ko"?null:t.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GN[e.type]:t==="textarea"}function $A(e,t,n,i){Hr?ra?ra.push(i):ra=[i]:Hr=i,t=Qc(t,"onChange"),0<t.length&&(n=new Dh("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var zo=null,hl=null;function KN(e){Hw(e,0)}function Mh(e){var t=No(e);if(jA(t))return e}function t_(e,t){if(e==="change")return t}var QA=!1;if(pi){var td;if(pi){var ed="oninput"in document;if(!ed){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),ed=typeof e_.oninput=="function"}td=ed}else td=!1;QA=td&&(!document.documentMode||9<document.documentMode)}function n_(){zo&&(zo.detachEvent("onpropertychange",XA),hl=zo=null)}function XA(e){if(e.propertyName==="value"&&Mh(hl)){var t=[];$A(t,hl,e,og(e)),HA(KN,t)}}function YN(e,t,n){e==="focusin"?(n_(),zo=t,hl=n,zo.attachEvent("onpropertychange",XA)):e==="focusout"&&n_()}function $N(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mh(hl)}function QN(e,t){if(e==="click")return Mh(t)}function XN(e,t){if(e==="input"||e==="change")return Mh(t)}function WN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:WN;function fl(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!fm.call(t,s)||!en(e[s],t[s]))return!1}return!0}function i_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s_(e,t){var n=i_(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=i_(n)}}function WA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZA(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dc(e.document)}return t}function hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ZN=pi&&"documentMode"in document&&11>=document.documentMode,Gr=null,_m=null,Bo=null,Tm=!1;function r_(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tm||Gr==null||Gr!==Dc(i)||(i=Gr,"selectionStart"in i&&hg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Bo&&fl(Bo,i)||(Bo=i,i=Qc(_m,"onSelect"),0<i.length&&(t=new Dh("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Gr)))}function Ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},nd={},JA={};pi&&(JA=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function Tr(e){if(nd[e])return nd[e];if(!Kr[e])return e;var t=Kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in JA)return nd[e]=t[n];return e}var tS=Tr("animationend"),eS=Tr("animationiteration"),nS=Tr("animationstart"),JN=Tr("transitionrun"),tD=Tr("transitionstart"),eD=Tr("transitioncancel"),iS=Tr("transitionend"),sS=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function Dn(e,t){sS.set(e,t),vr(t,[e])}var Vc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},on=[],Yr=0,fg=0;function Oh(){for(var e=Yr,t=fg=Yr=0;t<e;){var n=on[t];on[t++]=null;var i=on[t];on[t++]=null;var s=on[t];on[t++]=null;var r=on[t];if(on[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&rS(n,s,r)}}function Ph(e,t,n,i){on[Yr++]=e,on[Yr++]=t,on[Yr++]=n,on[Yr++]=i,fg|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function dg(e,t,n,i){return Ph(e,t,n,i),Mc(e)}function br(e,t){return Ph(e,null,null,t),Mc(e)}function rS(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Ze(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function Mc(e){if(50<Xo)throw Xo=0,Fm=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $r={};function nD(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,n,i){return new nD(e,t,n,i)}function mg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fi(e,t){var n=e.alternate;return n===null?(n=Ye(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function aS(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nc(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")mg(e)&&(a=1);else if(typeof e=="string")a=oV(e,n,Un.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case lm:return e=Ye(31,n,t,s),e.elementType=lm,e.lanes=r,e;case zr:return Ws(n.children,s,r,t);case wA:a=8,s|=24;break;case rm:return e=Ye(12,n,t,s|2),e.elementType=rm,e.lanes=r,e;case am:return e=Ye(13,n,t,s),e.elementType=am,e.lanes=r,e;case om:return e=Ye(19,n,t,s),e.elementType=om,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oi:a=10;break t;case xA:a=9;break t;case tg:a=11;break t;case eg:a=14;break t;case Li:a=16,i=null;break t}a=29,n=Error(L(130,e===null?"null":typeof e,"")),i=null}return t=Ye(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Ws(e,t,n,i){return e=Ye(7,e,i,t),e.lanes=n,e}function id(e,t,n){return e=Ye(6,e,null,t),e.lanes=n,e}function oS(e){var t=Ye(18,null,null,0);return t.stateNode=e,t}function sd(e,t,n){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var a_=new WeakMap;function fn(e,t){if(typeof e=="object"&&e!==null){var n=a_.get(e);return n!==void 0?n:(t={value:e,source:t,stack:zv(t)},a_.set(e,t),t)}return{value:e,source:t,stack:zv(t)}}var Qr=[],Xr=0,Oc=null,dl=0,un=[],cn=0,fs=null,kn=1,Ln="";function si(e,t){Qr[Xr++]=dl,Qr[Xr++]=Oc,Oc=e,dl=t}function lS(e,t,n){un[cn++]=kn,un[cn++]=Ln,un[cn++]=fs,fs=e;var i=kn;e=Ln;var s=32-Ze(i)-1;i&=~(1<<s),n+=1;var r=32-Ze(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,kn=1<<32-Ze(t)+s|n<<s|i,Ln=r+e}else kn=1<<r|n<<s|i,Ln=e}function pg(e){e.return!==null&&(si(e,1),lS(e,1,0))}function gg(e){for(;e===Oc;)Oc=Qr[--Xr],Qr[Xr]=null,dl=Qr[--Xr],Qr[Xr]=null;for(;e===fs;)fs=un[--cn],un[cn]=null,Ln=un[--cn],un[cn]=null,kn=un[--cn],un[cn]=null}function uS(e,t){un[cn++]=kn,un[cn++]=Ln,un[cn++]=fs,kn=t.id,Ln=t.overflow,fs=e}var me=null,Rt=null,ct=!1,Ji=null,dn=!1,Em=Error(L(519));function ds(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(fn(t,e)),Em}function o_(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[de]=e,t[Be]=i,n){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(n=0;n<vl.length;n++)st(vl[n],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),UA(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),BA(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Gw(t.textContent,n)?(i.popover!=null&&(st("beforetoggle",t),st("toggle",t)),i.onScroll!=null&&st("scroll",t),i.onScrollEnd!=null&&st("scrollend",t),i.onClick!=null&&(t.onclick=li),t=!0):t=!1,t||ds(e,!0)}function l_(e){for(me=e.return;me;)switch(me.tag){case 5:case 31:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:me=me.return}}function Dr(e){if(e!==me)return!1;if(!ct)return l_(e),ct=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ym(e.type,e.memoizedProps)),n=!n),n&&Rt&&ds(e),l_(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Rt=$_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Rt=$_(e)}else t===27?(t=Rt,xs(e.type)?(e=Wm,Wm=null,Rt=e):Rt=t):Rt=me?yn(e.stateNode.nextSibling):null;return!0}function ar(){Rt=me=null,ct=!1}function rd(){var e=Ji;return e!==null&&(ke===null?ke=e:ke.push.apply(ke,e),Ji=null),e}function ml(e){Ji===null?Ji=[e]:Ji.push(e)}var Am=Xn(null),Er=null,ui=null;function Ui(e,t,n){St(Am,t._currentValue),t._currentValue=n}function di(e){e._currentValue=Am.current,le(Am)}function Sm(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wm(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Sm(r.return,n,e),i||(a=null);break t}r=o.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Sm(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function za(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var o=s.type;en(s.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(s===Rc.current){if(a=s.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}s=s.return}e!==null&&wm(t,e,n,i),t.flags|=262144}function Pc(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function or(e){Er=e,ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ge(e){return cS(Er,e)}function Mu(e,t){return Er===null&&or(e),cS(e,t)}function cS(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},ui===null){if(e===null)throw Error(L(308));ui=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ui=ui.next=t;return n}var iD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},sD=ie.unstable_scheduleCallback,rD=ie.unstable_NormalPriority,$t={$$typeof:oi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yg(){return{controller:new iD,data:new Map,refCount:0}}function Yl(e){e.refCount--,e.refCount===0&&sD(rD,function(){e.controller.abort()})}var Fo=null,xm=0,Ta=0,aa=null;function aD(e,t){if(Fo===null){var n=Fo=[];xm=0,Ta=Fg(),aa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return xm++,t.then(u_,u_),t}function u_(){if(--xm===0&&Fo!==null){aa!==null&&(aa.status="fulfilled");var e=Fo;Fo=null,Ta=0,aa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oD(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var c_=W.S;W.S=function(e,t){Sw=Xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&aD(e,t),c_!==null&&c_(e,t)};var Zs=Xn(null);function vg(){var e=Zs.current;return e!==null?e:Et.pooledCache}function ic(e,t){t===null?St(Zs,Zs.current):St(Zs,t.pool)}function hS(){var e=vg();return e===null?null:{parent:$t._currentValue,pool:e}}var Ba=Error(L(460)),_g=Error(L(474)),kh=Error(L(542)),kc={then:function(){}};function h_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fS(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(li,li),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,d_(e),e;default:if(typeof t.status=="string")t.then(li,li);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,d_(e),e}throw Js=t,Ba}}function Bs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Js=n,Ba):n}}var Js=null;function f_(){if(Js===null)throw Error(L(459));var e=Js;return Js=null,e}function d_(e){if(e===Ba||e===kh)throw Error(L(483))}var oa=null,pl=0;function Ou(e){var t=pl;return pl+=1,oa===null&&(oa=[]),fS(oa,e,t)}function Eo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pu(e,t){throw t.$$typeof===Y2?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function dS(e){function t(v,T){if(e){var S=v.deletions;S===null?(v.deletions=[T],v.flags|=16):S.push(T)}}function n(v,T){if(!e)return null;for(;T!==null;)t(v,T),T=T.sibling;return null}function i(v){for(var T=new Map;v!==null;)v.key!==null?T.set(v.key,v):T.set(v.index,v),v=v.sibling;return T}function s(v,T){return v=fi(v,T),v.index=0,v.sibling=null,v}function r(v,T,S){return v.index=S,e?(S=v.alternate,S!==null?(S=S.index,S<T?(v.flags|=67108866,T):S):(v.flags|=67108866,T)):(v.flags|=1048576,T)}function a(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function o(v,T,S,N){return T===null||T.tag!==6?(T=id(S,v.mode,N),T.return=v,T):(T=s(T,S),T.return=v,T)}function u(v,T,S,N){var P=S.type;return P===zr?h(v,T,S.props.children,N,S.key):T!==null&&(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Li&&Bs(P)===T.type)?(T=s(T,S.props),Eo(T,S),T.return=v,T):(T=nc(S.type,S.key,S.props,null,v.mode,N),Eo(T,S),T.return=v,T)}function c(v,T,S,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=sd(S,v.mode,N),T.return=v,T):(T=s(T,S.children||[]),T.return=v,T)}function h(v,T,S,N,P){return T===null||T.tag!==7?(T=Ws(S,v.mode,N,P),T.return=v,T):(T=s(T,S),T.return=v,T)}function d(v,T,S){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=id(""+T,v.mode,S),T.return=v,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ru:return S=nc(T.type,T.key,T.props,null,v.mode,S),Eo(S,T),S.return=v,S;case Co:return T=sd(T,v.mode,S),T.return=v,T;case Li:return T=Bs(T),d(v,T,S)}if(Io(T)||_o(T))return T=Ws(T,v.mode,S,null),T.return=v,T;if(typeof T.then=="function")return d(v,Ou(T),S);if(T.$$typeof===oi)return d(v,Mu(v,T),S);Pu(v,T)}return null}function m(v,T,S,N){var P=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return P!==null?null:o(v,T,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ru:return S.key===P?u(v,T,S,N):null;case Co:return S.key===P?c(v,T,S,N):null;case Li:return S=Bs(S),m(v,T,S,N)}if(Io(S)||_o(S))return P!==null?null:h(v,T,S,N,null);if(typeof S.then=="function")return m(v,T,Ou(S),N);if(S.$$typeof===oi)return m(v,T,Mu(v,S),N);Pu(v,S)}return null}function g(v,T,S,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return v=v.get(S)||null,o(T,v,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ru:return v=v.get(N.key===null?S:N.key)||null,u(T,v,N,P);case Co:return v=v.get(N.key===null?S:N.key)||null,c(T,v,N,P);case Li:return N=Bs(N),g(v,T,S,N,P)}if(Io(N)||_o(N))return v=v.get(S)||null,h(T,v,N,P,null);if(typeof N.then=="function")return g(v,T,S,Ou(N),P);if(N.$$typeof===oi)return g(v,T,S,Mu(T,N),P);Pu(T,N)}return null}function w(v,T,S,N){for(var P=null,z=null,E=T,_=T=0,A=null;E!==null&&_<S.length;_++){E.index>_?(A=E,E=null):A=E.sibling;var x=m(v,E,S[_],N);if(x===null){E===null&&(E=A);break}e&&E&&x.alternate===null&&t(v,E),T=r(x,T,_),z===null?P=x:z.sibling=x,z=x,E=A}if(_===S.length)return n(v,E),ct&&si(v,_),P;if(E===null){for(;_<S.length;_++)E=d(v,S[_],N),E!==null&&(T=r(E,T,_),z===null?P=E:z.sibling=E,z=E);return ct&&si(v,_),P}for(E=i(E);_<S.length;_++)A=g(E,v,_,S[_],N),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?_:A.key),T=r(A,T,_),z===null?P=A:z.sibling=A,z=A);return e&&E.forEach(function(C){return t(v,C)}),ct&&si(v,_),P}function I(v,T,S,N){if(S==null)throw Error(L(151));for(var P=null,z=null,E=T,_=T=0,A=null,x=S.next();E!==null&&!x.done;_++,x=S.next()){E.index>_?(A=E,E=null):A=E.sibling;var C=m(v,E,x.value,N);if(C===null){E===null&&(E=A);break}e&&E&&C.alternate===null&&t(v,E),T=r(C,T,_),z===null?P=C:z.sibling=C,z=C,E=A}if(x.done)return n(v,E),ct&&si(v,_),P;if(E===null){for(;!x.done;_++,x=S.next())x=d(v,x.value,N),x!==null&&(T=r(x,T,_),z===null?P=x:z.sibling=x,z=x);return ct&&si(v,_),P}for(E=i(E);!x.done;_++,x=S.next())x=g(E,v,_,x.value,N),x!==null&&(e&&x.alternate!==null&&E.delete(x.key===null?_:x.key),T=r(x,T,_),z===null?P=x:z.sibling=x,z=x);return e&&E.forEach(function(V){return t(v,V)}),ct&&si(v,_),P}function D(v,T,S,N){if(typeof S=="object"&&S!==null&&S.type===zr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ru:t:{for(var P=S.key;T!==null;){if(T.key===P){if(P=S.type,P===zr){if(T.tag===7){n(v,T.sibling),N=s(T,S.props.children),N.return=v,v=N;break t}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Li&&Bs(P)===T.type){n(v,T.sibling),N=s(T,S.props),Eo(N,S),N.return=v,v=N;break t}n(v,T);break}else t(v,T);T=T.sibling}S.type===zr?(N=Ws(S.props.children,v.mode,N,S.key),N.return=v,v=N):(N=nc(S.type,S.key,S.props,null,v.mode,N),Eo(N,S),N.return=v,v=N)}return a(v);case Co:t:{for(P=S.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){n(v,T.sibling),N=s(T,S.children||[]),N.return=v,v=N;break t}else{n(v,T);break}else t(v,T);T=T.sibling}N=sd(S,v.mode,N),N.return=v,v=N}return a(v);case Li:return S=Bs(S),D(v,T,S,N)}if(Io(S))return w(v,T,S,N);if(_o(S)){if(P=_o(S),typeof P!="function")throw Error(L(150));return S=P.call(S),I(v,T,S,N)}if(typeof S.then=="function")return D(v,T,Ou(S),N);if(S.$$typeof===oi)return D(v,T,Mu(v,S),N);Pu(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,T!==null&&T.tag===6?(n(v,T.sibling),N=s(T,S),N.return=v,v=N):(n(v,T),N=id(S,v.mode,N),N.return=v,v=N),a(v)):n(v,T)}return function(v,T,S,N){try{pl=0;var P=D(v,T,S,N);return oa=null,P}catch(E){if(E===Ba||E===kh)throw E;var z=Ye(29,E,null,v.mode);return z.lanes=N,z.return=v,z}finally{}}}var lr=dS(!0),mS=dS(!1),ji=!1;function Tg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function es(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Mc(e),rS(e,null,n),t}return Ph(e,i,t,n),Mc(e)}function Ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,VA(e,n)}}function ad(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Cm=!1;function qo(){if(Cm){var e=aa;if(e!==null)throw e}}function Go(e,t,n,i){Cm=!1;var s=e.updateQueue;ji=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?r=c:a.next=c,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(r!==null){var d=s.baseState;a=0,h=c=u=null,o=r;do{var m=o.lane&-536870913,g=m!==o.lane;if(g?(ut&m)===m:(i&m)===m){m!==0&&m===Ta&&(Cm=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var w=e,I=o;m=t;var D=n;switch(I.tag){case 1:if(w=I.payload,typeof w=="function"){d=w.call(D,d,m);break t}d=w;break t;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,m=typeof w=="function"?w.call(D,d,m):w,m==null)break t;d=Nt({},d,m);break t;case 2:ji=!0}}m=o.callback,m!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[m]:g.push(m))}else g={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=g,u=d):h=h.next=g,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);h===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,r===null&&(s.shared.lanes=0),ps|=a,e.lanes=a,e.memoizedState=d}}function pS(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function gS(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)pS(n[e],t)}var ba=Xn(null),Lc=Xn(0);function m_(e,t){e=_i,St(Lc,e),St(ba,t),_i=e|t.baseLanes}function Im(){St(Lc,_i),St(ba,ba.current)}function bg(){_i=Lc.current,le(ba),le(Lc)}var nn=Xn(null),gn=null;function zi(e){var t=e.alternate;St(Bt,Bt.current&1),St(nn,e),gn===null&&(t===null||ba.current!==null||t.memoizedState!==null)&&(gn=e)}function Nm(e){St(Bt,Bt.current),St(nn,e),gn===null&&(gn=e)}function yS(e){e.tag===22?(St(Bt,Bt.current),St(nn,e),gn===null&&(gn=e)):Bi()}function Bi(){St(Bt,Bt.current),St(nn,nn.current)}function Ke(e){le(nn),gn===e&&(gn=null),le(Bt)}var Bt=Xn(0);function jc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qm(n)||Xm(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gi=0,nt=null,_t=null,Kt=null,Uc=!1,la=!1,ur=!1,zc=0,gl=0,ua=null,lD=0;function kt(){throw Error(L(321))}function Eg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Ag(e,t,n,i,s,r){return gi=r,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?$S:Og,ur=!1,r=n(i,s),ur=!1,la&&(r=_S(t,n,i,s)),vS(e),r}function vS(e){W.H=yl;var t=_t!==null&&_t.next!==null;if(gi=0,Kt=_t=nt=null,Uc=!1,gl=0,ua=null,t)throw Error(L(300));e===null||Xt||(e=e.dependencies,e!==null&&Pc(e)&&(Xt=!0))}function _S(e,t,n,i){nt=e;var s=0;do{if(la&&(ua=null),gl=0,la=!1,25<=s)throw Error(L(301));if(s+=1,Kt=_t=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}W.H=QS,r=t(n,i)}while(la);return r}function uD(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?$l(t):t,e=e.useState()[0],(_t!==null?_t.memoizedState:null)!==e&&(nt.flags|=1024),t}function Sg(){var e=zc!==0;return zc=0,e}function wg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function xg(e){if(Uc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Uc=!1}gi=0,Kt=_t=nt=null,la=!1,gl=zc=0,ua=null}function Re(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?nt.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Ft(){if(_t===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Kt===null?nt.memoizedState:Kt.next;if(t!==null)Kt=t,_t=e;else{if(e===null)throw nt.alternate===null?Error(L(467)):Error(L(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Kt===null?nt.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(e){var t=gl;return gl+=1,ua===null&&(ua=[]),e=fS(ua,e,t),t=nt,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?$S:Og),e}function jh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $l(e);if(e.$$typeof===oi)return ge(e)}throw Error(L(438,String(e)))}function Rg(e){var t=null,n=nt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=nt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Lh(),nt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=$2;return t.index++,n}function yi(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=Ft();return Cg(t,_t,e)}function Cg(e,t,n){var i=e.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var o=a=null,u=null,c=t,h=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(ut&d)===d:(gi&d)===d){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===Ta&&(h=!0);else if((gi&m)===m){c=c.next,m===Ta&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=d,a=r):u=u.next=d,nt.lanes|=m,ps|=m;d=c.action,ur&&n(r,d),r=c.hasEagerState?c.eagerState:n(r,d)}else m={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,a=r):u=u.next=m,nt.lanes|=d,ps|=d;c=c.next}while(c!==null&&c!==t);if(u===null?a=r:u.next=o,!en(r,e.memoizedState)&&(Xt=!0,h&&(n=aa,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function od(e){var t=Ft(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);en(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function TS(e,t,n){var i=nt,s=Ft(),r=ct;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=t();var a=!en((_t||s).memoizedState,n);if(a&&(s.memoizedState=n,Xt=!0),s=s.queue,Ig(AS.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Kt!==null&&Kt.memoizedState.tag&1){if(i.flags|=2048,Ea(9,{destroy:void 0},ES.bind(null,i,s,n,t),null),Et===null)throw Error(L(349));r||gi&127||bS(i,t,n)}return n}function bS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t=Lh(),nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ES(e,t,n,i){t.value=n,t.getSnapshot=i,SS(t)&&wS(e)}function AS(e,t,n){return n(function(){SS(t)&&wS(e)})}function SS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function wS(e){var t=br(e,2);t!==null&&ze(t,e,2)}function Dm(e){var t=Re();if(typeof e=="function"){var n=e;if(e=n(),ur){Ki(!0);try{n()}finally{Ki(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t}function xS(e,t,n,i){return e.baseState=n,Cg(e,_t,typeof i=="function"?i:yi)}function cD(e,t,n,i,s){if(zh(e))throw Error(L(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};W.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,RS(t,r)):(r.next=n.next,t.pending=n.next=r)}}function RS(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=W.T,a={};W.T=a;try{var o=n(s,i),u=W.S;u!==null&&u(a,o),p_(e,t,o)}catch(c){Vm(e,t,c)}finally{r!==null&&a.types!==null&&(r.types=a.types),W.T=r}}else try{r=n(s,i),p_(e,t,r)}catch(c){Vm(e,t,c)}}function p_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){g_(e,t,i)},function(i){return Vm(e,t,i)}):g_(e,t,n)}function g_(e,t,n){t.status="fulfilled",t.value=n,CS(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,RS(e,n)))}function Vm(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,CS(t),t=t.next;while(t!==i)}e.action=null}function CS(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function IS(e,t){return t}function y_(e,t){if(ct){var n=Et.formState;if(n!==null){t:{var i=nt;if(ct){if(Rt){e:{for(var s=Rt,r=dn;s.nodeType!==8;){if(!r){s=null;break e}if(s=yn(s.nextSibling),s===null){s=null;break e}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Rt=yn(s.nextSibling),i=s.data==="F!";break t}}ds(i)}i=!1}i&&(t=n[0])}}return n=Re(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:IS,lastRenderedState:t},n.queue=i,n=GS.bind(null,nt,i),i.dispatch=n,i=Dm(!1),r=Mg.bind(null,nt,!1,i.queue),i=Re(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=cD.bind(null,nt,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function v_(e){var t=Ft();return NS(t,_t,e)}function NS(e,t,n){if(t=Cg(e,t,IS)[0],e=sc(yi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=$l(t)}catch(a){throw a===Ba?kh:a}else i=t;t=Ft();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(nt.flags|=2048,Ea(9,{destroy:void 0},hD.bind(null,s,n),null)),[i,r,e]}function hD(e,t){e.action=t}function __(e){var t=Ft(),n=_t;if(n!==null)return NS(t,n,e);Ft(),t=t.memoizedState,n=Ft();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Ea(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=nt.updateQueue,t===null&&(t=Lh(),nt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function DS(){return Ft().memoizedState}function rc(e,t,n,i){var s=Re();nt.flags|=e,s.memoizedState=Ea(1|t,{destroy:void 0},n,i===void 0?null:i)}function Uh(e,t,n,i){var s=Ft();i=i===void 0?null:i;var r=s.memoizedState.inst;_t!==null&&i!==null&&Eg(i,_t.memoizedState.deps)?s.memoizedState=Ea(t,r,n,i):(nt.flags|=e,s.memoizedState=Ea(1|t,r,n,i))}function T_(e,t){rc(8390656,8,e,t)}function Ig(e,t){Uh(2048,8,e,t)}function fD(e){nt.flags|=4;var t=nt.updateQueue;if(t===null)t=Lh(),nt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function VS(e){var t=Ft().memoizedState;return fD({ref:t,nextImpl:e}),function(){if(dt&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function MS(e,t){return Uh(4,2,e,t)}function OS(e,t){return Uh(4,4,e,t)}function PS(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kS(e,t,n){n=n!=null?n.concat([e]):null,Uh(4,4,PS.bind(null,t,e),n)}function Ng(){}function LS(e,t){var n=Ft();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Eg(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function jS(e,t){var n=Ft();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Eg(t,i[1]))return i[0];if(i=e(),ur){Ki(!0);try{e()}finally{Ki(!1)}}return n.memoizedState=[i,t],i}function Dg(e,t,n){return n===void 0||gi&1073741824&&!(ut&261930)?e.memoizedState=t:(e.memoizedState=n,e=xw(),nt.lanes|=e,ps|=e,n)}function US(e,t,n,i){return en(n,t)?n:ba.current!==null?(e=Dg(e,n,i),en(e,t)||(Xt=!0),e):!(gi&42)||gi&1073741824&&!(ut&261930)?(Xt=!0,e.memoizedState=n):(e=xw(),nt.lanes|=e,ps|=e,t)}function zS(e,t,n,i,s){var r=mt.p;mt.p=r!==0&&8>r?r:8;var a=W.T,o={};W.T=o,Mg(e,!1,t,n);try{var u=s(),c=W.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=oD(u,i);Ko(e,t,h,Je(e))}else Ko(e,t,i,Je(e))}catch(d){Ko(e,t,{then:function(){},status:"rejected",reason:d},Je())}finally{mt.p=r,a!==null&&o.types!==null&&(a.types=o.types),W.T=a}}function dD(){}function Mm(e,t,n,i){if(e.tag!==5)throw Error(L(476));var s=BS(e).queue;zS(e,s,t,Xs,n===null?dD:function(){return FS(e),n(i)})}function BS(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Xs,baseState:Xs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:Xs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function FS(e){var t=BS(e);t.next===null&&(t=e.alternate.memoizedState),Ko(e,t.next.queue,{},Je())}function Vg(){return ge(Tl)}function HS(){return Ft().memoizedState}function qS(){return Ft().memoizedState}function mD(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Je();e=ts(n);var i=es(t,e,n);i!==null&&(ze(i,t,n),Ho(i,t,n)),t={cache:yg()},e.payload=t;return}t=t.return}}function pD(e,t,n){var i=Je();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},zh(e)?KS(t,n):(n=dg(e,t,n,i),n!==null&&(ze(n,e,i),YS(n,t,i)))}function GS(e,t,n){var i=Je();Ko(e,t,n,i)}function Ko(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(zh(e))KS(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,en(o,a))return Ph(e,t,s,0),Et===null&&Oh(),!1}catch{}finally{}if(n=dg(e,t,s,i),n!==null)return ze(n,e,i),YS(n,t,i),!0}return!1}function Mg(e,t,n,i){if(i={lane:2,revertLane:Fg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},zh(e)){if(t)throw Error(L(479))}else t=dg(e,n,i,2),t!==null&&ze(t,e,2)}function zh(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function KS(e,t){la=Uc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YS(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,VA(e,n)}}var yl={readContext:ge,use:jh,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};yl.useEffectEvent=kt;var $S={readContext:ge,use:jh,useCallback:function(e,t){return Re().memoizedState=[e,t===void 0?null:t],e},useContext:ge,useEffect:T_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,rc(4194308,4,PS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){rc(4,2,e,t)},useMemo:function(e,t){var n=Re();t=t===void 0?null:t;var i=e();if(ur){Ki(!0);try{e()}finally{Ki(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Re();if(n!==void 0){var s=n(t);if(ur){Ki(!0);try{n(t)}finally{Ki(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=pD.bind(null,nt,e),[i.memoizedState,e]},useRef:function(e){var t=Re();return e={current:e},t.memoizedState=e},useState:function(e){e=Dm(e);var t=e.queue,n=GS.bind(null,nt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ng,useDeferredValue:function(e,t){var n=Re();return Dg(n,e,t)},useTransition:function(){var e=Dm(!1);return e=zS.bind(null,nt,e.queue,!0,!1),Re().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=nt,s=Re();if(ct){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Et===null)throw Error(L(349));ut&127||bS(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,T_(AS.bind(null,i,r,e),[e]),i.flags|=2048,Ea(9,{destroy:void 0},ES.bind(null,i,r,n,t),null),n},useId:function(){var e=Re(),t=Et.identifierPrefix;if(ct){var n=Ln,i=kn;n=(i&~(1<<32-Ze(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=zc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=lD++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Vg,useFormState:y_,useActionState:y_,useOptimistic:function(e){var t=Re();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Mg.bind(null,nt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Rg,useCacheRefresh:function(){return Re().memoizedState=mD.bind(null,nt)},useEffectEvent:function(e){var t=Re(),n={impl:e};return t.memoizedState=n,function(){if(dt&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Og={readContext:ge,use:jh,useCallback:LS,useContext:ge,useEffect:Ig,useImperativeHandle:kS,useInsertionEffect:MS,useLayoutEffect:OS,useMemo:jS,useReducer:sc,useRef:DS,useState:function(){return sc(yi)},useDebugValue:Ng,useDeferredValue:function(e,t){var n=Ft();return US(n,_t.memoizedState,e,t)},useTransition:function(){var e=sc(yi)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:$l(e),t]},useSyncExternalStore:TS,useId:HS,useHostTransitionStatus:Vg,useFormState:v_,useActionState:v_,useOptimistic:function(e,t){var n=Ft();return xS(n,_t,e,t)},useMemoCache:Rg,useCacheRefresh:qS};Og.useEffectEvent=VS;var QS={readContext:ge,use:jh,useCallback:LS,useContext:ge,useEffect:Ig,useImperativeHandle:kS,useInsertionEffect:MS,useLayoutEffect:OS,useMemo:jS,useReducer:od,useRef:DS,useState:function(){return od(yi)},useDebugValue:Ng,useDeferredValue:function(e,t){var n=Ft();return _t===null?Dg(n,e,t):US(n,_t.memoizedState,e,t)},useTransition:function(){var e=od(yi)[0],t=Ft().memoizedState;return[typeof e=="boolean"?e:$l(e),t]},useSyncExternalStore:TS,useId:HS,useHostTransitionStatus:Vg,useFormState:__,useActionState:__,useOptimistic:function(e,t){var n=Ft();return _t!==null?xS(n,_t,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Rg,useCacheRefresh:qS};QS.useEffectEvent=VS;function ld(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Om={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Je(),s=ts(i);s.payload=t,n!=null&&(s.callback=n),t=es(e,s,i),t!==null&&(ze(t,e,i),Ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Je(),s=ts(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=es(e,s,i),t!==null&&(ze(t,e,i),Ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),i=ts(n);i.tag=2,t!=null&&(i.callback=t),t=es(e,i,n),t!==null&&(ze(t,e,n),Ho(t,e,n))}};function b_(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!fl(n,i)||!fl(s,r):!0}function E_(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Om.enqueueReplaceState(t,t.state,null)}function cr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Nt({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function XS(e){Vc(e)}function WS(e){console.error(e)}function ZS(e){Vc(e)}function Bc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function A_(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Pm(e,t,n){return n=ts(n),n.tag=3,n.payload={element:null},n.callback=function(){Bc(e,t)},n}function JS(e){return e=ts(e),e.tag=3,e}function tw(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){A_(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){A_(t,n,i),typeof s!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function gD(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&za(t,n,s,!0),n=nn.current,n!==null){switch(n.tag){case 31:case 13:return gn===null?Kc():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===kc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),_d(e,i,s)),!1;case 22:return n.flags|=65536,i===kc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),_d(e,i,s)),!1}throw Error(L(435,n.tag))}return _d(e,i,s),Kc(),!1}if(ct)return t=nn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Em&&(e=Error(L(422),{cause:i}),ml(fn(e,n)))):(i!==Em&&(t=Error(L(423),{cause:i}),ml(fn(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=fn(i,n),s=Pm(e.stateNode,i,s),ad(e,s),jt!==4&&(jt=2)),!1;var r=Error(L(520),{cause:i});if(r=fn(r,n),Qo===null?Qo=[r]:Qo.push(r),jt!==4&&(jt=2),t===null)return!0;i=fn(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Pm(n.stateNode,i,e),ad(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=JS(s),tw(s,e,n,i),ad(n,s),!1}n=n.return}while(n!==null);return!1}var Pg=Error(L(461)),Xt=!1;function ce(e,t,n,i){t.child=e===null?mS(t,null,n,i):lr(t,e.child,n,i)}function S_(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return or(t),i=Ag(e,t,n,a,r,s),o=Sg(),e!==null&&!Xt?(wg(e,t,s),vi(e,t,s)):(ct&&o&&pg(t),t.flags|=1,ce(e,t,i,s),t.child)}function w_(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!mg(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,ew(e,t,r,i,s)):(e=nc(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!kg(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:fl,n(a,i)&&e.ref===t.ref)return vi(e,t,s)}return t.flags|=1,e=fi(r,i),e.ref=t.ref,e.return=t,t.child=e}function ew(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(fl(r,i)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=i=r,kg(e,s))e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,vi(e,t,s)}return km(e,t,n,i,s)}function nw(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return x_(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ic(t,r!==null?r.cachePool:null),r!==null?m_(t,r):Im(),yS(t);else return i=t.lanes=536870912,x_(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(ic(t,r.cachePool),m_(t,r),Bi(),t.memoizedState=null):(e!==null&&ic(t,null),Im(),Bi());return ce(e,t,s,n),t.child}function Do(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function x_(e,t,n,i,s){var r=vg();return r=r===null?null:{parent:$t._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&ic(t,null),Im(),yS(t),e!==null&&za(e,t,i,!0),t.childLanes=s,null}function ac(e,t){return t=Fc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function R_(e,t,n){return lr(t,e.child,null,n),e=ac(t,t.pendingProps),e.flags|=2,Ke(t),t.memoizedState=null,e}function yD(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ct){if(i.mode==="hidden")return e=ac(t,i),t.lanes=536870912,Do(null,e);if(Nm(t),(e=Rt)?(e=$w(e,dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fs!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=oS(e),n.return=t,t.child=n,me=t,Rt=null)):e=null,e===null)throw ds(t);return t.lanes=536870912,null}return ac(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(Nm(t),s)if(t.flags&256)t.flags&=-257,t=R_(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Xt||za(e,t,n,!1),s=(n&e.childLanes)!==0,Xt||s){if(i=Et,i!==null&&(a=MA(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,br(e,a),ze(i,e,a),Pg;Kc(),t=R_(e,t,n)}else e=r.treeContext,Rt=yn(a.nextSibling),me=t,ct=!0,Ji=null,dn=!1,e!==null&&uS(t,e),t=ac(t,i),t.flags|=4096;return t}return e=fi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function km(e,t,n,i,s){return or(t),n=Ag(e,t,n,i,void 0,s),i=Sg(),e!==null&&!Xt?(wg(e,t,s),vi(e,t,s)):(ct&&i&&pg(t),t.flags|=1,ce(e,t,n,s),t.child)}function C_(e,t,n,i,s,r){return or(t),t.updateQueue=null,n=_S(t,i,n,s),vS(e),i=Sg(),e!==null&&!Xt?(wg(e,t,r),vi(e,t,r)):(ct&&i&&pg(t),t.flags|=1,ce(e,t,n,r),t.child)}function I_(e,t,n,i,s){if(or(t),t.stateNode===null){var r=$r,a=n.contextType;typeof a=="object"&&a!==null&&(r=ge(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Om,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Tg(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?ge(a):$r,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ld(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Om.enqueueReplaceState(r,r.state,null),Go(t,i,r,s),qo(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=cr(n,o);r.props=u;var c=r.context,h=n.contextType;a=$r,typeof h=="object"&&h!==null&&(a=ge(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==a)&&E_(t,r,i,a),ji=!1;var m=t.memoizedState;r.state=m,Go(t,i,r,s),qo(),c=t.memoizedState,o||m!==c||ji?(typeof d=="function"&&(ld(t,n,d,i),c=t.memoizedState),(u=ji||b_(t,n,u,i,m,c,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Rm(e,t),a=t.memoizedProps,h=cr(n,a),r.props=h,d=t.pendingProps,m=r.context,c=n.contextType,u=$r,typeof c=="object"&&c!==null&&(u=ge(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==d||m!==u)&&E_(t,r,i,u),ji=!1,m=t.memoizedState,r.state=m,Go(t,i,r,s),qo();var g=t.memoizedState;a!==d||m!==g||ji||e!==null&&e.dependencies!==null&&Pc(e.dependencies)?(typeof o=="function"&&(ld(t,n,o,i),g=t.memoizedState),(h=ji||b_(t,n,h,i,m,g,u)||e!==null&&e.dependencies!==null&&Pc(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,g,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,g,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),r.props=i,r.state=g,r.context=u,i=h):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,oc(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=lr(t,e.child,null,s),t.child=lr(t,null,n,s)):ce(e,t,n,s),t.memoizedState=r.state,e=t.child):e=vi(e,t,s),e}function N_(e,t,n,i){return ar(),t.flags|=256,ce(e,t,n,i),t.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:hS()}}function hd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$e),e}function iw(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(Bt.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(s?zi(t):Bi(),(e=Rt)?(e=$w(e,dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:fs!==null?{id:kn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},n=oS(e),n.return=t,t.child=n,me=t,Rt=null)):e=null,e===null)throw ds(t);return Xm(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,s?(Bi(),s=t.mode,o=Fc({mode:"hidden",children:o},s),i=Ws(i,s,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=cd(n),i.childLanes=hd(e,a,n),t.memoizedState=ud,Do(null,i)):(zi(t),Lm(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(zi(t),t.flags&=-257,t=fd(e,t,n)):t.memoizedState!==null?(Bi(),t.child=e.child,t.flags|=128,t=null):(Bi(),o=i.fallback,s=t.mode,i=Fc({mode:"visible",children:i.children},s),o=Ws(o,s,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,lr(t,e.child,null,n),i=t.child,i.memoizedState=cd(n),i.childLanes=hd(e,a,n),t.memoizedState=ud,t=Do(null,i));else if(zi(t),Xm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(L(419)),i.stack="",i.digest=a,ml({value:i,source:null,stack:null}),t=fd(e,t,n)}else if(Xt||za(e,t,n,!1),a=(n&e.childLanes)!==0,Xt||a){if(a=Et,a!==null&&(i=MA(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,br(e,i),ze(a,e,i),Pg;Qm(o)||Kc(),t=fd(e,t,n)}else Qm(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Rt=yn(o.nextSibling),me=t,ct=!0,Ji=null,dn=!1,e!==null&&uS(t,e),t=Lm(t,i.children),t.flags|=4096);return t}return s?(Bi(),o=i.fallback,s=t.mode,u=e.child,c=u.sibling,i=fi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=fi(c,o):(o=Ws(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,Do(null,i),i=t.child,o=e.child.memoizedState,o===null?o=cd(n):(s=o.cachePool,s!==null?(u=$t._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=hS(),o={baseLanes:o.baseLanes|n,cachePool:s}),i.memoizedState=o,i.childLanes=hd(e,a,n),t.memoizedState=ud,Do(e.child,i)):(zi(t),n=e.child,e=n.sibling,n=fi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Lm(e,t){return t=Fc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fc(e,t){return e=Ye(22,e,null,t),e.lanes=0,e}function fd(e,t,n){return lr(t,e.child,null,n),e=Lm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function D_(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Sm(e.return,t,n)}function dd(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function sw(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=Bt.current,o=(a&2)!==0;if(o?(a=a&1|2,t.flags|=128):a&=1,St(Bt,a),ce(e,t,i,n),i=ct?dl:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D_(e,n,t);else if(e.tag===19)D_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&jc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dd(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dd(t,!0,n,null,r,i);break;case"together":dd(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function vi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ps|=t.lanes,!(n&t.childLanes))if(e!==null){if(za(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=fi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Pc(e)))}function vD(e,t,n){switch(t.tag){case 3:Cc(t,t.stateNode.containerInfo),Ui(t,$t,e.memoizedState.cache),ar();break;case 27:case 5:hm(t);break;case 4:Cc(t,t.stateNode.containerInfo);break;case 10:Ui(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Nm(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(zi(t),t.flags|=128,null):n&t.child.childLanes?iw(e,t,n):(zi(t),e=vi(e,t,n),e!==null?e.sibling:null);zi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(za(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return sw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),St(Bt,Bt.current),i)break;return null;case 22:return t.lanes=0,nw(e,t,n,t.pendingProps);case 24:Ui(t,$t,e.memoizedState.cache)}return vi(e,t,n)}function rw(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xt=!0;else{if(!kg(e,n)&&!(t.flags&128))return Xt=!1,vD(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,ct&&t.flags&1048576&&lS(t,dl,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Bs(t.elementType),t.type=e,typeof e=="function")mg(e)?(i=cr(e,i),t.tag=1,t=I_(null,t,e,i,n)):(t.tag=0,t=km(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===tg){t.tag=11,t=S_(null,t,e,i,n);break t}else if(s===eg){t.tag=14,t=w_(null,t,e,i,n);break t}}throw t=um(e)||e,Error(L(306,t,""))}}return t;case 0:return km(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=cr(i,t.pendingProps),I_(e,t,i,s,n);case 3:t:{if(Cc(t,t.stateNode.containerInfo),e===null)throw Error(L(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Rm(e,t),Go(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Ui(t,$t,i),i!==r.cache&&wm(t,[$t],n,!0),qo(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=N_(e,t,i,n);break t}else if(i!==s){s=fn(Error(L(424)),t),ml(s),t=N_(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rt=yn(e.firstChild),me=t,ct=!0,Ji=null,dn=!0,n=mS(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ar(),i===s){t=vi(e,t,n);break t}ce(e,t,i,n)}t=t.child}return t;case 26:return oc(e,t),e===null?(n=W_(t.type,null,t.pendingProps,null))?t.memoizedState=n:ct||(n=t.type,e=t.pendingProps,i=Xc(Zi.current).createElement(n),i[de]=t,i[Be]=e,ye(i,n,e),oe(i),t.stateNode=i):t.memoizedState=W_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hm(t),e===null&&ct&&(i=t.stateNode=Qw(t.type,t.pendingProps,Zi.current),me=t,dn=!0,s=Rt,xs(t.type)?(Wm=s,Rt=yn(i.firstChild)):Rt=s),ce(e,t,t.pendingProps.children,n),oc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((s=i=Rt)&&(i=$D(i,t.type,t.pendingProps,dn),i!==null?(t.stateNode=i,me=t,Rt=yn(i.firstChild),dn=!1,s=!0):s=!1),s||ds(t)),hm(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,Ym(s,r)?i=null:a!==null&&Ym(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Ag(e,t,uD,null,null,n),Tl._currentValue=s),oc(e,t),ce(e,t,i,n),t.child;case 6:return e===null&&ct&&((e=n=Rt)&&(n=QD(n,t.pendingProps,dn),n!==null?(t.stateNode=n,me=t,Rt=null,e=!0):e=!1),e||ds(t)),null;case 13:return iw(e,t,n);case 4:return Cc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=lr(t,null,i,n):ce(e,t,i,n),t.child;case 11:return S_(e,t,t.type,t.pendingProps,n);case 7:return ce(e,t,t.pendingProps,n),t.child;case 8:return ce(e,t,t.pendingProps.children,n),t.child;case 12:return ce(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ui(t,t.type,i.value),ce(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,or(t),s=ge(s),i=i(s),t.flags|=1,ce(e,t,i,n),t.child;case 14:return w_(e,t,t.type,t.pendingProps,n);case 15:return ew(e,t,t.type,t.pendingProps,n);case 19:return sw(e,t,n);case 31:return yD(e,t,n);case 22:return nw(e,t,n,t.pendingProps);case 24:return or(t),i=ge($t),e===null?(s=vg(),s===null&&(s=Et,r=yg(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Tg(t),Ui(t,$t,s)):(e.lanes&n&&(Rm(e,t),Go(t,null,null,n),qo()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ui(t,$t,i)):(i=r.cache,Ui(t,$t,i),i!==s.cache&&wm(t,[$t],n,!0))),ce(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function ti(e){e.flags|=4}function md(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Iw())e.flags|=8192;else throw Js=kc,_g}else e.flags&=-16777217}function V_(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Zw(t))if(Iw())e.flags|=8192;else throw Js=kc,_g}function ku(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?NA():536870912,e.lanes|=t,Aa|=t)}function Ao(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function _D(e,t,n){var i=t.pendingProps;switch(gg(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),di($t),ya(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dr(t)?ti(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rd())),xt(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(ti(t),r!==null?(xt(t),V_(t,r)):(xt(t),md(t,s,null,i,n))):r?r!==e.memoizedState?(ti(t),xt(t),V_(t,r)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ti(t),xt(t),md(t,s,e,i,n)),null;case 27:if(Ic(t),n=Zi.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return xt(t),null}e=Un.current,Dr(t)?o_(t):(e=Qw(s,i,n),t.stateNode=e,ti(t))}return xt(t),null;case 5:if(Ic(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(!i){if(t.stateNode===null)throw Error(L(166));return xt(t),null}if(r=Un.current,Dr(t))o_(t);else{var a=Xc(Zi.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[de]=t,r[Be]=i;t:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;t:switch(ye(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ti(t)}}return xt(t),md(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ti(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(L(166));if(e=Zi.current,Dr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=me,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[de]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Gw(e.nodeValue,n)),e||ds(t,!0)}else e=Xc(e).createTextNode(i),e[de]=t,t.stateNode=e}return xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Dr(t),n!==null){if(e===null){if(!i)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[de]=t}else ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else n=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ke(t),t):(Ke(t),null);if(t.flags&128)throw Error(L(558))}return xt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Dr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[de]=t}else ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),s=!1}else s=rd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ke(t),t):(Ke(t),null)}return Ke(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ku(t,t.updateQueue),xt(t),null);case 4:return ya(),e===null&&Hg(t.stateNode.containerInfo),xt(t),null;case 10:return di(t.type),xt(t),null;case 19:if(le(Bt),i=t.memoizedState,i===null)return xt(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Ao(i,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=jc(e),r!==null){for(t.flags|=128,Ao(i,!1),e=r.updateQueue,t.updateQueue=e,ku(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)aS(n,e),n=n.sibling;return St(Bt,Bt.current&1|2),ct&&si(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Xe()>qc&&(t.flags|=128,s=!0,Ao(i,!1),t.lanes=4194304)}else{if(!s)if(e=jc(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ku(t,e),Ao(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ct)return xt(t),null}else 2*Xe()-i.renderingStartTime>qc&&n!==536870912&&(t.flags|=128,s=!0,Ao(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=Bt.current,St(Bt,s?n&1|2:n&1),ct&&si(t,i.treeForkCount),e):(xt(t),null);case 22:case 23:return Ke(t),bg(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&ku(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&le(Zs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),di($t),xt(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function TD(e,t){switch(gg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return di($t),ya(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ic(t),null;case 31:if(t.memoizedState!==null){if(Ke(t),t.alternate===null)throw Error(L(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ke(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(Bt),null;case 4:return ya(),null;case 10:return di(t.type),null;case 22:case 23:return Ke(t),bg(),e!==null&&le(Zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return di($t),null;case 25:return null;default:return null}}function aw(e,t){switch(gg(t),t.tag){case 3:di($t),ya();break;case 26:case 27:case 5:Ic(t);break;case 4:ya();break;case 31:t.memoizedState!==null&&Ke(t);break;case 13:Ke(t);break;case 19:le(Bt);break;case 10:di(t.type);break;case 22:case 23:Ke(t),bg(),e!==null&&le(Zs);break;case 24:di($t)}}function Ql(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(o){yt(t,t.return,o)}}function ms(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,s=t;var u=n,c=o;try{c()}catch(h){yt(s,u,h)}}}i=i.next}while(i!==r)}}catch(h){yt(t,t.return,h)}}function ow(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gS(t,n)}catch(i){yt(e,e.return,i)}}}function lw(e,t,n){n.props=cr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){yt(e,t,i)}}function Yo(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){yt(e,t,s)}}function jn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){yt(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){yt(e,t,s)}else n.current=null}function uw(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){yt(e,e.return,s)}}function pd(e,t,n){try{var i=e.stateNode;FD(i,e.type,n,t),i[Be]=t}catch(s){yt(e,e.return,s)}}function cw(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function gd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jm(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=li));else if(i!==4&&(i===27&&xs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(jm(e,t,n),e=e.sibling;e!==null;)jm(e,t,n),e=e.sibling}function Hc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&xs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function hw(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ye(t,i,n),t[de]=e,t[Be]=n}catch(r){yt(e,e.return,r)}}var ri=!1,Yt=!1,yd=!1,M_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function bD(e,t){if(e=e.containerInfo,Gm=th,e=ZA(e),hg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var a=0,o=-1,u=-1,c=0,h=0,d=e,m=null;e:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==r||i!==0&&d.nodeType!==3||(u=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break e;if(m===n&&++c===s&&(o=a),m===r&&++h===i&&(u=a),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Km={focusedElem:e,selectionRange:n},th=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){switch(t=ae,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var w=cr(n.type,s);e=i.getSnapshotBeforeUpdate(w,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(I){yt(n,n.return,I)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)$m(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$m(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}}function fw(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n),i&4&&Ql(5,n);break;case 1:if(ni(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){yt(n,n.return,a)}else{var s=cr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){yt(n,n.return,a)}}i&64&&ow(n),i&512&&Yo(n,n.return);break;case 3:if(ni(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gS(e,t)}catch(a){yt(n,n.return,a)}}break;case 27:t===null&&i&4&&hw(n);case 26:case 5:ni(e,n),t===null&&i&4&&uw(n),i&512&&Yo(n,n.return);break;case 12:ni(e,n);break;case 31:ni(e,n),i&4&&pw(e,n);break;case 13:ni(e,n),i&4&&gw(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ND.bind(null,n),XD(e,n))));break;case 22:if(i=n.memoizedState!==null||ri,!i){t=t!==null&&t.memoizedState!==null||Yt,s=ri;var r=Yt;ri=i,(Yt=t)&&!r?ii(e,n,(n.subtreeFlags&8772)!==0):ni(e,n),ri=s,Yt=r}break;case 30:break;default:ni(e,n)}}function dw(e){var t=e.alternate;t!==null&&(e.alternate=null,dw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&rg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,Pe=!1;function ei(e,t,n){for(n=n.child;n!==null;)mw(e,t,n),n=n.sibling}function mw(e,t,n){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 26:Yt||jn(n,t),ei(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Yt||jn(n,t);var i=Dt,s=Pe;xs(n.type)&&(Dt=n.stateNode,Pe=!1),ei(e,t,n),Wo(n.stateNode),Dt=i,Pe=s;break;case 5:Yt||jn(n,t);case 6:if(i=Dt,s=Pe,Dt=null,ei(e,t,n),Dt=i,Pe=s,Dt!==null)if(Pe)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(r){yt(n,t,r)}else try{Dt.removeChild(n.stateNode)}catch(r){yt(n,t,r)}break;case 18:Dt!==null&&(Pe?(e=Dt,K_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ra(e)):K_(Dt,n.stateNode));break;case 4:i=Dt,s=Pe,Dt=n.stateNode.containerInfo,Pe=!0,ei(e,t,n),Dt=i,Pe=s;break;case 0:case 11:case 14:case 15:ms(2,n,t),Yt||ms(4,n,t),ei(e,t,n);break;case 1:Yt||(jn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&lw(n,t,i)),ei(e,t,n);break;case 21:ei(e,t,n);break;case 22:Yt=(i=Yt)||n.memoizedState!==null,ei(e,t,n),Yt=i;break;default:ei(e,t,n)}}function pw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ra(e)}catch(n){yt(t,t.return,n)}}}function gw(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ra(e)}catch(n){yt(t,t.return,n)}}function ED(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new M_),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new M_),t;default:throw Error(L(435,e.tag))}}function Lu(e,t){var n=ED(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=DD.bind(null,e,i);i.then(s,s)}})}function Me(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(xs(o.type)){Dt=o.stateNode,Pe=!1;break t}break;case 5:Dt=o.stateNode,Pe=!1;break t;case 3:case 4:Dt=o.stateNode.containerInfo,Pe=!0;break t}o=o.return}if(Dt===null)throw Error(L(160));mw(r,a,s),Dt=null,Pe=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yw(t,e),t=t.sibling}var An=null;function yw(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Me(t,e),Oe(e),i&4&&(ms(3,e,e.return),Ql(3,e),ms(5,e,e.return));break;case 1:Me(t,e),Oe(e),i&512&&(Yt||n===null||jn(n,n.return)),i&64&&ri&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=An;if(Me(t,e),Oe(e),i&512&&(Yt||n===null||jn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;e:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[Gl]||r[de]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),ye(r,i,n),r[de]=e,oe(r),i=r;break t;case"link":var a=J_("link","href",s).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(r=a[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}r=s.createElement(i),ye(r,i,n),s.head.appendChild(r);break;case"meta":if(a=J_("meta","content",s).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(r=a[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}r=s.createElement(i),ye(r,i,n),s.head.appendChild(r);break;default:throw Error(L(468,i))}r[de]=e,oe(r),i=r}e.stateNode=i}else tT(s,e.type,e.stateNode);else e.stateNode=Z_(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?tT(s,e.type,e.stateNode):Z_(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&pd(e,e.memoizedProps,n.memoizedProps)}break;case 27:Me(t,e),Oe(e),i&512&&(Yt||n===null||jn(n,n.return)),n!==null&&i&4&&pd(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Me(t,e),Oe(e),i&512&&(Yt||n===null||jn(n,n.return)),e.flags&32){s=e.stateNode;try{_a(s,"")}catch(w){yt(e,e.return,w)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,pd(e,s,n!==null?n.memoizedProps:s)),i&1024&&(yd=!0);break;case 6:if(Me(t,e),Oe(e),i&4){if(e.stateNode===null)throw Error(L(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(w){yt(e,e.return,w)}}break;case 3:if(cc=null,s=An,An=Wc(t.containerInfo),Me(t,e),An=s,Oe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(t.containerInfo)}catch(w){yt(e,e.return,w)}yd&&(yd=!1,vw(e));break;case 4:i=An,An=Wc(e.stateNode.containerInfo),Me(t,e),Oe(e),An=i;break;case 12:Me(t,e),Oe(e);break;case 31:Me(t,e),Oe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Lu(e,i)));break;case 13:Me(t,e),Oe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bh=Xe()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Lu(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=ri,h=Yt;if(ri=c||s,Yt=h||u,Me(t,e),Yt=h,ri=c,Oe(e),i&8192)t:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||ri||Yt||Fs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var d=u.memoizedProps.style,m=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(w){yt(u,u.return,w)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(w){yt(u,u.return,w)}}}else if(t.tag===18){if(n===null){u=t;try{var g=u.stateNode;s?Y_(g,!0):Y_(u.stateNode,!1)}catch(w){yt(u,u.return,w)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Lu(e,n))));break;case 19:Me(t,e),Oe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Lu(e,i)));break;case 30:break;case 21:break;default:Me(t,e),Oe(e)}}function Oe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(cw(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,r=gd(e);Hc(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(_a(a,""),n.flags&=-33);var o=gd(e);Hc(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=gd(e);jm(e,c,u);break;default:throw Error(L(161))}}catch(h){yt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vw(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vw(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ni(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fw(e,t.alternate,t),t=t.sibling}function Fs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ms(4,t,t.return),Fs(t);break;case 1:jn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lw(t,t.return,n),Fs(t);break;case 27:Wo(t.stateNode);case 26:case 5:jn(t,t.return),Fs(t);break;case 22:t.memoizedState===null&&Fs(t);break;case 30:Fs(t);break;default:Fs(t)}e=e.sibling}}function ii(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:ii(s,r,n),Ql(4,r);break;case 1:if(ii(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){yt(i,i.return,c)}if(i=r,s=i.updateQueue,s!==null){var o=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)pS(u[s],o)}catch(c){yt(i,i.return,c)}}n&&a&64&&ow(r),Yo(r,r.return);break;case 27:hw(r);case 26:case 5:ii(s,r,n),n&&i===null&&a&4&&uw(r),Yo(r,r.return);break;case 12:ii(s,r,n);break;case 31:ii(s,r,n),n&&a&4&&pw(s,r);break;case 13:ii(s,r,n),n&&a&4&&gw(s,r);break;case 22:r.memoizedState===null&&ii(s,r,n),Yo(r,r.return);break;case 30:break;default:ii(s,r,n)}t=t.sibling}}function Lg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Yl(n))}function jg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yl(e))}function bn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_w(e,t,n,i),t=t.sibling}function _w(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:bn(e,t,n,i),s&2048&&Ql(9,t);break;case 1:bn(e,t,n,i);break;case 3:bn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yl(e)));break;case 12:if(s&2048){bn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,o=r.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){yt(t,t.return,u)}}else bn(e,t,n,i);break;case 31:bn(e,t,n,i);break;case 13:bn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?bn(e,t,n,i):$o(e,t):r._visibility&2?bn(e,t,n,i):(r._visibility|=2,Or(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Lg(a,t);break;case 24:bn(e,t,n,i),s&2048&&jg(t.alternate,t);break;default:bn(e,t,n,i)}}function Or(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,o=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Or(r,a,o,u,s),Ql(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Or(r,a,o,u,s):$o(r,a):(h._visibility|=2,Or(r,a,o,u,s)),s&&c&2048&&Lg(a.alternate,a);break;case 24:Or(r,a,o,u,s),s&&c&2048&&jg(a.alternate,a);break;default:Or(r,a,o,u,s)}t=t.sibling}}function $o(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:$o(n,i),s&2048&&Lg(i.alternate,i);break;case 24:$o(n,i),s&2048&&jg(i.alternate,i);break;default:$o(n,i)}t=t.sibling}}var Vo=8192;function Vr(e,t,n){if(e.subtreeFlags&Vo)for(e=e.child;e!==null;)Tw(e,t,n),e=e.sibling}function Tw(e,t,n){switch(e.tag){case 26:Vr(e,t,n),e.flags&Vo&&e.memoizedState!==null&&lV(n,An,e.memoizedState,e.memoizedProps);break;case 5:Vr(e,t,n);break;case 3:case 4:var i=An;An=Wc(e.stateNode.containerInfo),Vr(e,t,n),An=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Vo,Vo=16777216,Vr(e,t,n),Vo=i):Vr(e,t,n));break;default:Vr(e,t,n)}}function bw(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function So(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ae=i,Aw(i,e)}bw(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ew(e),e=e.sibling}function Ew(e){switch(e.tag){case 0:case 11:case 15:So(e),e.flags&2048&&ms(9,e,e.return);break;case 3:So(e);break;case 12:So(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,lc(e)):So(e);break;default:So(e)}}function lc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ae=i,Aw(i,e)}bw(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ms(8,t,t.return),lc(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,lc(t));break;default:lc(t)}e=e.sibling}}function Aw(e,t){for(;ae!==null;){var n=ae;switch(n.tag){case 0:case 11:case 15:ms(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Yl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ae=i;else t:for(n=e;ae!==null;){i=ae;var s=i.sibling,r=i.return;if(dw(i),i===n){ae=null;break t}if(s!==null){s.return=r,ae=s;break t}ae=r}}}var AD={getCacheForType:function(e){var t=ge($t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ge($t).controller.signal}},SD=typeof WeakMap=="function"?WeakMap:Map,dt=0,Et=null,rt=null,ut=0,gt=0,Ge=null,$i=!1,Fa=!1,Ug=!1,_i=0,jt=0,ps=0,tr=0,zg=0,$e=0,Aa=0,Qo=null,ke=null,Um=!1,Bh=0,Sw=0,qc=1/0,Gc=null,ns=null,ee=0,is=null,Sa=null,mi=0,zm=0,Bm=null,ww=null,Xo=0,Fm=null;function Je(){return dt&2&&ut!==0?ut&-ut:W.T!==null?Fg():OA()}function xw(){if($e===0)if(!(ut&536870912)||ct){var e=Iu;Iu<<=1,!(Iu&3932160)&&(Iu=262144),$e=e}else $e=536870912;return e=nn.current,e!==null&&(e.flags|=32),$e}function ze(e,t,n){(e===Et&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(wa(e,0),Qi(e,ut,$e,!1)),ql(e,n),(!(dt&2)||e!==Et)&&(e===Et&&(!(dt&2)&&(tr|=n),jt===4&&Qi(e,ut,$e,!1)),Wn(e))}function Rw(e,t,n){if(dt&6)throw Error(L(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Hl(e,t),s=i?RD(e,t):vd(e,t,!0),r=i;do{if(s===0){Fa&&!i&&Qi(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!wD(n)){s=vd(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;s=Qo;var u=o.current.memoizedState.isDehydrated;if(u&&(wa(o,a).flags|=256),a=vd(o,a,!1),a!==2){if(Ug&&!u){o.errorRecoveryDisabledLanes|=r,tr|=r,s=4;break t}r=ke,ke=s,r!==null&&(ke===null?ke=r:ke.push.apply(ke,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){wa(e,0),Qi(e,t,0,!0);break}t:{switch(i=e,r=s,r){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Qi(i,t,$e,!$i);break t;case 2:ke=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(s=Bh+300-Xe(),10<s)){if(Qi(i,t,$e,!$i),Nh(i,0,!0)!==0)break t;mi=t,i.timeoutHandle=Yw(O_.bind(null,i,n,ke,Gc,Um,t,$e,tr,Aa,$i,r,"Throttled",-0,0),s);break t}O_(i,n,ke,Gc,Um,t,$e,tr,Aa,$i,r,null,-0,0)}}break}while(!0);Wn(e)}function O_(e,t,n,i,s,r,a,o,u,c,h,d,m,g){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},Tw(t,r,d);var w=(r&62914560)===r?Bh-Xe():(r&4194048)===r?Sw-Xe():0;if(w=uV(d,w),w!==null){mi=r,e.cancelPendingCommit=w(k_.bind(null,e,t,r,n,i,s,a,o,u,h,d,null,m,g)),Qi(e,r,a,!c);return}}k_(e,t,r,n,i,s,a,o,u)}function wD(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!en(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qi(e,t,n,i){t&=~zg,t&=~tr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Ze(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&DA(e,n,t)}function Fh(){return dt&6?!0:(Xl(0),!1)}function Bg(){if(rt!==null){if(gt===0)var e=rt.return;else e=rt,ui=Er=null,xg(e),oa=null,pl=0,e=rt;for(;e!==null;)aw(e.alternate,e),e=e.return;rt=null}}function wa(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,GD(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mi=0,Bg(),Et=e,rt=n=fi(e.current,null),ut=t,gt=0,Ge=null,$i=!1,Fa=Hl(e,t),Ug=!1,Aa=$e=zg=tr=ps=jt=0,ke=Qo=null,Um=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Ze(i),r=1<<s;t|=e[s],i&=~r}return _i=t,Oh(),n}function Cw(e,t){nt=null,W.H=yl,t===Ba||t===kh?(t=f_(),gt=3):t===_g?(t=f_(),gt=4):gt=t===Pg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ge=t,rt===null&&(jt=1,Bc(e,fn(t,e.current)))}function Iw(){var e=nn.current;return e===null?!0:(ut&4194048)===ut?gn===null:(ut&62914560)===ut||ut&536870912?e===gn:!1}function Nw(){var e=W.H;return W.H=yl,e===null?yl:e}function Dw(){var e=W.A;return W.A=AD,e}function Kc(){jt=4,$i||(ut&4194048)!==ut&&nn.current!==null||(Fa=!0),!(ps&134217727)&&!(tr&134217727)||Et===null||Qi(Et,ut,$e,!1)}function vd(e,t,n){var i=dt;dt|=2;var s=Nw(),r=Dw();(Et!==e||ut!==t)&&(Gc=null,wa(e,t)),t=!1;var a=jt;t:do try{if(gt!==0&&rt!==null){var o=rt,u=Ge;switch(gt){case 8:Bg(),a=6;break t;case 3:case 2:case 9:case 6:nn.current===null&&(t=!0);var c=gt;if(gt=0,Ge=null,Wr(e,o,u,c),n&&Fa){a=0;break t}break;default:c=gt,gt=0,Ge=null,Wr(e,o,u,c)}}xD(),a=jt;break}catch(h){Cw(e,h)}while(!0);return t&&e.shellSuspendCounter++,ui=Er=null,dt=i,W.H=s,W.A=r,rt===null&&(Et=null,ut=0,Oh()),a}function xD(){for(;rt!==null;)Vw(rt)}function RD(e,t){var n=dt;dt|=2;var i=Nw(),s=Dw();Et!==e||ut!==t?(Gc=null,qc=Xe()+500,wa(e,t)):Fa=Hl(e,t);t:do try{if(gt!==0&&rt!==null){t=rt;var r=Ge;e:switch(gt){case 1:gt=0,Ge=null,Wr(e,t,r,1);break;case 2:case 9:if(h_(r)){gt=0,Ge=null,P_(t);break}t=function(){gt!==2&&gt!==9||Et!==e||(gt=7),Wn(e)},r.then(t,t);break t;case 3:gt=7;break t;case 4:gt=5;break t;case 7:h_(r)?(gt=0,Ge=null,P_(t)):(gt=0,Ge=null,Wr(e,t,r,7));break;case 5:var a=null;switch(rt.tag){case 26:a=rt.memoizedState;case 5:case 27:var o=rt;if(a?Zw(a):o.stateNode.complete){gt=0,Ge=null;var u=o.sibling;if(u!==null)rt=u;else{var c=o.return;c!==null?(rt=c,Hh(c)):rt=null}break e}}gt=0,Ge=null,Wr(e,t,r,5);break;case 6:gt=0,Ge=null,Wr(e,t,r,6);break;case 8:Bg(),jt=6;break t;default:throw Error(L(462))}}CD();break}catch(h){Cw(e,h)}while(!0);return ui=Er=null,W.H=i,W.A=s,dt=n,rt!==null?0:(Et=null,ut=0,Oh(),jt)}function CD(){for(;rt!==null&&!W2();)Vw(rt)}function Vw(e){var t=rw(e.alternate,e,_i);e.memoizedProps=e.pendingProps,t===null?Hh(e):rt=t}function P_(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=C_(n,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=C_(n,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:xg(t);default:aw(n,t),t=rt=aS(t,_i),t=rw(n,t,_i)}e.memoizedProps=e.pendingProps,t===null?Hh(e):rt=t}function Wr(e,t,n,i){ui=Er=null,xg(t),oa=null,pl=0;var s=t.return;try{if(gD(e,s,t,n,ut)){jt=1,Bc(e,fn(n,e.current)),rt=null;return}}catch(r){if(s!==null)throw rt=s,r;jt=1,Bc(e,fn(n,e.current)),rt=null;return}t.flags&32768?(ct||i===1?e=!0:Fa||ut&536870912?e=!1:($i=e=!0,(i===2||i===9||i===3||i===6)&&(i=nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Mw(t,e)):Hh(t)}function Hh(e){var t=e;do{if(t.flags&32768){Mw(t,$i);return}e=t.return;var n=_D(t.alternate,t,_i);if(n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);jt===0&&(jt=5)}function Mw(e,t){do{var n=TD(e.alternate,e);if(n!==null){n.flags&=32767,rt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){rt=e;return}rt=e=n}while(e!==null);jt=6,rt=null}function k_(e,t,n,i,s,r,a,o,u){e.cancelPendingCommit=null;do qh();while(ee!==0);if(dt&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(r=t.lanes|t.childLanes,r|=fg,oN(e,n,r,a,o,u),e===Et&&(rt=Et=null,ut=0),Sa=t,is=e,mi=n,zm=r,Bm=s,ww=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,VD(Nc,function(){return jw(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=W.T,W.T=null,s=mt.p,mt.p=2,a=dt,dt|=4;try{bD(e,t,n)}finally{dt=a,mt.p=s,W.T=i}}ee=1,Ow(),Pw(),kw()}}function Ow(){if(ee===1){ee=0;var e=is,t=Sa,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=W.T,W.T=null;var i=mt.p;mt.p=2;var s=dt;dt|=4;try{yw(t,e);var r=Km,a=ZA(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&WA(o.ownerDocument.documentElement,o)){if(u!==null&&hg(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var g=m.getSelection(),w=o.textContent.length,I=Math.min(u.start,w),D=u.end===void 0?I:Math.min(u.end,w);!g.extend&&I>D&&(a=D,D=I,I=a);var v=s_(o,I),T=s_(o,D);if(v&&T&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==T.node||g.focusOffset!==T.offset)){var S=d.createRange();S.setStart(v.node,v.offset),g.removeAllRanges(),I>D?(g.addRange(S),g.extend(T.node,T.offset)):(S.setEnd(T.node,T.offset),g.addRange(S))}}}}for(d=[],g=o;g=g.parentNode;)g.nodeType===1&&d.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var N=d[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}th=!!Gm,Km=Gm=null}finally{dt=s,mt.p=i,W.T=n}}e.current=t,ee=2}}function Pw(){if(ee===2){ee=0;var e=is,t=Sa,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=W.T,W.T=null;var i=mt.p;mt.p=2;var s=dt;dt|=4;try{fw(e,t.alternate,t)}finally{dt=s,mt.p=i,W.T=n}}ee=3}}function kw(){if(ee===4||ee===3){ee=0,Z2();var e=is,t=Sa,n=mi,i=ww;t.subtreeFlags&10256||t.flags&10256?ee=5:(ee=0,Sa=is=null,Lw(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ns=null),sg(n),t=t.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Fl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=W.T,s=mt.p,mt.p=2,W.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];r(o.value,{componentStack:o.stack})}}finally{W.T=t,mt.p=s}}mi&3&&qh(),Wn(e),s=e.pendingLanes,n&261930&&s&42?e===Fm?Xo++:(Xo=0,Fm=e):Xo=0,Xl(0)}}function Lw(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yl(t)))}function qh(){return Ow(),Pw(),kw(),jw()}function jw(){if(ee!==5)return!1;var e=is,t=zm;zm=0;var n=sg(mi),i=W.T,s=mt.p;try{mt.p=32>n?32:n,W.T=null,n=Bm,Bm=null;var r=is,a=mi;if(ee=0,Sa=is=null,mi=0,dt&6)throw Error(L(331));var o=dt;if(dt|=4,Ew(r.current),_w(r,r.current,a,n),dt=o,Xl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Fl,r)}catch{}return!0}finally{mt.p=s,W.T=i,Lw(e,t)}}function L_(e,t,n){t=fn(n,t),t=Pm(e.stateNode,t,2),e=es(e,t,2),e!==null&&(ql(e,2),Wn(e))}function yt(e,t,n){if(e.tag===3)L_(e,e,n);else for(;t!==null;){if(t.tag===3){L_(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ns===null||!ns.has(i))){e=fn(n,e),n=JS(2),i=es(t,n,2),i!==null&&(tw(n,i,t,e),ql(i,2),Wn(i));break}}t=t.return}}function _d(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new SD;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(Ug=!0,s.add(n),e=ID.bind(null,e,t,n),t.then(e,e))}function ID(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(ut&n)===n&&(jt===4||jt===3&&(ut&62914560)===ut&&300>Xe()-Bh?!(dt&2)&&wa(e,0):zg|=n,Aa===ut&&(Aa=0)),Wn(e)}function Uw(e,t){t===0&&(t=NA()),e=br(e,t),e!==null&&(ql(e,t),Wn(e))}function ND(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Uw(e,n)}function DD(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(t),Uw(e,n)}function VD(e,t){return ng(e,t)}var Yc=null,Pr=null,Hm=!1,$c=!1,Td=!1,Xi=0;function Wn(e){e!==Pr&&e.next===null&&(Pr===null?Yc=Pr=e:Pr=Pr.next=e),$c=!0,Hm||(Hm=!0,OD())}function Xl(e,t){if(!Td&&$c){Td=!0;do for(var n=!1,i=Yc;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-Ze(42|e)+1)-1,r&=s&~(a&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,j_(i,r))}else r=ut,r=Nh(i,i===Et?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||Hl(i,r)||(n=!0,j_(i,r));i=i.next}while(n);Td=!1}}function MD(){zw()}function zw(){$c=Hm=!1;var e=0;Xi!==0&&qD()&&(e=Xi);for(var t=Xe(),n=null,i=Yc;i!==null;){var s=i.next,r=Bw(i,t);r===0?(i.next=null,n===null?Yc=s:n.next=s,s===null&&(Pr=n)):(n=i,(e!==0||r&3)&&($c=!0)),i=s}ee!==0&&ee!==5||Xl(e),Xi!==0&&(Xi=0)}function Bw(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Ze(r),o=1<<a,u=s[a];u===-1?(!(o&n)||o&i)&&(s[a]=aN(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=Et,n=ut,n=Nh(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&$f(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Hl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&$f(i),sg(n)){case 2:case 8:n=CA;break;case 32:n=Nc;break;case 268435456:n=IA;break;default:n=Nc}return i=Fw.bind(null,e),n=ng(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&$f(i),e.callbackPriority=2,e.callbackNode=null,2}function Fw(e,t){if(ee!==0&&ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qh()&&e.callbackNode!==n)return null;var i=ut;return i=Nh(e,e===Et?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Rw(e,i,t),Bw(e,Xe()),e.callbackNode!=null&&e.callbackNode===n?Fw.bind(null,e):null)}function j_(e,t){if(qh())return null;Rw(e,t,!0)}function OD(){KD(function(){dt&6?ng(RA,MD):zw()})}function Fg(){if(Xi===0){var e=Ta;e===0&&(e=Cu,Cu<<=1,!(Cu&261888)&&(Cu=256)),Xi=e}return Xi}function U_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ju(""+e)}function z_(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function PD(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=U_((s[Be]||null).action),a=i.submitter;a&&(t=(t=a[Be]||null)?U_(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var o=new Dh("action","action",null,i,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Xi!==0){var u=a?z_(s,a):new FormData(s);Mm(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=a?z_(s,a):new FormData(s),Mm(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var bd=0;bd<bm.length;bd++){var Ed=bm[bd],kD=Ed.toLowerCase(),LD=Ed[0].toUpperCase()+Ed.slice(1);Dn(kD,"on"+LD)}Dn(tS,"onAnimationEnd");Dn(eS,"onAnimationIteration");Dn(nS,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(JN,"onTransitionRun");Dn(tD,"onTransitionStart");Dn(eD,"onTransitionCancel");Dn(iS,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function Hw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){Vc(h)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(o=i[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==r&&s.isPropagationStopped())break t;r=o,s.currentTarget=c;try{r(s)}catch(h){Vc(h)}s.currentTarget=null,r=u}}}}function st(e,t){var n=t[dm];n===void 0&&(n=t[dm]=new Set);var i=e+"__bubble";n.has(i)||(qw(t,e,2,!1),n.add(i))}function Ad(e,t,n){var i=0;t&&(i|=4),qw(n,e,i,t)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Hg(e){if(!e[ju]){e[ju]=!0,PA.forEach(function(n){n!=="selectionchange"&&(jD.has(n)||Ad(n,!1,e),Ad(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ju]||(t[ju]=!0,Ad("selectionchange",!1,t))}}function qw(e,t,n,i){switch(i1(t)){case 2:var s=fV;break;case 8:s=dV;break;default:s=Yg}n=s.bind(null,t,n,e),s=void 0,!vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Sd(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;o!==null;){if(a=Fr(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue t}o=o.parentNode}}i=i.return}HA(function(){var c=r,h=og(n),d=[];t:{var m=sS.get(e);if(m!==void 0){var g=Dh,w=e;switch(e){case"keypress":if(ec(n)===0)break t;case"keydown":case"keyup":g=DN;break;case"focusin":w="focus",g=Jf;break;case"focusout":w="blur",g=Jf;break;case"beforeblur":case"afterblur":g=Jf;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=$v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ON;break;case tS:case eS:case nS:g=EN;break;case iS:g=kN;break;case"scroll":case"scrollend":g=yN;break;case"wheel":g=jN;break;case"copy":case"cut":case"paste":g=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xv;break;case"toggle":case"beforetoggle":g=zN}var I=(t&4)!==0,D=!I&&(e==="scroll"||e==="scrollend"),v=I?m!==null?m+"Capture":null:m;I=[];for(var T=c,S;T!==null;){var N=T;if(S=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||S===null||v===null||(N=cl(T,v),N!=null&&I.push(_l(T,N,S))),D)break;T=T.return}0<I.length&&(m=new g(m,w,null,n,h),d.push({event:m,listeners:I}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==ym&&(w=n.relatedTarget||n.fromElement)&&(Fr(w)||w[ja]))break t;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Fr(w):null,w!==null&&(D=Bl(w),I=w.tag,w!==D||I!==5&&I!==27&&I!==6)&&(w=null)):(g=null,w=c),g!==w)){if(I=$v,N="onMouseLeave",v="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(I=Xv,N="onPointerLeave",v="onPointerEnter",T="pointer"),D=g==null?m:No(g),S=w==null?m:No(w),m=new I(N,T+"leave",g,n,h),m.target=D,m.relatedTarget=S,N=null,Fr(h)===c&&(I=new I(v,T+"enter",w,n,h),I.target=S,I.relatedTarget=D,N=I),D=N,g&&w)e:{for(I=UD,v=g,T=w,S=0,N=v;N;N=I(N))S++;N=0;for(var P=T;P;P=I(P))N++;for(;0<S-N;)v=I(v),S--;for(;0<N-S;)T=I(T),N--;for(;S--;){if(v===T||T!==null&&v===T.alternate){I=v;break e}v=I(v),T=I(T)}I=null}else I=null;g!==null&&B_(d,m,g,I,!1),w!==null&&D!==null&&B_(d,D,w,I,!0)}}t:{if(m=c?No(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var z=t_;else if(Jv(m))if(QA)z=XN;else{z=$N;var E=YN}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&ag(c.elementType)&&(z=t_):z=QN;if(z&&(z=z(e,c))){$A(d,z,n,h);break t}E&&E(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&gm(m,"number",m.value)}switch(E=c?No(c):window,e){case"focusin":(Jv(E)||E.contentEditable==="true")&&(Gr=E,_m=c,Bo=null);break;case"focusout":Bo=_m=Gr=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,r_(d,n,h);break;case"selectionchange":if(ZN)break;case"keydown":case"keyup":r_(d,n,h)}var _;if(cg)t:{switch(e){case"compositionstart":var A="onCompositionStart";break t;case"compositionend":A="onCompositionEnd";break t;case"compositionupdate":A="onCompositionUpdate";break t}A=void 0}else qr?KA(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(GA&&n.locale!=="ko"&&(qr||A!=="onCompositionStart"?A==="onCompositionEnd"&&qr&&(_=qA()):(Yi=h,lg="value"in Yi?Yi.value:Yi.textContent,qr=!0)),E=Qc(c,A),0<E.length&&(A=new Qv(A,e,null,n,h),d.push({event:A,listeners:E}),_?A.data=_:(_=YA(n),_!==null&&(A.data=_)))),(_=FN?HN(e,n):qN(e,n))&&(A=Qc(c,"onBeforeInput"),0<A.length&&(E=new Qv("onBeforeInput","beforeinput",null,n,h),d.push({event:E,listeners:A}),E.data=_)),PD(d,e,c,n,h)}Hw(d,t)})}function _l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qc(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=cl(e,n),s!=null&&i.unshift(_l(e,s,r)),s=cl(e,t),s!=null&&i.push(_l(e,s,r))),e.tag===3)return i;e=e.return}return[]}function UD(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function B_(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,s?(c=cl(n,r),c!=null&&a.unshift(_l(n,c,u))):s||(c=cl(n,r),c!=null&&a.push(_l(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var zD=/\r\n?/g,BD=/\u0000|\uFFFD/g;function F_(e){return(typeof e=="string"?e:""+e).replace(zD,`
`).replace(BD,"")}function Gw(e,t){return t=F_(t),F_(e)===t}function vt(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||_a(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&_a(e,""+i);break;case"className":Du(e,"class",i);break;case"tabIndex":Du(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Du(e,n,i);break;case"style":FA(e,i,r);break;case"data":if(t!=="object"){Du(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ju(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&vt(e,t,"name",s.name,s,null),vt(e,t,"formEncType",s.formEncType,s,null),vt(e,t,"formMethod",s.formMethod,s,null),vt(e,t,"formTarget",s.formTarget,s,null)):(vt(e,t,"encType",s.encType,s,null),vt(e,t,"method",s.method,s,null),vt(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Ju(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=li);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Ju(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":st("beforetoggle",e),st("toggle",e),Zu(e,"popover",i);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Zu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pN.get(n)||n,Zu(e,n,i))}}function qm(e,t,n,i,s,r){switch(n){case"style":FA(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof i=="string"?_a(e,i):(typeof i=="number"||typeof i=="bigint")&&_a(e,""+i);break;case"onScroll":i!=null&&st("scroll",e);break;case"onScrollEnd":i!=null&&st("scrollend",e);break;case"onClick":i!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kA.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[Be]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Zu(e,n,i)}}}function ye(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:vt(e,t,r,a,n,null)}}s&&vt(e,t,"srcSet",n.srcSet,n,null),i&&vt(e,t,"src",n.src,n,null);return;case"input":st("invalid",e);var o=r=a=s=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":r=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(L(137,t));break;default:vt(e,t,i,h,n,null)}}UA(e,r,o,u,c,a,s,!1);return;case"select":st("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:vt(e,t,s,o,n,null)}t=r,n=a,e.multiple=!!i,t!=null?sa(e,!!i,t,!1):n!=null&&sa(e,!!i,n,!0);return;case"textarea":st("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(L(91));break;default:vt(e,t,a,o,n,null)}BA(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:vt(e,t,u,i,n,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(i=0;i<vl.length;i++)st(vl[i],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:vt(e,t,c,i,n,null)}return;default:if(ag(t)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&qm(e,t,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&vt(e,t,o,i,n,null))}function FD(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,o=null,u=null,c=null,h=null;for(g in n){var d=n[g];if(n.hasOwnProperty(g)&&d!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(g)||vt(e,t,g,null,i,d)}}for(var m in i){var g=i[m];if(d=n[m],i.hasOwnProperty(m)&&(g!=null||d!=null))switch(m){case"type":r=g;break;case"name":s=g;break;case"checked":c=g;break;case"defaultChecked":h=g;break;case"value":a=g;break;case"defaultValue":o=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:g!==d&&vt(e,t,m,g,i,d)}}pm(e,a,o,u,c,h,r,s);return;case"select":g=a=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":g=u;default:i.hasOwnProperty(r)||vt(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":a=r;default:r!==u&&vt(e,t,s,r,i,u)}t=o,n=a,i=g,m!=null?sa(e,!!n,m,!1):!!i!=!!n&&(t!=null?sa(e,!!n,t,!0):sa(e,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(o in n)if(s=n[o],n.hasOwnProperty(o)&&s!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:vt(e,t,o,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==r&&vt(e,t,a,s,i,r)}zA(e,m,g);return;case"option":for(var w in n)if(m=n[w],n.hasOwnProperty(w)&&m!=null&&!i.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:vt(e,t,w,null,i,m)}for(u in i)if(m=i[u],g=n[u],i.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:vt(e,t,u,m,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)m=n[I],n.hasOwnProperty(I)&&m!=null&&!i.hasOwnProperty(I)&&vt(e,t,I,null,i,m);for(c in i)if(m=i[c],g=n[c],i.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:vt(e,t,c,m,i,g)}return;default:if(ag(t)){for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!==void 0&&!i.hasOwnProperty(D)&&qm(e,t,D,void 0,i,m);for(h in i)m=i[h],g=n[h],!i.hasOwnProperty(h)||m===g||m===void 0&&g===void 0||qm(e,t,h,m,i,g);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!i.hasOwnProperty(v)&&vt(e,t,v,null,i,m);for(d in i)m=i[d],g=n[d],!i.hasOwnProperty(d)||m===g||m==null&&g==null||vt(e,t,d,m,i,g)}function H_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,o=s.duration;if(r&&o&&H_(a)){for(a=0,o=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>o)break;var h=u.transferSize,d=u.initiatorType;h&&H_(d)&&(u=u.responseEnd,a+=h*(u<o?1:(o-c)/(u-c)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gm=null,Km=null;function Xc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kw(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ym(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wd=null;function qD(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var Yw=typeof setTimeout=="function"?setTimeout:void 0,GD=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,KD=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(e){return G_.resolve(null).then(e).catch(YD)}:Yw;function YD(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function K_(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),Ra(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Wo(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Wo(n);for(var r=n.firstChild;r;){var a=r.nextSibling,o=r.nodeName;r[Gl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&Wo(e.ownerDocument.body);n=s}while(n);Ra(t)}function Y_(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function $m(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$m(n),rg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $D(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Gl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=yn(e.nextSibling),e===null)break}return null}function QD(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=yn(e.nextSibling),e===null))return null;return e}function $w(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=yn(e.nextSibling),e===null))return null;return e}function Qm(e){return e.data==="$?"||e.data==="$~"}function Xm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function XD(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Wm=null;function $_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return yn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Q_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Qw(e,t,n){switch(t=Xc(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function Wo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);rg(e)}var Tn=new Map,X_=new Set;function Wc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xi=mt.d;mt.d={f:WD,r:ZD,D:JD,C:tV,L:eV,m:nV,X:sV,S:iV,M:rV};function WD(){var e=xi.f(),t=Fh();return e||t}function ZD(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?FS(t):xi.r(e)}var Ha=typeof document>"u"?null:document;function Xw(e,t,n){var i=Ha;if(i&&typeof t=="string"&&t){var s=hn(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),X_.has(s)||(X_.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),ye(t,"link",e),oe(t),i.head.appendChild(t)))}}function JD(e){xi.D(e),Xw("dns-prefetch",e,null)}function tV(e,t){xi.C(e,t),Xw("preconnect",e,t)}function eV(e,t,n){xi.L(e,t,n);var i=Ha;if(i&&e&&t){var s='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+hn(n.imageSizes)+'"]')):s+='[href="'+hn(e)+'"]';var r=s;switch(t){case"style":r=xa(e);break;case"script":r=qa(e)}Tn.has(r)||(e=Nt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(Wl(r))||t==="script"&&i.querySelector(Zl(r))||(t=i.createElement("link"),ye(t,"link",e),oe(t),i.head.appendChild(t)))}}function nV(e,t){xi.m(e,t);var n=Ha;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+hn(i)+'"][href="'+hn(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=qa(e)}if(!Tn.has(r)&&(e=Nt({rel:"modulepreload",href:e},t),Tn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Zl(r)))return}i=n.createElement("link"),ye(i,"link",e),oe(i),n.head.appendChild(i)}}}function iV(e,t,n){xi.S(e,t,n);var i=Ha;if(i&&e){var s=ia(i).hoistableStyles,r=xa(e);t=t||"default";var a=s.get(r);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Wl(r)))o.loading=5;else{e=Nt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(r))&&qg(e,n);var u=a=i.createElement("link");oe(u),ye(u,"link",e),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,uc(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(r,a)}}}function sV(e,t){xi.X(e,t);var n=Ha;if(n&&e){var i=ia(n).hoistableScripts,s=qa(e),r=i.get(s);r||(r=n.querySelector(Zl(s)),r||(e=Nt({src:e,async:!0},t),(t=Tn.get(s))&&Gg(e,t),r=n.createElement("script"),oe(r),ye(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function rV(e,t){xi.M(e,t);var n=Ha;if(n&&e){var i=ia(n).hoistableScripts,s=qa(e),r=i.get(s);r||(r=n.querySelector(Zl(s)),r||(e=Nt({src:e,async:!0,type:"module"},t),(t=Tn.get(s))&&Gg(e,t),r=n.createElement("script"),oe(r),ye(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function W_(e,t,n,i){var s=(s=Zi.current)?Wc(s):null;if(!s)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xa(n.href),n=ia(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xa(n.href);var r=ia(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(Wl(e)))&&!r._p&&(a.instance=r,a.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),r||aV(s,e,n,a.state))),t&&i===null)throw Error(L(528,""));return a}if(t&&i!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qa(n),n=ia(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function xa(e){return'href="'+hn(e)+'"'}function Wl(e){return'link[rel="stylesheet"]['+e+"]"}function Ww(e){return Nt({},e,{"data-precedence":e.precedence,precedence:null})}function aV(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ye(t,"link",n),oe(t),e.head.appendChild(t))}function qa(e){return'[src="'+hn(e)+'"]'}function Zl(e){return"script[async]"+e}function Z_(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+hn(n.href)+'"]');if(i)return t.instance=i,oe(i),i;var s=Nt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),oe(i),ye(i,"style",s),uc(i,n.precedence,e),t.instance=i;case"stylesheet":s=xa(n.href);var r=e.querySelector(Wl(s));if(r)return t.state.loading|=4,t.instance=r,oe(r),r;i=Ww(n),(s=Tn.get(s))&&qg(i,s),r=(e.ownerDocument||e).createElement("link"),oe(r);var a=r;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),ye(r,"link",i),t.state.loading|=4,uc(r,n.precedence,e),t.instance=r;case"script":return r=qa(n.src),(s=e.querySelector(Zl(r)))?(t.instance=s,oe(s),s):(i=n,(s=Tn.get(r))&&(i=Nt({},n),Gg(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),oe(s),ye(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,uc(i,n.precedence,e));return t.instance}function uc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)r=o;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function qg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gg(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cc=null;function J_(e,t,n){if(cc===null){var i=new Map,s=cc=new Map;s.set(n,i)}else s=cc,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Gl]||r[de]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(r):i.set(a,[r])}}return i}function tT(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function oV(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zw(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function lV(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=xa(i.href),r=t.querySelector(Wl(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zc.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,oe(r);return}r=t.ownerDocument||t,i=Ww(i),(s=Tn.get(s))&&qg(i,s),r=r.createElement("link"),oe(r);var a=r;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),ye(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Zc.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var xd=0;function uV(e,t){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&xd===0&&(xd=62500*HD());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>xd?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jc=null;function hc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jc=new Map,t.forEach(cV,e),Jc=null,Zc.call(e))}function cV(e,t){if(!(t.state.loading&4)){var n=Jc.get(e);if(n)var i=n.get(null);else{n=new Map,Jc.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=Zc.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Tl={$$typeof:oi,Provider:null,Consumer:null,_currentValue:Xs,_currentValue2:Xs,_threadCount:0};function hV(e,t,n,i,s,r,a,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.hiddenUpdates=Qf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Jw(e,t,n,i,s,r,a,o,u,c,h,d){return e=new hV(e,t,n,a,u,c,h,d,o),t=1,r===!0&&(t|=24),r=Ye(3,null,null,t),e.current=r,r.stateNode=e,t=yg(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Tg(r),e}function t1(e){return e?(e=$r,e):$r}function e1(e,t,n,i,s,r){s=t1(s),i.context===null?i.context=s:i.pendingContext=s,i=ts(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=es(e,i,t),n!==null&&(ze(n,e,t),Ho(n,e,t))}function eT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kg(e,t){eT(e,t),(e=e.alternate)&&eT(e,t)}function n1(e){if(e.tag===13||e.tag===31){var t=br(e,67108864);t!==null&&ze(t,e,67108864),Kg(e,67108864)}}function nT(e){if(e.tag===13||e.tag===31){var t=Je();t=ig(t);var n=br(e,t);n!==null&&ze(n,e,t),Kg(e,t)}}var th=!0;function fV(e,t,n,i){var s=W.T;W.T=null;var r=mt.p;try{mt.p=2,Yg(e,t,n,i)}finally{mt.p=r,W.T=s}}function dV(e,t,n,i){var s=W.T;W.T=null;var r=mt.p;try{mt.p=8,Yg(e,t,n,i)}finally{mt.p=r,W.T=s}}function Yg(e,t,n,i){if(th){var s=Zm(i);if(s===null)Sd(e,t,i,eh,n),iT(e,i);else if(pV(s,e,t,n,i))i.stopPropagation();else if(iT(e,i),t&4&&-1<mV.indexOf(e)){for(;s!==null;){var r=Ua(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=zs(r.pendingLanes);if(a!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-Ze(a);o.entanglements[1]|=u,a&=~u}Wn(r),!(dt&6)&&(qc=Xe()+500,Xl(0))}}break;case 31:case 13:o=br(r,2),o!==null&&ze(o,r,2),Fh(),Kg(r,2)}if(r=Zm(i),r===null&&Sd(e,t,i,eh,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Sd(e,t,i,null,n)}}function Zm(e){return e=og(e),$g(e)}var eh=null;function $g(e){if(eh=null,e=Fr(e),e!==null){var t=Bl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=EA(t),e!==null)return e;e=null}else if(n===31){if(e=AA(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return eh=e,null}function i1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J2()){case RA:return 2;case CA:return 8;case Nc:case tN:return 32;case IA:return 268435456;default:return 32}default:return 32}}var Jm=!1,ss=null,rs=null,as=null,bl=new Map,El=new Map,Fi=[],mV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iT(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(t.pointerId)}}function wo(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Ua(t),t!==null&&n1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pV(e,t,n,i,s){switch(t){case"focusin":return ss=wo(ss,e,t,n,i,s),!0;case"dragenter":return rs=wo(rs,e,t,n,i,s),!0;case"mouseover":return as=wo(as,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return bl.set(r,wo(bl.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,El.set(r,wo(El.get(r)||null,e,t,n,i,s)),!0}return!1}function s1(e){var t=Fr(e.target);if(t!==null){var n=Bl(t);if(n!==null){if(t=n.tag,t===13){if(t=EA(n),t!==null){e.blockedOn=t,Bv(e.priority,function(){nT(n)});return}}else if(t===31){if(t=AA(n),t!==null){e.blockedOn=t,Bv(e.priority,function(){nT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zm(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ym=i,n.target.dispatchEvent(i),ym=null}else return t=Ua(n),t!==null&&n1(t),e.blockedOn=n,!1;t.shift()}return!0}function sT(e,t,n){fc(e)&&n.delete(t)}function gV(){Jm=!1,ss!==null&&fc(ss)&&(ss=null),rs!==null&&fc(rs)&&(rs=null),as!==null&&fc(as)&&(as=null),bl.forEach(sT),El.forEach(sT)}function Uu(e,t){e.blockedOn===t&&(e.blockedOn=null,Jm||(Jm=!0,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,gV)))}var zu=null;function rT(e){zu!==e&&(zu=e,ie.unstable_scheduleCallback(ie.unstable_NormalPriority,function(){zu===e&&(zu=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if($g(i||n)===null)continue;break}var r=Ua(n);r!==null&&(e.splice(t,3),t-=3,Mm(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Ra(e){function t(u){return Uu(u,e)}ss!==null&&Uu(ss,e),rs!==null&&Uu(rs,e),as!==null&&Uu(as,e),bl.forEach(t),El.forEach(t);for(var n=0;n<Fi.length;n++){var i=Fi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)s1(n),n.blockedOn===null&&Fi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Be]||null;if(typeof r=="function")a||rT(n);else if(a){var o=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Be]||null)o=a.formAction;else if($g(s)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),rT(n)}}}function r1(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Qg(e){this._internalRoot=e}Gh.prototype.render=Qg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,i=Je();e1(n,i,e,t,null,null)};Gh.prototype.unmount=Qg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e1(e.current,2,null,e,null,null),Fh(),t[ja]=null}};function Gh(e){this._internalRoot=e}Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=OA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fi.length&&t!==0&&t<Fi[n].priority;n++);Fi.splice(n,0,e),n===0&&s1(e)}};var aT=TA.version;if(aT!=="19.2.0")throw Error(L(527,aT,"19.2.0"));mt.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=K2(t),e=e!==null?SA(e):null,e=e===null?null:e.stateNode,e};var yV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Fl=Bu.inject(yV),We=Bu}catch{}}Ch.createRoot=function(e,t){if(!bA(e))throw Error(L(299));var n=!1,i="",s=XS,r=WS,a=ZS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Jw(e,1,!1,null,null,n,i,null,s,r,a,r1),e[ja]=t.current,Hg(e),new Qg(t)};Ch.hydrateRoot=function(e,t,n){if(!bA(e))throw Error(L(299));var i=!1,s="",r=XS,a=WS,o=ZS,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=Jw(e,1,!0,t,n??null,i,s,u,r,a,o,r1),t.context=t1(null),n=t.current,i=Je(),i=ig(i),s=ts(i),s.callback=null,es(n,s,i),n=i,t.current.lanes=n,ql(t,n),Wn(t),e[ja]=t.current,Hg(e),new Gh(t)};Ch.version="19.2.0";function a1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a1)}catch(e){console.error(e)}}a1(),mA.exports=Ch;var vV=mA.exports;const Xg=U.createContext({});function Wg(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const Zg=typeof window<"u",o1=Zg?U.useLayoutEffect:U.useEffect,Kh=U.createContext(null);function Jg(e,t){e.indexOf(t)===-1&&e.push(t)}function ty(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ti=(e,t,n)=>n>t?t:n<e?e:n;let ey=()=>{};const bi={},l1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function u1(e){return typeof e=="object"&&e!==null}const c1=e=>/^0[^.\s]+$/u.test(e);function ny(e){let t;return()=>(t===void 0&&(t=e()),t)}const vn=e=>e,_V=(e,t)=>n=>t(e(n)),Jl=(...e)=>e.reduce(_V),Al=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class iy{constructor(){this.subscriptions=[]}add(t){return Jg(this.subscriptions,t),()=>ty(this.subscriptions,t)}notify(t,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=e=>e*1e3,pn=e=>e/1e3;function h1(e,t){return t?e*(1e3/t):0}const f1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TV=1e-7,bV=12;function EV(e,t,n,i,s){let r,a,o=0;do a=t+(n-t)/2,r=f1(a,i,s)-e,r>0?n=a:t=a;while(Math.abs(r)>TV&&++o<bV);return a}function tu(e,t,n,i){if(e===t&&n===i)return vn;const s=r=>EV(r,0,1,e,n);return r=>r===0||r===1?r:f1(s(r),t,i)}const d1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,m1=e=>t=>1-e(1-t),p1=tu(.33,1.53,.69,.99),sy=m1(p1),g1=d1(sy),y1=e=>(e*=2)<1?.5*sy(e):.5*(2-Math.pow(2,-10*(e-1))),ry=e=>1-Math.sin(Math.acos(e)),v1=m1(ry),_1=d1(ry),AV=tu(.42,0,1,1),SV=tu(0,0,.58,1),T1=tu(.42,0,.58,1),wV=e=>Array.isArray(e)&&typeof e[0]!="number",b1=e=>Array.isArray(e)&&typeof e[0]=="number",xV={linear:vn,easeIn:AV,easeInOut:T1,easeOut:SV,circIn:ry,circInOut:_1,circOut:v1,backIn:sy,backInOut:g1,backOut:p1,anticipate:y1},RV=e=>typeof e=="string",oT=e=>{if(b1(e)){ey(e.length===4);const[t,n,i,s]=e;return tu(t,n,i,s)}else if(RV(e))return xV[e];return e},Fu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CV(e,t){let n=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(h){a.has(h)&&(c.schedule(h),e()),h(o)}const c={schedule:(h,d=!1,m=!1)=>{const w=m&&s?n:i;return d&&a.add(h),w.has(h)||w.add(h),h},cancel:h=>{i.delete(h),a.delete(h)},process:h=>{if(o=h,s){r=!0;return}s=!0,[n,i]=[i,n],n.forEach(u),n.clear(),s=!1,r&&(r=!1,c.process(h))}};return c}const IV=40;function E1(e,t){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=Fu.reduce((S,N)=>(S[N]=CV(r),S),{}),{setup:o,read:u,resolveKeyframes:c,preUpdate:h,update:d,preRender:m,render:g,postRender:w}=a,I=()=>{const S=bi.useManualTiming?s.timestamp:performance.now();n=!1,bi.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(S-s.timestamp,IV),1)),s.timestamp=S,s.isProcessing=!0,o.process(s),u.process(s),c.process(s),h.process(s),d.process(s),m.process(s),g.process(s),w.process(s),s.isProcessing=!1,n&&t&&(i=!1,e(I))},D=()=>{n=!0,i=!0,s.isProcessing||e(I)};return{schedule:Fu.reduce((S,N)=>{const P=a[N];return S[N]=(z,E=!1,_=!1)=>(n||D(),P.schedule(z,E,_)),S},{}),cancel:S=>{for(let N=0;N<Fu.length;N++)a[Fu[N]].cancel(S)},state:s,steps:a}}const{schedule:Vt,cancel:gs,state:ue,steps:Rd}=E1(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0);let dc;function NV(){dc=void 0}const Ue={now:()=>(dc===void 0&&Ue.set(ue.isProcessing||bi.useManualTiming?ue.timestamp:performance.now()),dc),set:e=>{dc=e,queueMicrotask(NV)}},A1=e=>t=>typeof t=="string"&&t.startsWith(e),ay=A1("--"),DV=A1("var(--"),oy=e=>DV(e)?VV.test(e.split("/*")[0].trim()):!1,VV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ga={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sl={...Ga,transform:e=>Ti(0,1,e)},Hu={...Ga,default:1},Zo=e=>Math.round(e*1e5)/1e5,ly=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MV(e){return e==null}const OV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uy=(e,t)=>n=>!!(typeof n=="string"&&OV.test(n)&&n.startsWith(e)||t&&!MV(n)&&Object.prototype.hasOwnProperty.call(n,t)),S1=(e,t,n)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(ly);return{[e]:parseFloat(s),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},PV=e=>Ti(0,255,e),Cd={...Ga,transform:e=>Math.round(PV(e))},Gs={test:uy("rgb","red"),parse:S1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Cd.transform(e)+", "+Cd.transform(t)+", "+Cd.transform(n)+", "+Zo(Sl.transform(i))+")"};function kV(e){let t="",n="",i="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const tp={test:uy("#"),parse:kV,transform:Gs.transform},eu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ki=eu("deg"),Bn=eu("%"),X=eu("px"),LV=eu("vh"),jV=eu("vw"),lT={...Bn,parse:e=>Bn.parse(e)/100,transform:e=>Bn.transform(e*100)},Zr={test:uy("hsl","hue"),parse:S1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Bn.transform(Zo(t))+", "+Bn.transform(Zo(n))+", "+Zo(Sl.transform(i))+")"},Gt={test:e=>Gs.test(e)||tp.test(e)||Zr.test(e),parse:e=>Gs.test(e)?Gs.parse(e):Zr.test(e)?Zr.parse(e):tp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Gs.transform(e):Zr.transform(e),getAnimatableNone:e=>{const t=Gt.parse(e);return t.alpha=0,Gt.transform(t)}},UV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zV(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ly))==null?void 0:t.length)||0)+(((n=e.match(UV))==null?void 0:n.length)||0)>0}const w1="number",x1="color",BV="var",FV="var(",uT="${}",HV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=t.replace(HV,u=>(Gt.test(u)?(i.color.push(r),s.push(x1),n.push(Gt.parse(u))):u.startsWith(FV)?(i.var.push(r),s.push(BV),n.push(u)):(i.number.push(r),s.push(w1),n.push(parseFloat(u))),++r,uT)).split(uT);return{values:n,split:o,indexes:i,types:s}}function R1(e){return wl(e).values}function C1(e){const{split:t,types:n}=wl(e),i=t.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=t[a],s[a]!==void 0){const o=n[a];o===w1?r+=Zo(s[a]):o===x1?r+=Gt.transform(s[a]):r+=s[a]}return r}}const qV=e=>typeof e=="number"?0:Gt.test(e)?Gt.getAnimatableNone(e):e;function GV(e){const t=R1(e);return C1(e)(t.map(qV))}const ys={test:zV,parse:R1,createTransformer:C1,getAnimatableNone:GV};function Id(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KV({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let s=0,r=0,a=0;if(!t)s=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;s=Id(u,o,e+1/3),r=Id(u,o,e),a=Id(u,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function nh(e,t){return n=>n>0?t:e}const Mt=(e,t,n)=>e+(t-e)*n,Nd=(e,t,n)=>{const i=e*e,s=n*(t*t-i)+i;return s<0?0:Math.sqrt(s)},YV=[tp,Gs,Zr],$V=e=>YV.find(t=>t.test(e));function cT(e){const t=$V(e);if(!t)return!1;let n=t.parse(e);return t===Zr&&(n=KV(n)),n}const hT=(e,t)=>{const n=cT(e),i=cT(t);if(!n||!i)return nh(e,t);const s={...n};return r=>(s.red=Nd(n.red,i.red,r),s.green=Nd(n.green,i.green,r),s.blue=Nd(n.blue,i.blue,r),s.alpha=Mt(n.alpha,i.alpha,r),Gs.transform(s))},ep=new Set(["none","hidden"]);function QV(e,t){return ep.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function XV(e,t){return n=>Mt(e,t,n)}function cy(e){return typeof e=="number"?XV:typeof e=="string"?oy(e)?nh:Gt.test(e)?hT:JV:Array.isArray(e)?I1:typeof e=="object"?Gt.test(e)?hT:WV:nh}function I1(e,t){const n=[...e],i=n.length,s=e.map((r,a)=>cy(r)(r,t[a]));return r=>{for(let a=0;a<i;a++)n[a]=s[a](r);return n}}function WV(e,t){const n={...e,...t},i={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(i[s]=cy(e[s])(e[s],t[s]));return s=>{for(const r in i)n[r]=i[r](s);return n}}function ZV(e,t){const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],a=e.indexes[r][i[r]],o=e.values[a]??0;n[s]=o,i[r]++}return n}const JV=(e,t)=>{const n=ys.createTransformer(t),i=wl(e),s=wl(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?ep.has(e)&&!s.values.length||ep.has(t)&&!i.values.length?QV(e,t):Jl(I1(ZV(i,s),s.values),n):nh(e,t)};function N1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Mt(e,t,n):cy(e)(e,t)}const tM=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Vt.update(t,n),stop:()=>gs(t),now:()=>ue.isProcessing?ue.timestamp:Ue.now()}},D1=(e,t,n=10)=>{let i="";const s=Math.max(Math.round(t/n),2);for(let r=0;r<s;r++)i+=Math.round(e(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ih=2e4;function hy(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<ih;)t+=n,i=e.next(t);return t>=ih?1/0:t}function eM(e,t=100,n){const i=n({...e,keyframes:[0,t]}),s=Math.min(hy(i),ih);return{type:"keyframes",ease:r=>i.next(s*r).value/t,duration:pn(s)}}const nM=5;function V1(e,t,n){const i=Math.max(t-nM,0);return h1(n-e(i),t-i)}const Lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dd=.001;function iM({duration:e=Lt.duration,bounce:t=Lt.bounce,velocity:n=Lt.velocity,mass:i=Lt.mass}){let s,r,a=1-t;a=Ti(Lt.minDamping,Lt.maxDamping,a),e=Ti(Lt.minDuration,Lt.maxDuration,pn(e)),a<1?(s=c=>{const h=c*a,d=h*e,m=h-n,g=np(c,a),w=Math.exp(-d);return Dd-m/g*w},r=c=>{const d=c*a*e,m=d*n+n,g=Math.pow(a,2)*Math.pow(c,2)*e,w=Math.exp(-d),I=np(Math.pow(c,2),a);return(-s(c)+Dd>0?-1:1)*((m-g)*w)/I}):(s=c=>{const h=Math.exp(-c*e),d=(c-n)*e+1;return-Dd+h*d},r=c=>{const h=Math.exp(-c*e),d=(n-c)*(e*e);return h*d});const o=5/e,u=rM(s,r,o);if(e=zn(e),isNaN(u))return{stiffness:Lt.stiffness,damping:Lt.damping,duration:e};{const c=Math.pow(u,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:e}}}const sM=12;function rM(e,t,n){let i=n;for(let s=1;s<sM;s++)i=i-e(i)/t(i);return i}function np(e,t){return e*Math.sqrt(1-t*t)}const aM=["duration","bounce"],oM=["stiffness","damping","mass"];function fT(e,t){return t.some(n=>e[n]!==void 0)}function lM(e){let t={velocity:Lt.velocity,stiffness:Lt.stiffness,damping:Lt.damping,mass:Lt.mass,isResolvedFromDuration:!1,...e};if(!fT(e,oM)&&fT(e,aM))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,r=2*Ti(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Lt.mass,stiffness:s,damping:r}}else{const n=iM(e);t={...t,...n,mass:Lt.mass},t.isResolvedFromDuration=!0}return t}function sh(e=Lt.visualDuration,t=Lt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:u,damping:c,mass:h,duration:d,velocity:m,isResolvedFromDuration:g}=lM({...n,velocity:-pn(n.velocity||0)}),w=m||0,I=c/(2*Math.sqrt(u*h)),D=a-r,v=pn(Math.sqrt(u/h)),T=Math.abs(D)<5;i||(i=T?Lt.restSpeed.granular:Lt.restSpeed.default),s||(s=T?Lt.restDelta.granular:Lt.restDelta.default);let S;if(I<1){const P=np(v,I);S=z=>{const E=Math.exp(-I*v*z);return a-E*((w+I*v*D)/P*Math.sin(P*z)+D*Math.cos(P*z))}}else if(I===1)S=P=>a-Math.exp(-v*P)*(D+(w+v*D)*P);else{const P=v*Math.sqrt(I*I-1);S=z=>{const E=Math.exp(-I*v*z),_=Math.min(P*z,300);return a-E*((w+I*v*D)*Math.sinh(_)+P*D*Math.cosh(_))/P}}const N={calculatedDuration:g&&d||null,next:P=>{const z=S(P);if(g)o.done=P>=d;else{let E=P===0?w:0;I<1&&(E=P===0?zn(w):V1(S,P,z));const _=Math.abs(E)<=i,A=Math.abs(a-z)<=s;o.done=_&&A}return o.value=o.done?a:z,o},toString:()=>{const P=Math.min(hy(N),ih),z=D1(E=>N.next(P*E).value,P,30);return P+"ms "+z},toTransition:()=>{}};return N}sh.applyToOptions=e=>{const t=eM(e,100,sh);return e.ease=t.ease,e.duration=zn(t.duration),e.type="keyframes",e};function ip({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:h}){const d=e[0],m={done:!1,value:d},g=_=>o!==void 0&&_<o||u!==void 0&&_>u,w=_=>o===void 0?u:u===void 0||Math.abs(o-_)<Math.abs(u-_)?o:u;let I=n*t;const D=d+I,v=a===void 0?D:a(D);v!==D&&(I=v-d);const T=_=>-I*Math.exp(-_/i),S=_=>v+T(_),N=_=>{const A=T(_),x=S(_);m.done=Math.abs(A)<=c,m.value=m.done?v:x};let P,z;const E=_=>{g(m.value)&&(P=_,z=sh({keyframes:[m.value,w(m.value)],velocity:V1(S,_,m.value),damping:s,stiffness:r,restDelta:c,restSpeed:h}))};return E(0),{calculatedDuration:null,next:_=>{let A=!1;return!z&&P===void 0&&(A=!0,N(_),E(_)),P!==void 0&&_>=P?z.next(_-P):(!A&&N(_),m)}}}function uM(e,t,n){const i=[],s=n||bi.mix||N1,r=e.length-1;for(let a=0;a<r;a++){let o=s(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||vn:t;o=Jl(u,o)}i.push(o)}return i}function cM(e,t,{clamp:n=!0,ease:i,mixer:s}={}){const r=e.length;if(ey(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=uM(t,i,s),u=o.length,c=h=>{if(a&&h<e[0])return t[0];let d=0;if(u>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const m=Al(e[d],e[d+1],h);return o[d](m)};return n?h=>c(Ti(e[0],e[r-1],h)):c}function hM(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const s=Al(0,t,i);e.push(Mt(n,1,s))}}function fM(e){const t=[0];return hM(t,e.length-1),t}function dM(e,t){return e.map(n=>n*t)}function mM(e,t){return e.map(()=>t||T1).splice(0,e.length-1)}function Jo({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const s=wV(i)?i.map(oT):oT(i),r={done:!1,value:t[0]},a=dM(n&&n.length===t.length?n:fM(t),e),o=cM(a,t,{ease:Array.isArray(s)?s:mM(t,s)});return{calculatedDuration:e,next:u=>(r.value=o(u),r.done=u>=e,r)}}const pM=e=>e!==null;function fy(e,{repeat:t,repeatType:n="loop"},i,s=1){const r=e.filter(pM),o=s<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const gM={decay:ip,inertia:ip,tween:Jo,keyframes:Jo,spring:sh};function M1(e){typeof e.type=="string"&&(e.type=gM[e.type])}class dy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const yM=e=>e/100;class my extends dy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ue.now()&&this.tick(Ue.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;M1(t);const{type:n=Jo,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const u=n||Jo;u!==Jo&&typeof o[0]!="number"&&(this.mixKeyframes=Jl(yM,N1(o[0],o[1])),o=[0,100]);const c=u({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=hy(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:g,type:w,onUpdate:I,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,N=i;if(d){const _=Math.min(this.currentTime,s)/o;let A=Math.floor(_),x=_%1;!x&&_>=1&&(x=1),x===1&&A--,A=Math.min(A,d+1),!!(A%2)&&(m==="reverse"?(x=1-x,g&&(x-=g/o)):m==="mirror"&&(N=a)),S=Ti(0,1,x)*o}const P=T?{done:!1,value:h[0]}:N.next(S);r&&(P.value=r(P.value));let{done:z}=P;!T&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return E&&w!==ip&&(P.value=fy(h,this.options,D,this.speed)),I&&I(P.value),E&&this.finish(),P}then(t,n){return this.finished.then(t,n)}get duration(){return pn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pn(t)}get time(){return pn(this.currentTime)}set time(t){var n;t=zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ue.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=pn(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:t=tM,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ue.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function vM(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ks=e=>e*180/Math.PI,sp=e=>{const t=Ks(Math.atan2(e[1],e[0]));return rp(t)},_M={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:sp,rotateZ:sp,skewX:e=>Ks(Math.atan(e[1])),skewY:e=>Ks(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rp=e=>(e=e%360,e<0&&(e+=360),e),dT=sp,mT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),pT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),TM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mT,scaleY:pT,scale:e=>(mT(e)+pT(e))/2,rotateX:e=>rp(Ks(Math.atan2(e[6],e[5]))),rotateY:e=>rp(Ks(Math.atan2(-e[2],e[0]))),rotateZ:dT,rotate:dT,skewX:e=>Ks(Math.atan(e[4])),skewY:e=>Ks(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ap(e){return e.includes("scale")?1:0}function op(e,t){if(!e||e==="none")return ap(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=TM,s=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=_M,s=o}if(!s)return ap(t);const r=i[t],a=s[1].split(",").map(EM);return typeof r=="function"?r(a):a[r]}const bM=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return op(n,t)};function EM(e){return parseFloat(e.trim())}const Ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ya=new Set(Ka),gT=e=>e===Ga||e===X,AM=new Set(["x","y","z"]),SM=Ka.filter(e=>!AM.has(e));function wM(e){const t=[];return SM.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const er={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>op(t,"x"),y:(e,{transform:t})=>op(t,"y")};er.translateX=er.x;er.translateY=er.y;const nr=new Set;let lp=!1,up=!1,cp=!1;function O1(){if(up){const e=Array.from(nr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const s=wM(i);s.length&&(n.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))==null||o.set(a)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}up=!1,lp=!1,nr.forEach(e=>e.complete(cp)),nr.clear()}function P1(){nr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(up=!0)})}function xM(){cp=!0,P1(),O1(),cp=!1}class py{constructor(t,n,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(nr.add(this),lp||(lp=!0,Vt.read(P1),Vt.resolveKeyframes(O1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:s}=this;if(t[0]===null){const r=s==null?void 0:s.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(i&&n){const o=i.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),s&&r===void 0&&s.set(t[0])}vM(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),nr.delete(this)}cancel(){this.state==="scheduled"&&(nr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RM=e=>e.startsWith("--");function CM(e,t,n){RM(t)?e.style.setProperty(t,n):e.style[t]=n}const IM=ny(()=>window.ScrollTimeline!==void 0),NM={};function DM(e,t){const n=ny(e);return()=>NM[t]??n()}const k1=DM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mo=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,yT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mo([0,.65,.55,1]),circOut:Mo([.55,0,1,.45]),backIn:Mo([.31,.01,.66,-.59]),backOut:Mo([.33,1.53,.69,.99])};function L1(e,t){if(e)return typeof e=="function"?k1()?D1(e,t):"ease-out":b1(e)?Mo(e):Array.isArray(e)?e.map(n=>L1(n,t)||yT.easeOut):yT[e]}function VM(e,t,n,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:u}={},c=void 0){const h={[t]:n};u&&(h.offset=u);const d=L1(o,s);Array.isArray(d)&&(h.easing=d);const m={delay:i,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),e.animate(h,m)}function j1(e){return typeof e=="function"&&"applyToOptions"in e}function MM({type:e,...t}){return j1(e)&&k1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class OM extends dy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,ey(typeof t.type!="string");const c=MM(t);this.animation=VM(n,i,s,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const h=fy(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):CM(n,i,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return pn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+pn(t)}get time(){return pn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&IM()?(this.animation.timeline=t,vn):n(this)}}const U1={anticipate:y1,backInOut:g1,circInOut:_1};function PM(e){return e in U1}function kM(e){typeof e.ease=="string"&&PM(e.ease)&&(e.ease=U1[e.ease])}const vT=10;class LM extends OM{constructor(t){kM(t),M1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new my({...a,autoplay:!1}),u=zn(this.finishedTime??this.time);n.setWithVelocity(o.sample(u-vT).value,o.sample(u).value,vT),o.stop()}}const _T=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ys.test(e)||e==="0")&&!e.startsWith("url("));function jM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UM(e,t,n,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=_T(s,t),o=_T(r,t);return!a||!o?!1:jM(e)||(n==="spring"||j1(n))&&i}function hp(e){e.duration=0,e.type="keyframes"}const zM=new Set(["opacity","clipPath","filter","transform"]),BM=ny(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FM(e){var h;const{motionValue:t,name:n,repeatDelay:i,repeatType:s,damping:r,type:a}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=t.owner.getProps();return BM()&&n&&zM.has(n)&&(n!=="transform"||!c)&&!u&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const HM=40;class qM extends dy{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:u,motionValue:c,element:h,...d}){var w;super(),this.stop=()=>{var I,D;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=Ue.now();const m={autoplay:t,delay:n,type:i,repeat:s,repeatDelay:r,repeatType:a,name:u,motionValue:c,element:h,...d},g=(h==null?void 0:h.KeyframeResolver)||py;this.keyframeResolver=new g(o,(I,D,v)=>this.onKeyframesResolved(I,D,m,!v),u,c,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:u,isHandoff:c,onUpdate:h}=i;this.resolvedAt=Ue.now(),UM(t,r,a,o)||((bi.instantAnimations||!u)&&(h==null||h(fy(t,i,n))),t[0]=t[t.length-1],hp(i),i.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>HM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},g=!c&&FM(m)?new LM({...m,element:m.motionValue.owner.current}):new my(m);g.finished.then(()=>this.notifyFinished()).catch(vn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const GM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KM(e){const t=GM.exec(e);if(!t)return[,];const[,n,i,s]=t;return[`--${n??i}`,s]}function z1(e,t,n=1){const[i,s]=KM(e);if(!i)return;const r=window.getComputedStyle(t).getPropertyValue(i);if(r){const a=r.trim();return l1(a)?parseFloat(a):a}return oy(s)?z1(s,t,n+1):s}function gy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const B1=new Set(["width","height","top","left","right","bottom",...Ka]),YM={test:e=>e==="auto",parse:e=>e},F1=e=>t=>t.test(e),H1=[Ga,X,Bn,ki,jV,LV,YM],TT=e=>H1.find(F1(e));function $M(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||c1(e):!0}const QM=new Set(["brightness","contrast","saturate","opacity"]);function XM(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(ly)||[];if(!i)return e;const s=n.replace(i,"");let r=QM.has(t)?1:0;return i!==n&&(r*=100),t+"("+r+s+")"}const WM=/\b([a-z-]*)\(.*?\)/gu,fp={...ys,getAnimatableNone:e=>{const t=e.match(WM);return t?t.map(XM).join(" "):e}},bT={...Ga,transform:Math.round},ZM={rotate:ki,rotateX:ki,rotateY:ki,rotateZ:ki,scale:Hu,scaleX:Hu,scaleY:Hu,scaleZ:Hu,skew:ki,skewX:ki,skewY:ki,distance:X,translateX:X,translateY:X,translateZ:X,x:X,y:X,z:X,perspective:X,transformPerspective:X,opacity:Sl,originX:lT,originY:lT,originZ:X},yy={borderWidth:X,borderTopWidth:X,borderRightWidth:X,borderBottomWidth:X,borderLeftWidth:X,borderRadius:X,radius:X,borderTopLeftRadius:X,borderTopRightRadius:X,borderBottomRightRadius:X,borderBottomLeftRadius:X,width:X,maxWidth:X,height:X,maxHeight:X,top:X,right:X,bottom:X,left:X,padding:X,paddingTop:X,paddingRight:X,paddingBottom:X,paddingLeft:X,margin:X,marginTop:X,marginRight:X,marginBottom:X,marginLeft:X,backgroundPositionX:X,backgroundPositionY:X,...ZM,zIndex:bT,fillOpacity:Sl,strokeOpacity:Sl,numOctaves:bT},JM={...yy,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:fp,WebkitFilter:fp},q1=e=>JM[e];function G1(e,t){let n=q1(e);return n!==fp&&(n=ys),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tO=new Set(["auto","none","0"]);function eO(e,t,n){let i=0,s;for(;i<e.length&&!s;){const r=e[i];typeof r=="string"&&!tO.has(r)&&wl(r).values.length&&(s=e[i]),i++}if(s&&n)for(const r of t)e[r]=G1(n,s)}class nO extends py{constructor(t,n,i,s,r){super(t,n,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let c=t[u];if(typeof c=="string"&&(c=c.trim(),oy(c))){const h=z1(c,n.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!B1.has(i)||t.length!==2)return;const[s,r]=t,a=TT(s),o=TT(r);if(a!==o)if(gT(a)&&gT(o))for(let u=0;u<t.length;u++){const c=t[u];typeof c=="string"&&(t[u]=parseFloat(c))}else er[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||$M(t[s]))&&i.push(s);i.length&&eO(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=er[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){var o;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=er[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([u,c])=>{t.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function K1(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Y1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function $1(e){return u1(e)&&"offsetHeight"in e}const ET=30,iO=e=>!isNaN(parseFloat(e));class sO{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var r;const s=Ue.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ue.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=iO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new iy);const i=this.events[t].add(n);return t==="change"?()=>{i(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ue.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ET)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ET);return h1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ca(e,t){return new sO(e,t)}const{schedule:vy}=E1(queueMicrotask,!1),En={x:!1,y:!1};function Q1(){return En.x||En.y}function rO(e){return e==="x"||e==="y"?En[e]?null:(En[e]=!0,()=>{En[e]=!1}):En.x||En.y?null:(En.x=En.y=!0,()=>{En.x=En.y=!1})}function X1(e,t){const n=K1(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[n,s,()=>i.abort()]}function AT(e){return!(e.pointerType==="touch"||Q1())}function aO(e,t,n={}){const[i,s,r]=X1(e,n),a=o=>{if(!AT(o))return;const{target:u}=o,c=t(u,o);if(typeof c!="function"||!u)return;const h=d=>{AT(d)&&(c(d),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,s)};return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const W1=(e,t)=>t?e===t?!0:W1(e,t.parentElement):!1,_y=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,oO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lO(e){return oO.has(e.tagName)||e.tabIndex!==-1}const mc=new WeakSet;function ST(e){return t=>{t.key==="Enter"&&e(t)}}function Vd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uO=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=ST(()=>{if(mc.has(n))return;Vd(n,"down");const s=ST(()=>{Vd(n,"up")}),r=()=>Vd(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function wT(e){return _y(e)&&!Q1()}function cO(e,t,n={}){const[i,s,r]=X1(e,n),a=o=>{const u=o.currentTarget;if(!wT(o))return;mc.add(u);const c=t(u,o),h=(g,w)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),mc.has(u)&&mc.delete(u),wT(g)&&typeof c=="function"&&c(g,{success:w})},d=g=>{h(g,u===window||u===document||n.useGlobalTarget||W1(u,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return i.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),$1(o)&&(o.addEventListener("focus",c=>uO(c,s)),!lO(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function Z1(e){return u1(e)&&"ownerSVGElement"in e}function hO(e){return Z1(e)&&e.tagName==="svg"}const Ae=e=>!!(e&&e.getVelocity),fO=[...H1,Gt,ys],dO=e=>fO.find(F1(e)),Ty=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mO(...e){return t=>{let n=!1;const i=e.map(s=>{const r=xT(s,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():xT(e[s],null)}}}}function pO(...e){return U.useCallback(mO(...e),e)}class gO extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=$1(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yO({children:e,isPresent:t,anchorX:n,root:i}){const s=U.useId(),r=U.useRef(null),a=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=U.useContext(Ty),u=pO(r,e==null?void 0:e.ref);return U.useInsertionEffect(()=>{const{width:c,height:h,top:d,left:m,right:g}=a.current;if(t||!r.current||!c||!h)return;const w=n==="left"?`left: ${m}`:`right: ${g}`;r.current.dataset.motionPopId=s;const I=document.createElement("style");o&&(I.nonce=o);const D=i??document.head;return D.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${d}px !important;
          }
        `),()=>{D.contains(I)&&D.removeChild(I)}},[t]),y.jsx(gO,{isPresent:t,childRef:r,sizeRef:a,children:U.cloneElement(e,{ref:u})})}const vO=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a,anchorX:o,root:u})=>{const c=Wg(_O),h=U.useId();let d=!0,m=U.useMemo(()=>(d=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const w of c.values())if(!w)return;i&&i()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,i]);return r&&d&&(m={...m}),U.useMemo(()=>{c.forEach((g,w)=>c.set(w,!1))},[n]),U.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),a==="popLayout"&&(e=y.jsx(yO,{isPresent:n,anchorX:o,root:u,children:e})),y.jsx(Kh.Provider,{value:m,children:e})};function _O(){return new Map}function J1(e=!0){const t=U.useContext(Kh);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=t,r=U.useId();U.useEffect(()=>{if(e)return s(r)},[e]);const a=U.useCallback(()=>e&&i&&i(r),[r,i,e]);return!n&&i?[!1,a]:[!0]}const qu=e=>e.key||"";function RT(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const tx=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:o="left",root:u})=>{const[c,h]=J1(a),d=U.useMemo(()=>RT(e),[e]),m=a&&!c?[]:d.map(qu),g=U.useRef(!0),w=U.useRef(d),I=Wg(()=>new Map),[D,v]=U.useState(d),[T,S]=U.useState(d);o1(()=>{g.current=!1,w.current=d;for(let z=0;z<T.length;z++){const E=qu(T[z]);m.includes(E)?I.delete(E):I.get(E)!==!0&&I.set(E,!1)}},[T,m.length,m.join("-")]);const N=[];if(d!==D){let z=[...d];for(let E=0;E<T.length;E++){const _=T[E],A=qu(_);m.includes(A)||(z.splice(E,0,_),N.push(_))}return r==="wait"&&N.length&&(z=N),S(RT(z)),v(d),null}const{forceRender:P}=U.useContext(Xg);return y.jsx(y.Fragment,{children:T.map(z=>{const E=qu(z),_=a&&!c?!1:d===T||m.includes(E),A=()=>{if(I.has(E))I.set(E,!0);else return;let x=!0;I.forEach(C=>{C||(x=!1)}),x&&(P==null||P(),S(w.current),a&&(h==null||h()),i&&i())};return y.jsx(vO,{isPresent:_,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:r,root:u,onExitComplete:_?void 0:A,anchorX:o,children:z},E)})})},ex=U.createContext({strict:!1}),CT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const e in CT)Ia[e]={isEnabled:t=>CT[e].some(n=>!!t[n])};function TO(e){for(const t in e)Ia[t]={...Ia[t],...e[t]}}const bO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bO.has(e)}let nx=e=>!rh(e);function EO(e){typeof e=="function"&&(nx=t=>t.startsWith("on")?!rh(t):e(t))}try{EO(require("@emotion/is-prop-valid").default)}catch{}function AO(e,t,n){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(nx(s)||n===!0&&rh(s)||!t&&!rh(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Yh=U.createContext({});function $h(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xl(e){return typeof e=="string"||Array.isArray(e)}const by=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ey=["initial",...by];function Qh(e){return $h(e.animate)||Ey.some(t=>xl(e[t]))}function ix(e){return!!(Qh(e)||e.variants)}function SO(e,t){if(Qh(e)){const{initial:n,animate:i}=e;return{initial:n===!1||xl(n)?n:void 0,animate:xl(i)?i:void 0}}return e.inherit!==!1?t:{}}function wO(e){const{initial:t,animate:n}=SO(e,U.useContext(Yh));return U.useMemo(()=>({initial:t,animate:n}),[IT(t),IT(n)])}function IT(e){return Array.isArray(e)?e.join(" "):e}const Rl={};function xO(e){for(const t in e)Rl[t]=e[t],ay(t)&&(Rl[t].isCSSVariable=!0)}function sx(e,{layout:t,layoutId:n}){return Ya.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Rl[e]||e==="opacity")}const RO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CO=Ka.length;function IO(e,t,n){let i="",s=!0;for(let r=0;r<CO;r++){const a=Ka[r],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const c=Y1(o,yy[a]);if(!u){s=!1;const h=RO[a]||a;i+=`${h}(${c}) `}n&&(t[a]=c)}}return i=i.trim(),n?i=n(t,s?"":i):s&&(i="none"),i}function Ay(e,t,n){const{style:i,vars:s,transformOrigin:r}=e;let a=!1,o=!1;for(const u in t){const c=t[u];if(Ya.has(u)){a=!0;continue}else if(ay(u)){s[u]=c;continue}else{const h=Y1(c,yy[u]);u.startsWith("origin")?(o=!0,r[u]=h):i[u]=h}}if(t.transform||(a||n?i.transform=IO(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:h=0}=r;i.transformOrigin=`${u} ${c} ${h}`}}const Sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rx(e,t,n){for(const i in t)!Ae(t[i])&&!sx(i,n)&&(e[i]=t[i])}function NO({transformTemplate:e},t){return U.useMemo(()=>{const n=Sy();return Ay(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DO(e,t){const n=e.style||{},i={};return rx(i,n,e),Object.assign(i,NO(e,t)),i}function VO(e,t){const n={},i=DO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const MO={offset:"stroke-dashoffset",array:"stroke-dasharray"},OO={offset:"strokeDashoffset",array:"strokeDasharray"};function PO(e,t,n=1,i=0,s=!0){e.pathLength=1;const r=s?MO:OO;e[r.offset]=X.transform(-i);const a=X.transform(t),o=X.transform(n);e[r.array]=`${a} ${o}`}function ax(e,{attrX:t,attrY:n,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...o},u,c,h){if(Ay(e,o,c),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m}=e;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),s!==void 0&&PO(d,s,r,a,!1)}const ox=()=>({...Sy(),attrs:{}}),lx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kO(e,t,n,i){const s=U.useMemo(()=>{const r=ox();return ax(r,t,lx(i),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};rx(r,e.style,e),s.style={...r,...s.style}}return s}const LO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wy(e){return typeof e!="string"||e.includes("-")?!1:!!(LO.indexOf(e)>-1||/[A-Z]/u.test(e))}function jO(e,t,n,{latestValues:i},s,r=!1){const o=(wy(e)?kO:VO)(t,i,s,e),u=AO(t,typeof e=="string",r),c=e!==U.Fragment?{...u,...o,ref:n}:{},{children:h}=t,d=U.useMemo(()=>Ae(h)?h.get():h,[h]);return U.createElement(e,{...c,children:d})}function NT(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function xy(e,t,n,i){if(typeof t=="function"){const[s,r]=NT(i);t=t(n!==void 0?n:e.custom,s,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,r]=NT(i);t=t(n!==void 0?n:e.custom,s,r)}return t}function pc(e){return Ae(e)?e.get():e}function UO({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,s){return{latestValues:zO(n,i,s,e),renderState:t()}}function zO(e,t,n,i){const s={},r=i(e,{});for(const m in r)s[m]=pc(r[m]);let{initial:a,animate:o}=e;const u=Qh(e),c=ix(e);t&&c&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!$h(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const w=xy(e,m[g]);if(w){const{transitionEnd:I,transition:D,...v}=w;for(const T in v){let S=v[T];if(Array.isArray(S)){const N=h?S.length-1:0;S=S[N]}S!==null&&(s[T]=S)}for(const T in I)s[T]=I[T]}}}return s}const ux=e=>(t,n)=>{const i=U.useContext(Yh),s=U.useContext(Kh),r=()=>UO(e,t,i,s);return n?r():Wg(r)};function Ry(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(Ae(i[a])||t.style&&Ae(t.style[a])||sx(a,e)||((r=n==null?void 0:n.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const BO=ux({scrapeMotionValuesFromProps:Ry,createRenderState:Sy});function cx(e,t,n){const i=Ry(e,t,n);for(const s in e)if(Ae(e[s])||Ae(t[s])){const r=Ka.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=e[s]}return i}const FO=ux({scrapeMotionValuesFromProps:cx,createRenderState:ox}),HO=Symbol.for("motionComponentSymbol");function Jr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qO(e,t,n){return U.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Jr(n)&&(n.current=i))},[t])}const Cy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GO="framerAppearId",hx="data-"+Cy(GO),fx=U.createContext({});function KO(e,t,n,i,s){var I,D;const{visualElement:r}=U.useContext(Yh),a=U.useContext(ex),o=U.useContext(Kh),u=U.useContext(Ty).reducedMotion,c=U.useRef(null);i=i||a.renderer,!c.current&&i&&(c.current=i(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,d=U.useContext(fx);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&YO(c.current,n,s,d);const m=U.useRef(!1);U.useInsertionEffect(()=>{h&&m.current&&h.update(n,o)});const g=n[hx],w=U.useRef(!!g&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,g))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,g)));return o1(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),U.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),w.current=!1),h.enteringChildren=void 0)}),h}function YO(e,t,n,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:dx(e.parent)),e.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&Jr(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:h,layoutScroll:u,layoutRoot:c})}function dx(e){if(e)return e.options.allowProjection!==!1?e.projection:dx(e.parent)}function Md(e,{forwardMotionProps:t=!1}={},n,i){n&&TO(n);const s=wy(e)?FO:BO;function r(o,u){let c;const h={...U.useContext(Ty),...o,layoutId:$O(o)},{isStatic:d}=h,m=wO(o),g=s(o,d);if(!d&&Zg){QO();const w=XO(h);c=w.MeasureLayout,m.visualElement=KO(e,g,h,i,w.ProjectionNode)}return y.jsxs(Yh.Provider,{value:m,children:[c&&m.visualElement?y.jsx(c,{visualElement:m.visualElement,...h}):null,jO(e,o,qO(g,m.visualElement,u),g,d,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=U.forwardRef(r);return a[HO]=e,a}function $O({layoutId:e}){const t=U.useContext(Xg).id;return t&&e!==void 0?t+"-"+e:e}function QO(e,t){U.useContext(ex).strict}function XO(e){const{drag:t,layout:n}=Ia;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function WO(e,t){if(typeof Proxy>"u")return Md;const n=new Map,i=(r,a)=>Md(r,a,e,t),s=(r,a)=>i(r,a);return new Proxy(s,{get:(r,a)=>a==="create"?i:(n.has(a)||n.set(a,Md(a,void 0,e,t)),n.get(a))})}function mx({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function ZO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function JO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Od(e){return e===void 0||e===1}function dp({scale:e,scaleX:t,scaleY:n}){return!Od(e)||!Od(t)||!Od(n)}function Hs(e){return dp(e)||px(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function px(e){return DT(e.x)||DT(e.y)}function DT(e){return e&&e!=="0%"}function ah(e,t,n){const i=e-n,s=t*i;return n+s}function VT(e,t,n,i,s){return s!==void 0&&(e=ah(e,s,i)),ah(e,n,i)+t}function mp(e,t=0,n=1,i,s){e.min=VT(e.min,t,n,i,s),e.max=VT(e.max,t,n,i,s)}function gx(e,{x:t,y:n}){mp(e.x,t.translate,t.scale,t.originPoint),mp(e.y,n.translate,n.scale,n.originPoint)}const MT=.999999999999,OT=1.0000000000001;function t4(e,t,n,i=!1){const s=n.length;if(!s)return;t.x=t.y=1;let r,a;for(let o=0;o<s;o++){r=n[o],a=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ea(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,gx(e,a)),i&&Hs(r.latestValues)&&ea(e,r.latestValues))}t.x<OT&&t.x>MT&&(t.x=1),t.y<OT&&t.y>MT&&(t.y=1)}function ta(e,t){e.min=e.min+t,e.max=e.max+t}function PT(e,t,n,i,s=.5){const r=Mt(e.min,e.max,s);mp(e,t,n,r,i)}function ea(e,t){PT(e.x,t.x,t.scaleX,t.scale,t.originX),PT(e.y,t.y,t.scaleY,t.scale,t.originY)}function yx(e,t){return mx(JO(e.getBoundingClientRect(),t))}function e4(e,t,n){const i=yx(e,n),{scroll:s}=t;return s&&(ta(i.x,s.offset.x),ta(i.y,s.offset.y)),i}const kT=()=>({translate:0,scale:1,origin:0,originPoint:0}),na=()=>({x:kT(),y:kT()}),LT=()=>({min:0,max:0}),Ut=()=>({x:LT(),y:LT()}),pp={current:null},vx={current:!1};function n4(){if(vx.current=!0,!!Zg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pp.current=e.matches;e.addEventListener("change",t),t()}else pp.current=!1}const i4=new WeakMap;function s4(e,t,n){for(const i in t){const s=t[i],r=n[i];if(Ae(s))e.addValue(i,s);else if(Ae(r))e.addValue(i,Ca(s,{owner:e}));else if(r!==s)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,Ca(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const jT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class r4{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=py,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ue.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Vt.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Qh(n),this.isVariantNode=ix(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];u[m]!==void 0&&Ae(g)&&g.set(u[m])}}mount(t){var n;this.current=t,i4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),vx.current||n4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pp.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ya.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ia){const n=Ia[t];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<jT.length;i++){const s=jT[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=t[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=s4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Ca(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(l1(i)||c1(i))?i=parseFloat(i):!dO(i)&&ys.test(n)&&(i=G1(t,n)),this.setBaseTarget(t,Ae(i)?i.get():i)),Ae(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=xy(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ae(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new iy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){vy.render(this.render)}}class _x extends r4{constructor(){super(...arguments),this.KeyframeResolver=nO}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ae(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tx(e,{style:t,vars:n},i,s){const r=e.style;let a;for(a in t)r[a]=t[a];s==null||s.applyProjectionStyles(r,i);for(a in n)r.setProperty(a,n[a])}function a4(e){return window.getComputedStyle(e)}class o4 extends _x{constructor(){super(...arguments),this.type="html",this.renderInstance=Tx}readValueFromInstance(t,n){var i;if(Ya.has(n))return(i=this.projection)!=null&&i.isProjecting?ap(n):bM(t,n);{const s=a4(t),r=(ay(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yx(t,n)}build(t,n,i){Ay(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Ry(t,n,i)}}const bx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l4(e,t,n,i){Tx(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(bx.has(s)?s:Cy(s),t.attrs[s])}class u4 extends _x{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ya.has(n)){const i=q1(n);return i&&i.default||0}return n=bx.has(n)?n:Cy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return cx(t,n,i)}build(t,n,i){ax(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,s){l4(t,n,i,s)}mount(t){this.isSVGTag=lx(t.tagName),super.mount(t)}}const c4=(e,t)=>wy(e)?new u4(t):new o4(t,{allowProjection:e!==U.Fragment});function ca(e,t,n){const i=e.getProps();return xy(i,t,n!==void 0?n:i.custom,e)}const gp=e=>Array.isArray(e);function h4(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ca(n))}function f4(e){return gp(e)?e[e.length-1]||0:e}function d4(e,t){const n=ca(e,t);let{transitionEnd:i={},transition:s={},...r}=n||{};r={...r,...i};for(const a in r){const o=f4(r[a]);h4(e,a,o)}}function m4(e){return!!(Ae(e)&&e.add)}function yp(e,t){const n=e.getValue("willChange");if(m4(n))return n.add(t);if(!n&&bi.WillChange){const i=new bi.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Ex(e){return e.props[hx]}const p4=e=>e!==null;function g4(e,{repeat:t,repeatType:n="loop"},i){const s=e.filter(p4),r=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[r]}const y4={type:"spring",stiffness:500,damping:25,restSpeed:10},v4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),_4={type:"keyframes",duration:.8},T4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b4=(e,{keyframes:t})=>t.length>2?_4:Ya.has(e)?e.startsWith("scale")?v4(t[1]):y4:T4;function E4({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const Iy=(e,t,n,i={},s,r)=>a=>{const o=gy(i,e)||{},u=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-zn(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:s};E4(o)||Object.assign(h,b4(e,h)),h.duration&&(h.duration=zn(h.duration)),h.repeatDelay&&(h.repeatDelay=zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(hp(h),h.delay===0&&(d=!0)),(bi.instantAnimations||bi.skipAnimations)&&(d=!0,hp(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!r&&t.get()!==void 0){const m=g4(h.keyframes,o);if(m!==void 0){Vt.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new my(h):new qM(h)};function A4({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Ax(e,t,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(r=i);const u=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const h in o){const d=e.getValue(h,e.latestValues[h]??null),m=o[h];if(m===void 0||c&&A4(c,h))continue;const g={delay:n,...gy(r||{},h)},w=d.get();if(w!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===w&&!g.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const v=Ex(e);if(v){const T=window.MotionHandoffAnimation(v,h,Vt);T!==null&&(g.startTime=T,I=!0)}}yp(e,h),d.start(Iy(h,d,m,e.shouldReduceMotion&&B1.has(h)?{type:!1}:g,e,I));const D=d.animation;D&&u.push(D)}return a&&Promise.all(u).then(()=>{Vt.update(()=>{a&&d4(e,a)})}),u}function Sx(e,t,n,i=0,s=1){const r=Array.from(e).sort((c,h)=>c.sortNodePosition(h)).indexOf(t),a=e.size,o=(a-1)*i;return typeof n=="function"?n(r,a):s===1?r*i:o-r*i}function vp(e,t,n={}){var u;const i=ca(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(Ax(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:m}=s;return S4(e,t,c,h,d,m,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,h]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>h())}else return Promise.all([r(),a(n.delay)])}function S4(e,t,n=0,i=0,s=0,r=1,a){const o=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),o.push(vp(u,t,{...a,delay:n+(typeof i=="function"?0:i)+Sx(e.variantChildren,u,i,s,r)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(o)}function w4(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(r=>vp(e,r,n));i=Promise.all(s)}else if(typeof t=="string")i=vp(e,t,n);else{const s=typeof t=="function"?ca(e,t,n.custom):t;i=Promise.all(Ax(e,s,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function wx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const x4=Ey.length;function xx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?xx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<x4;n++){const i=Ey[n],s=e.props[i];(xl(s)||s===!1)&&(t[i]=s)}return t}const R4=[...by].reverse(),C4=by.length;function I4(e){return t=>Promise.all(t.map(({animation:n,options:i})=>w4(e,n,i)))}function N4(e){let t=I4(e),n=UT(),i=!0;const s=u=>(c,h)=>{var m;const d=ca(e,h,u==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:g,transitionEnd:w,...I}=d;c={...c,...I,...w}}return c};function r(u){t=u(e)}function a(u){const{props:c}=e,h=xx(e.parent)||{},d=[],m=new Set;let g={},w=1/0;for(let D=0;D<C4;D++){const v=R4[D],T=n[v],S=c[v]!==void 0?c[v]:h[v],N=xl(S),P=v===u?T.isActive:null;P===!1&&(w=D);let z=S===h[v]&&S!==c[v]&&N;if(z&&i&&e.manuallyAnimateOnMount&&(z=!1),T.protectedKeys={...g},!T.isActive&&P===null||!S&&!T.prevProp||$h(S)||typeof S=="boolean")continue;const E=D4(T.prevProp,S);let _=E||v===u&&T.isActive&&!z&&N||D>w&&N,A=!1;const x=Array.isArray(S)?S:[S];let C=x.reduce(s(v),{});P===!1&&(C={});const{prevResolvedValues:V={}}=T,R={...V,...C},Jt=G=>{_=!0,m.has(G)&&(A=!0,m.delete(G)),T.needsAnimating[G]=!0;const K=e.getValue(G);K&&(K.liveStyle=!1)};for(const G in R){const K=C[G],ht=V[G];if(g.hasOwnProperty(G))continue;let Tt=!1;gp(K)&&gp(ht)?Tt=!wx(K,ht):Tt=K!==ht,Tt?K!=null?Jt(G):m.add(G):K!==void 0&&m.has(G)?Jt(G):T.protectedKeys[G]=!0}T.prevProp=S,T.prevResolvedValues=C,T.isActive&&(g={...g,...C}),i&&e.blockInitialAnimation&&(_=!1);const Ve=z&&E;_&&(!Ve||A)&&d.push(...x.map(G=>{const K={type:v};if(typeof G=="string"&&i&&!Ve&&e.manuallyAnimateOnMount&&e.parent){const{parent:ht}=e,Tt=ca(ht,G);if(ht.enteringChildren&&Tt){const{delayChildren:Zn}=Tt.transition||{};K.delay=Sx(ht.enteringChildren,e,Zn)}}return{animation:G,options:K}}))}if(m.size){const D={};if(typeof c.initial!="boolean"){const v=ca(e,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(D.transition=v.transition)}m.forEach(v=>{const T=e.getBaseTarget(v),S=e.getValue(v);S&&(S.liveStyle=!0),D[v]=T??null}),d.push({animation:D})}let I=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(I=!1),i=!1,I?t(d):Promise.resolve()}function o(u,c){var d;if(n[u].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(u,c)}),n[u].isActive=c;const h=a(u);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=UT()}}}function D4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!wx(t,e):!1}function js(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UT(){return{animate:js(!0),whileInView:js(),whileHover:js(),whileTap:js(),whileDrag:js(),whileFocus:js(),exit:js()}}class Rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class V4 extends Rs{constructor(t){super(t),t.animationState||(t.animationState=N4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$h(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let M4=0;class O4 extends Rs{constructor(){super(...arguments),this.id=M4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const P4={animation:{Feature:V4},exit:{Feature:O4}};function Cl(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function nu(e){return{point:{x:e.pageX,y:e.pageY}}}const k4=e=>t=>_y(t)&&e(t,nu(t));function tl(e,t,n,i){return Cl(e,t,k4(n),i)}const Rx=1e-4,L4=1-Rx,j4=1+Rx,Cx=.01,U4=0-Cx,z4=0+Cx;function Ie(e){return e.max-e.min}function B4(e,t,n){return Math.abs(e-t)<=n}function zT(e,t,n,i=.5){e.origin=i,e.originPoint=Mt(t.min,t.max,e.origin),e.scale=Ie(n)/Ie(t),e.translate=Mt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=L4&&e.scale<=j4||isNaN(e.scale))&&(e.scale=1),(e.translate>=U4&&e.translate<=z4||isNaN(e.translate))&&(e.translate=0)}function el(e,t,n,i){zT(e.x,t.x,n.x,i?i.originX:void 0),zT(e.y,t.y,n.y,i?i.originY:void 0)}function BT(e,t,n){e.min=n.min+t.min,e.max=e.min+Ie(t)}function F4(e,t,n){BT(e.x,t.x,n.x),BT(e.y,t.y,n.y)}function FT(e,t,n){e.min=t.min-n.min,e.max=e.min+Ie(t)}function nl(e,t,n){FT(e.x,t.x,n.x),FT(e.y,t.y,n.y)}function an(e){return[e("x"),e("y")]}const Ix=({current:e})=>e?e.ownerDocument.defaultView:null,HT=(e,t)=>Math.abs(e-t);function H4(e,t){const n=HT(e.x,t.x),i=HT(e.y,t.y);return Math.sqrt(n**2+i**2)}class Nx{constructor(t,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=kd(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,w=H4(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!w)return;const{point:I}=m,{timestamp:D}=ue;this.history.push({...I,timestamp:D});const{onStart:v,onMove:T}=this.handlers;g||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Pd(g,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:w,onSessionEnd:I,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=kd(m.type==="pointercancel"?this.lastMoveEventInfo:Pd(g,this.transformPagePoint),this.history);this.startEvent&&w&&w(m,v),I&&I(m,v)},!_y(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=s||window;const o=nu(t),u=Pd(o,this.transformPagePoint),{point:c}=u,{timestamp:h}=ue;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(t,kd(u,this.history)),this.removeListeners=Jl(tl(this.contextWindow,"pointermove",this.handlePointerMove),tl(this.contextWindow,"pointerup",this.handlePointerUp),tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function Pd(e,t){return t?{point:t(e.point)}:e}function qT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kd({point:e},t){return{point:e,delta:qT(e,Dx(t)),offset:qT(e,q4(t)),velocity:G4(t,.1)}}function q4(e){return e[0]}function Dx(e){return e[e.length-1]}function G4(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const s=Dx(e);for(;n>=0&&(i=e[n],!(s.timestamp-i.timestamp>zn(t)));)n--;if(!i)return{x:0,y:0};const r=pn(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function K4(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Mt(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Mt(n,e,i.max):Math.min(e,n)),e}function GT(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Y4(e,{top:t,left:n,bottom:i,right:s}){return{x:GT(e.x,n,s),y:GT(e.y,t,i)}}function KT(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function $4(e,t){return{x:KT(e.x,t.x),y:KT(e.y,t.y)}}function Q4(e,t){let n=.5;const i=Ie(e),s=Ie(t);return s>i?n=Al(t.min,t.max-i,e.min):i>s&&(n=Al(e.min,e.max-s,t.min)),Ti(0,1,n)}function X4(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const _p=.35;function W4(e=_p){return e===!1?e=0:e===!0&&(e=_p),{x:YT(e,"left","right"),y:YT(e,"top","bottom")}}function YT(e,t,n){return{min:$T(e,t),max:$T(e,n)}}function $T(e,t){return typeof e=="number"?e:e[t]||0}const Z4=new WeakMap;class J4{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nu(d).point)},a=(d,m)=>{const{drag:g,dragPropagation:w,onDragStart:I}=this.getProps();if(g&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rO(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(v=>{let T=this.getAxisMotionValue(v).get()||0;if(Bn.test(T)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[v];N&&(T=Ie(N)*(parseFloat(T)/100))}}this.originPoint[v]=T}),I&&Vt.postRender(()=>I(d,m)),yp(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:I,onDrag:D}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:v}=m;if(w&&this.currentDirection===null){this.currentDirection=tP(v),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),D&&D(d,m)},u=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>an(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Nx(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:i,contextWindow:Ix(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,s=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Vt.postRender(()=>o(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:s}=this.getProps();if(!i||!Gu(t,s,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(a=K4(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;t&&Jr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Y4(i.layoutBox,t):this.constraints=!1,this.elastic=W4(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&an(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=X4(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jr(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=e4(i,s.root,this.visualElement.getTransformPagePoint());let a=$4(s.layout.layoutBox,r);if(n){const o=n(ZO(a));this.hasMutatedConstraints=!!o,o&&(a=mx(o))}return a}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=an(h=>{if(!Gu(h,n,this.currentDirection))return;let d=u&&u[h]||{};a&&(d={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:i?t[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return yp(this.visualElement,t),i.start(Iy(t,i,0,n,this.visualElement,!1))}stopAnimation(){an(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){an(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){an(n=>{const{drag:i}=this.getProps();if(!Gu(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];r.set(t[n]-Mt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Jr(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};an(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();s[a]=Q4({min:u,max:u},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),an(a=>{if(!Gu(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(Mt(u,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;Z4.set(this.visualElement,this);const t=this.visualElement.current,n=tl(t,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Jr(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Vt.read(i);const a=Cl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(an(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=_p,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function Gu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function tP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class eP extends Rs{constructor(t){super(t),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new J4(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const QT=e=>(t,n)=>{e&&Vt.postRender(()=>e(t,n))};class nP extends Rs{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(t){this.session=new Nx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ix(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:QT(t),onStart:QT(n),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Vt.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=tl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(X.test(e))e=parseFloat(e);else return e;const n=XT(e,t.target.x),i=XT(e,t.target.y);return`${n}% ${i}%`}},iP={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,s=ys.parse(e);if(s.length>5)return i;const r=ys.createTransformer(e),a=typeof s[0]!="number"?1:0,o=n.x.scale*t.x,u=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=u;const c=Mt(o,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),r(s)}};let Ld=!1;class sP extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=t;xO(rP),r&&(n.group&&n.group.add(r),i&&i.register&&s&&i.register(r),Ld&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),gc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,Ld=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||Vt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=t;Ld=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Vx(e){const[t,n]=J1(),i=U.useContext(Xg);return y.jsx(sP,{...e,layoutGroup:i,switchLayoutGroup:U.useContext(fx),isPresent:t,safeToRemove:n})}const rP={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:iP};function aP(e,t,n){const i=Ae(e)?e:Ca(e);return i.start(Iy("",i,t,n)),i.animation}const oP=(e,t)=>e.depth-t.depth;class lP{constructor(){this.children=[],this.isDirty=!1}add(t){Jg(this.children,t),this.isDirty=!0}remove(t){ty(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(oP),this.isDirty=!1,this.children.forEach(t)}}function uP(e,t){const n=Ue.now(),i=({timestamp:s})=>{const r=s-n;r>=t&&(gs(i),e(r-t))};return Vt.setup(i,!0),()=>gs(i)}const Mx=["TopLeft","TopRight","BottomLeft","BottomRight"],cP=Mx.length,WT=e=>typeof e=="string"?parseFloat(e):e,ZT=e=>typeof e=="number"||X.test(e);function hP(e,t,n,i,s,r){s?(e.opacity=Mt(0,n.opacity??1,fP(i)),e.opacityExit=Mt(t.opacity??1,0,dP(i))):r&&(e.opacity=Mt(t.opacity??1,n.opacity??1,i));for(let a=0;a<cP;a++){const o=`border${Mx[a]}Radius`;let u=JT(t,o),c=JT(n,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||ZT(u)===ZT(c)?(e[o]=Math.max(Mt(WT(u),WT(c),i),0),(Bn.test(c)||Bn.test(u))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=Mt(t.rotate||0,n.rotate||0,i))}function JT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fP=Ox(0,.5,v1),dP=Ox(.5,.95,vn);function Ox(e,t,n){return i=>i<e?0:i>t?1:n(Al(e,t,i))}function tb(e,t){e.min=t.min,e.max=t.max}function rn(e,t){tb(e.x,t.x),tb(e.y,t.y)}function eb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nb(e,t,n,i,s){return e-=t,e=ah(e,1/n,i),s!==void 0&&(e=ah(e,1/s,i)),e}function mP(e,t=0,n=1,i=.5,s,r=e,a=e){if(Bn.test(t)&&(t=parseFloat(t),t=Mt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=Mt(r.min,r.max,i);e===r&&(o-=t),e.min=nb(e.min,t,n,o,s),e.max=nb(e.max,t,n,o,s)}function ib(e,t,[n,i,s],r,a){mP(e,t[n],t[i],t[s],t.scale,r,a)}const pP=["x","scaleX","originX"],gP=["y","scaleY","originY"];function sb(e,t,n,i){ib(e.x,t,pP,n?n.x:void 0,i?i.x:void 0),ib(e.y,t,gP,n?n.y:void 0,i?i.y:void 0)}function rb(e){return e.translate===0&&e.scale===1}function Px(e){return rb(e.x)&&rb(e.y)}function ab(e,t){return e.min===t.min&&e.max===t.max}function yP(e,t){return ab(e.x,t.x)&&ab(e.y,t.y)}function ob(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kx(e,t){return ob(e.x,t.x)&&ob(e.y,t.y)}function lb(e){return Ie(e.x)/Ie(e.y)}function ub(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vP{constructor(){this.members=[]}add(t){Jg(this.members,t),t.scheduleRender()}remove(t){if(ty(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _P(e,t,n){let i="";const s=e.x.translate/t.x,r=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:g,skewY:w}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),d&&(i+=`rotateX(${d}deg) `),m&&(i+=`rotateY(${m}deg) `),g&&(i+=`skewX(${g}deg) `),w&&(i+=`skewY(${w}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(i+=`scale(${o}, ${u})`),i||"none"}const jd=["","X","Y","Z"],TP=1e3;let bP=0;function Ud(e,t,n,i){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Lx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Ex(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(s||r))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Lx(i)}function jx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=bP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SP),this.nodes.forEach(CP),this.nodes.forEach(IP),this.nodes.forEach(wP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new lP)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new iy),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Z1(a)&&!hO(a),this.instance=a;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),e){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{d=window.innerWidth}),e(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=uP(m,250),gc.hasAnimatedSinceResize&&(gc.hasAnimatedSinceResize=!1,this.nodes.forEach(fb)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||OP,{onLayoutAnimationStart:I,onLayoutAnimationComplete:D}=c.getProps(),v=!this.targetLayout||!kx(this.targetLayout,g),T=!d&&m;if(this.options.layoutRoot||this.resumeFrom||T||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...gy(w,"layout"),onPlay:I,onComplete:D};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,T)}else d||fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(RP),this.nodes.forEach(EP),this.nodes.forEach(AP)):this.nodes.forEach(hb),this.clearAllSnapshots();const o=Ue.now();ue.delta=Ti(0,1e3/60,o-ue.timestamp),ue.timestamp=o,ue.isProcessing=!0,Rd.update.process(ue),Rd.preRender.process(ue),Rd.render.process(ue),ue.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xP),this.sharedNodes.forEach(DP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ie(this.snapshot.measuredBox.x)&&!Ie(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Px(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Hs(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),PP(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Ut();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(kP))){const{scroll:h}=this.root;h&&(ta(o.x,h.offset.x),ta(o.y,h.offset.y))}return o}removeElementScroll(a){var u;const o=Ut();if(rn(o,a),(u=this.scroll)!=null&&u.wasRoot)return o;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&rn(o,a),ta(o.x,d.offset.x),ta(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const u=Ut();rn(u,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ea(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Hs(h.latestValues)&&ea(u,h.latestValues)}return Hs(this.latestValues)&&ea(u,this.latestValues),u}removeTransform(a){const o=Ut();rn(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Hs(c.latestValues))continue;dp(c.latestValues)&&c.updateSnapshot();const h=Ut(),d=c.measurePageBox();rn(h,d),sb(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Hs(this.latestValues)&&sb(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ue.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=ue.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),nl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rn(this.target,this.layout.layoutBox),gx(this.target,this.targetDelta)):rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),nl(this.relativeTargetOrigin,this.target,g.target),rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dp(this.parent.latestValues)||px(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ue.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;rn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;t4(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ut());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eb(this.prevProjectionDelta.x,this.projectionDelta.x),eb(this.prevProjectionDelta.y,this.projectionDelta.y)),el(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!ub(this.projectionDelta.x,this.prevProjectionDelta.x)||!ub(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=na(),this.projectionDelta=na(),this.projectionDeltaWithTransform=na()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},d=na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Ut(),g=u?u.source:void 0,w=this.layout?this.layout.source:void 0,I=g!==w,D=this.getStack(),v=!D||D.members.length<=1,T=!!(I&&!v&&this.options.crossfade===!0&&!this.path.some(MP));this.animationProgress=0;let S;this.mixTargetDelta=N=>{const P=N/1e3;db(d.x,a.x,P),db(d.y,a.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),VP(this.relativeTarget,this.relativeTargetOrigin,m,P),S&&yP(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ut()),rn(S,this.relativeTarget)),I&&(this.animationValues=h,hP(h,c,this.latestValues,P,T,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{gc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ca(0)),this.currentAnimation=aP(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:h}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&Ux(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ut();const d=Ie(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+d;const m=Ie(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+m}rn(o,u),ea(o,h),el(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new vP),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&Ud("z",a,c,this.animationValues);for(let h=0;h<jd.length;h++)Ud(`rotate${jd[h]}`,a,c,this.animationValues),Ud(`skew${jd[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=pc(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=pc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=_P(this.projectionDeltaWithTransform,this.treeScale,h);u&&(d=u(h,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Rl){if(h[w]===void 0)continue;const{correct:I,applyTo:D,isCSSVariable:v}=Rl[w],T=d==="none"?h[w]:I(h[w],c);if(D){const S=D.length;for(let N=0;N<S;N++)a[D[N]]=T}else v?this.options.visualElement.renderState.vars[w]=T:a[w]=T}this.options.layoutId&&(a.pointerEvents=c===this?pc(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(cb),this.root.sharedNodes.clear()}}}function EP(e){e.updateLayout()}function AP(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=e.layout,{animationType:r}=e.options,a=t.source!==e.layout.source;r==="size"?an(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Ie(m);m.min=i[d].min,m.max=m.min+g}):Ux(r,t.layoutBox,i)&&an(d=>{const m=a?t.measuredBox[d]:t.layoutBox[d],g=Ie(i[d]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const o=na();el(o,i,t.layoutBox);const u=na();a?el(u,e.applyTransform(s,!0),t.measuredBox):el(u,i,t.layoutBox);const c=!Px(o);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const w=Ut();nl(w,t.layoutBox,m.layoutBox);const I=Ut();nl(I,i,g.layoutBox),kx(w,I)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=w,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function SP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xP(e){e.clearSnapshot()}function cb(e){e.clearMeasurements()}function hb(e){e.isLayoutDirty=!1}function RP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function CP(e){e.resolveTargetDelta()}function IP(e){e.calcProjection()}function NP(e){e.resetSkewAndRotation()}function DP(e){e.removeLeadSnapshot()}function db(e,t,n){e.translate=Mt(t.translate,0,n),e.scale=Mt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mb(e,t,n,i){e.min=Mt(t.min,n.min,i),e.max=Mt(t.max,n.max,i)}function VP(e,t,n,i){mb(e.x,t.x,n.x,i),mb(e.y,t.y,n.y,i)}function MP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OP={duration:.45,ease:[.4,0,.1,1]},pb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gb=pb("applewebkit/")&&!pb("chrome/")?Math.round:vn;function yb(e){e.min=gb(e.min),e.max=gb(e.max)}function PP(e){yb(e.x),yb(e.y)}function Ux(e,t,n){return e==="position"||e==="preserve-aspect"&&!B4(lb(t),lb(n),.2)}function kP(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const LP=jx({attachResizeListener:(e,t)=>Cl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zd={current:void 0},zx=jx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zd.current){const e=new LP({});e.mount(window),e.setOptions({layoutScroll:!0}),zd.current=e}return zd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jP={pan:{Feature:nP},drag:{Feature:eP,ProjectionNode:zx,MeasureLayout:Vx}};function vb(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,r=i[s];r&&Vt.postRender(()=>r(t,nu(t)))}class UP extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=aO(t,(n,i)=>(vb(this.node,i,"Start"),s=>vb(this.node,s,"End"))))}unmount(){}}class zP extends Rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jl(Cl(this.node.current,"focus",()=>this.onFocus()),Cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _b(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),r=i[s];r&&Vt.postRender(()=>r(t,nu(t)))}class BP extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=cO(t,(n,i)=>(_b(this.node,i,"Start"),(s,{success:r})=>_b(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tp=new WeakMap,Bd=new WeakMap,FP=e=>{const t=Tp.get(e.target);t&&t(e)},HP=e=>{e.forEach(FP)};function qP({root:e,...t}){const n=e||document;Bd.has(n)||Bd.set(n,{});const i=Bd.get(n),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(HP,{root:e,...t})),i[s]}function GP(e,t,n){const i=qP(t);return Tp.set(e,n),i.observe(e),()=>{Tp.delete(e),i.unobserve(e)}}const KP={some:0,all:1};class YP extends Rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:KP[s]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(u)};return GP(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($P(t,n))&&this.startObserver()}unmount(){}}function $P({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const QP={inView:{Feature:YP},tap:{Feature:BP},focus:{Feature:zP},hover:{Feature:UP}},XP={layout:{ProjectionNode:zx,MeasureLayout:Vx}},WP={...P4,...QP,...jP,...XP},$=WO(WP,c4),ZP={some:0,all:1};function JP(e,t,{root:n,margin:i,amount:s="some"}={}){const r=K1(e),a=new WeakMap,o=c=>{c.forEach(h=>{const d=a.get(h.target);if(h.isIntersecting!==!!d)if(h.isIntersecting){const m=t(h.target,h);typeof m=="function"?a.set(h.target,m):u.unobserve(h.target)}else typeof d=="function"&&(d(h),a.delete(h.target))})},u=new IntersectionObserver(o,{root:n,rootMargin:i,threshold:typeof s=="number"?s:ZP[s]});return r.forEach(c=>u.observe(c)),()=>u.disconnect()}function Xh(e,{root:t,margin:n,amount:i,once:s=!1,initial:r=!1}={}){const[a,o]=U.useState(r);return U.useEffect(()=>{if(!e.current||s&&a)return;const u=()=>(o(!0),s?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:n,amount:i};return JP(e.current,u,c)},[t,e,n,s,i]),a}function t5(){const[e,t]=U.useState({x:0,y:0});return U.useEffect(()=>{const n=i=>{t({x:i.clientX,y:i.clientY})};return window.addEventListener("mousemove",n),()=>window.removeEventListener("mousemove",n)},[]),y.jsxs("section",{id:"hero",className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-purple-900/20 to-blue-900/40 z-0"}),y.jsx($.div,{className:"absolute w-[500px] h-[500px] rounded-full bg-gradient-to-r from-purple-500/30 via-blue-500/30 to-cyan-500/30 blur-[100px] z-0",animate:{x:e.x-250,y:e.y-250},transition:{type:"spring",stiffness:50,damping:30}}),y.jsxs("div",{className:"relative z-10 text-center px-6 max-w-7xl mx-auto",children:[y.jsx($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-6",children:y.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-9xl font-black bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 mb-4",children:["UNITED EARTH",y.jsx("br",{}),y.jsx("span",{className:"inline-block mt-2",children:"LABS"})]})}),y.jsx($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"mb-8",children:y.jsx("div",{className:"inline-block px-4 py-2 bg-purple-500/20 backdrop-blur-md border border-purple-500/30 rounded-full mb-6",children:y.jsx("span",{className:"text-purple-300 text-sm font-semibold tracking-widest uppercase",children:"ADVANCING HUMANITY TO TYPE 1 CIVILIZATION"})})}),y.jsxs($.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-xl md:text-2xl lg:text-3xl text-gray-300 font-light max-w-4xl mx-auto leading-relaxed",children:["Bringing the future to reality. We are working tirelessly to transform",y.jsx("span",{className:"text-cyan-400 font-semibold",children:" human dreams "}),"into technological achievements that will elevate humanity to a",y.jsx("span",{className:"text-purple-400 font-semibold",children:" Type 1 Civilization"}),"."]}),y.jsx($.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-12",children:y.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold text-lg rounded-full shadow-lg shadow-purple-500/50 hover:shadow-purple-500/70 transition-all duration-300",onClick:()=>{var n;(n=document.getElementById("vision"))==null||n.scrollIntoView({behavior:"smooth"})},children:"Explore Our Vision"})}),y.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((n,i)=>{const s=typeof window<"u"?Math.random()*window.innerWidth:Math.random()*1e3,r=typeof window<"u"?Math.random()*window.innerHeight:Math.random()*1e3;return y.jsx($.div,{className:"absolute w-1 h-1 bg-cyan-400 rounded-full",initial:{x:s,y:r,opacity:0},animate:{y:[null,typeof window<"u"?Math.random()*window.innerHeight:r],opacity:[0,1,0]},transition:{duration:Math.random()*3+2,repeat:1/0,delay:Math.random()*2}},i)})})]})]})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),Tb=e=>{const t=n5(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bx=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),i5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...o},u)=>U.createElement("svg",{ref:u,...s5,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:Bx("lucide",s),...!r&&!i5(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,h])=>U.createElement(c,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const n=U.forwardRef(({className:i,...s},r)=>U.createElement(r5,{ref:r,iconNode:t,className:Bx(`lucide-${e5(Tb(e))}`,`lucide-${e}`,i),...s}));return n.displayName=Tb(e),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],o5=He("atom",a5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],u5=He("cpu",l5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],h5=He("download",c5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d5=He("eye",f5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],p5=He("github",m5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],y5=He("leaf",g5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],_5=He("linkedin",v5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],b5=He("log-out",T5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A5=He("mail",E5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],w5=He("rocket",S5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],R5=He("sun",x5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Ny=He("terminal",C5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Il=He("x",I5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],D5=He("zap",N5);function V5({onTerminalOpen:e}){const[t,n]=U.useState(!1);U.useEffect(()=>{const s=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const i=[{name:"Home",id:"hero"},{name:"Vision",id:"vision"},{name:"Goals",id:"goals"},{name:"Contact",id:"contact"}];return y.jsx($.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-gray-900/80 backdrop-blur-md border-b border-purple-500/30":"bg-transparent"}`,children:y.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx($.a,{href:"#hero",onClick:s=>{var r;s.preventDefault(),(r=document.getElementById("hero"))==null||r.scrollIntoView({behavior:"smooth"})},whileHover:{scale:1.05},className:"text-2xl font-black bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-cyan-400 cursor-pointer",children:"UEL"}),y.jsx("div",{className:"hidden md:flex items-center space-x-8",children:i.map(s=>y.jsx($.a,{href:`#${s.id}`,whileHover:{scale:1.1},whileTap:{scale:.95},className:"text-gray-300 hover:text-cyan-400 transition-colors duration-200 font-semibold cursor-pointer",onClick:r=>{var a;r.preventDefault(),(a=document.getElementById(s.id))==null||a.scrollIntoView({behavior:"smooth"})},children:s.name},s.name))}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-cyan-500/20 rounded-lg transition-colors text-cyan-400",onClick:e,title:"Open Terminal",children:y.jsx(Ny,{className:"w-5 h-5"})}),y.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold rounded-full text-sm",onClick:()=>{var s;(s=document.getElementById("contact"))==null||s.scrollIntoView({behavior:"smooth"})},children:"Join Us"})]})]})})})}function M5(){const e=U.useRef(null),t=Xh(e,{once:!0,amount:.3});return y.jsxs("section",{id:"vision",ref:e,className:"relative min-h-screen py-20 px-6 flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/20 via-transparent to-purple-900/20 z-0"}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[y.jsxs($.div,{initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[y.jsx("h2",{className:"text-5xl md:text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-6",children:"OUR VISION"}),y.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto"})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[y.jsxs($.div,{initial:{opacity:0,x:-50},animate:t?{opacity:1,x:0}:{},transition:{duration:.8,delay:.2},className:"space-y-6",children:[y.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-cyan-400 mb-4",children:"The Path to Type 1"}),y.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Humanity stands at the threshold of an evolutionary leap. At United Earth Labs, we envision a future where humanity harnesses the full potential of our planet's energy, achieving the status of a Type 1 Civilization on the Kardashev Scale."}),y.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"This isn't science fictionit's our mission. Through revolutionary technology, sustainable innovation, and unwavering dedication, we are turning humanity's grandest dreams into reality."}),y.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Every breakthrough brings us closer to a world where energy is unlimited, technology is seamlessly integrated with biology, and humans transcend their current limitations."})]}),y.jsx($.div,{initial:{opacity:0,x:50},animate:t?{opacity:1,x:0}:{},transition:{duration:.8,delay:.4},className:"relative",children:y.jsxs("div",{className:"relative p-8 bg-gradient-to-br from-purple-500/10 to-blue-500/10 backdrop-blur-md border border-purple-500/30 rounded-3xl",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/0 via-cyan-500/10 to-blue-500/0 rounded-3xl blur-xl"}),y.jsxs("div",{className:"relative space-y-6",children:[y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full animate-pulse"}),y.jsx("span",{className:"text-cyan-300 font-semibold",children:"Type 1 Civilization Status"})]}),y.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:y.jsx($.div,{initial:{width:0},animate:t?{width:"15%"}:{},transition:{duration:2,delay:.6},className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500"})}),y.jsx("p",{className:"text-sm text-gray-400",children:"Current progress: 15%  Target: 100% Type 1 Civilization"})]})]})})]})]})]})}const O5=[{title:"Cybertron Construction",icon:w5,description:"Building a planet-scale technological infrastructure that serves as humanity's ultimate achievement in engineering and innovation.",gradient:"from-purple-500 to-pink-500",delay:.1},{title:"Cyborg Technology",icon:u5,description:"Developing seamless human-machine interfaces that enhance human capabilities while preserving our essential humanity.",gradient:"from-blue-500 to-cyan-500",delay:.2},{title:"Solar Energy Harvesting",icon:R5,description:"Harnessing 10% of the sun's total energy output to power all of humanity's needs sustainably and indefinitely.",gradient:"from-yellow-500 to-orange-500",delay:.3},{title:"Radiation as Fuel",icon:o5,description:"Transforming harmful radiation into a powerful, clean energy source, revolutionizing how we power our civilization.",gradient:"from-green-500 to-emerald-500",delay:.4},{title:"Artificial Ecosystems",icon:y5,description:"Creating self-sustaining biomes and ecosystems that support life beyond Earth, enabling interplanetary colonization.",gradient:"from-teal-500 to-green-500",delay:.5},{title:"Human Dreams Realized",icon:D5,description:"Bringing every ambitious human dream to reality through relentless innovation, research, and technological advancement.",gradient:"from-indigo-500 to-purple-500",delay:.6}];function P5(){const e=U.useRef(null),t=Xh(e,{once:!0,amount:.2});return y.jsxs("section",{id:"goals",ref:e,className:"relative min-h-screen py-20 px-6",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/20 via-transparent to-blue-900/20 z-0"}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[y.jsxs($.div,{initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[y.jsx("h2",{className:"text-5xl md:text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 mb-6",children:"OUR ULTIMATE GOALS"}),y.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"These are not just projectsthey are the milestones that will define humanity's future"}),y.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-purple-400 to-transparent mx-auto mt-6"})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:O5.map((n,i)=>{const s=n.icon;return y.jsx($.div,{initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{},transition:{duration:.6,delay:n.delay},whileHover:{scale:1.05,y:-10},className:"group relative",children:y.jsxs("div",{className:"relative h-full p-8 bg-gradient-to-br from-gray-900/50 to-gray-800/50 backdrop-blur-md border border-purple-500/20 rounded-3xl overflow-hidden transition-all duration-300 hover:border-purple-500/50",children:[y.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.gradient} opacity-0 group-hover:opacity-10 transition-opacity duration-300`}),y.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${n.gradient} opacity-0 group-hover:opacity-20 blur-3xl transition-opacity duration-300`}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:`inline-flex p-4 bg-gradient-to-br ${n.gradient} rounded-2xl mb-6 shadow-lg`,children:y.jsx(s,{className:"w-8 h-8 text-white"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:n.title}),y.jsx("p",{className:"text-gray-300 leading-relaxed",children:n.description})]}),y.jsx($.div,{className:`absolute inset-0 rounded-3xl bg-gradient-to-r ${n.gradient} opacity-0 group-hover:opacity-20 blur-xl`,initial:{scale:.8},animate:{scale:1.2},transition:{duration:2,repeat:1/0,repeatType:"reverse"}})]})},n.title)})}),y.jsx($.div,{initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{},transition:{duration:.8,delay:.8},className:"mt-16 text-center",children:y.jsx("div",{className:"inline-block p-8 bg-gradient-to-r from-purple-500/10 to-blue-500/10 backdrop-blur-md border border-purple-500/30 rounded-3xl max-w-4xl",children:y.jsxs("p",{className:"text-xl md:text-2xl text-gray-200 leading-relaxed font-light",children:['"The future belongs to those who believe in the beauty of their dreams."',y.jsx("br",{}),y.jsx("span",{className:"text-cyan-400 font-semibold",children:" United Earth Labs"})]})})})]})]})}const Fd={"cybertron-construction":{title:"Cybertron Construction",details:`Project: CYBERTRON CONSTRUCTION


Overview:
We are constructing a planet-scale technological infrastructure that will 
serve as humanity's ultimate achievement in engineering and innovation.

Why We Want This:
 To provide unlimited computational resources for global advancement
 To create a self-sustaining technological ecosystem
 To enable processing power for solving humanity's greatest challenges
 To establish a foundation for becoming a Type 1 Civilization

Status: In Early Research Phase
Next Steps: Advanced architectural planning and resource assessment`},"cyborg-technology":{title:"Cyborg Technology",details:`Project: CYBORG TECHNOLOGY


Overview:
We are developing seamless human-machine interfaces that enhance human 
capabilities while preserving our essential humanity and autonomy.

Why We Want This:
 To overcome physical limitations and disabilities
 To augment human intelligence and cognitive abilities
 To enable direct brain-computer communication
 To create a symbiotic relationship between humans and technology

Status: Active Development
Next Steps: Neural interface trials and cognitive enhancement prototypes`},"solar-energy-harvesting":{title:"Solar Energy Harvesting",details:`Project: SOLAR ENERGY HARVESTING


Overview:
We are developing technology to harvest 10% of the sun's total energy 
output to power all of humanity's needs sustainably and indefinitely.

Why We Want This:
 To achieve unlimited clean energy for the entire human civilization
 To eliminate fossil fuel dependency permanently
 To power all future technological projects with renewable energy
 To become energy-positive as a species

Status: Theoretical Framework Complete
Next Steps: Orbital construction infrastructure development`},"radiation-as-fuel":{title:"Radiation as Fuel",details:`Project: RADIATION AS FUEL


Overview:
We are transforming harmful radiation into a powerful, clean energy 
source that will revolutionize how we power our civilization.

Why We Want This:
 To harness one of nature's most abundant energy sources
 To solve environmental hazards by converting radiation productively
 To enable deep space exploration with efficient power systems
 To create a redundant power system alongside solar harvesting

Status: Experimental Phase
Next Steps: Radiation conversion efficiency optimization`},"artificial-ecosystems":{title:"Artificial Ecosystems",details:`Project: ARTIFICIAL ECOSYSTEMS


Overview:
We are creating self-sustaining biomes and ecosystems that support life 
beyond Earth, enabling human colonization across the solar system.

Why We Want This:
 To ensure human survival through multi-planetary presence
 To create closed-loop life support systems for space habitats
 To enable sustainable long-term colonization of other worlds
 To expand the habitable zone for human civilization

Status: Prototype Development
Next Steps: Zero-gravity ecosystem testing in orbital platforms`},"human-dreams-realized":{title:"Human Dreams Realized",details:`Project: HUMAN DREAMS REALIZED


Overview:
We are committed to bringing every ambitious human dream to reality 
through relentless innovation, research, and technological advancement.

Why We Want This:
 To inspire and empower humanity to achieve the impossible
 To transform science fiction into scientific fact
 To prove that with enough determination, any challenge can be overcome
 To demonstrate that humanity's potential is truly limitless

Status: Ongoing Initiative
Next Steps: Research and collaboration with dream-builders worldwide`}};function k5(){const e=U.useRef(null),t=Xh(e,{once:!0,amount:.2}),[n,i]=U.useState(""),[s,r]=U.useState([{type:"output",text:"Welcome to United Earth Labs Terminal v1.0"},{type:"output",text:'Type "help" to see available commands'},{type:"output",text:""}]),a=U.useRef(null);U.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[s]);const o=u=>{const c=u.toLowerCase().trim();if(r(h=>[...h,{type:"input",text:`> ${u}`}]),c==="help"){const h=`Available Commands:


  cybertron-construction     Build planet-scale technological infrastructure
  cyborg-technology          Develop human-machine interfaces
  solar-energy-harvesting    Harness the sun's unlimited energy
  radiation-as-fuel          Transform radiation into clean power
  artificial-ecosystems      Create sustainable life beyond Earth
  human-dreams-realized      Turn ambitious dreams into reality

Type any command name to see detailed information.
Type "clear" to clear terminal history.`;r(d=>[...d,{type:"output",text:h}])}else c==="clear"?r([{type:"output",text:"Terminal cleared."},{type:"output",text:'Type "help" for commands'}]):Fd[c]?r(h=>[...h,{type:"output",text:Fd[c].details}]):c===""||r(h=>[...h,{type:"output",text:`Command not found: "${u}"
Type "help" for available commands.`}]);i("")};return y.jsxs("section",{id:"terminal",ref:e,className:"relative min-h-screen py-20 px-6",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/20 via-transparent to-purple-900/20 z-0"}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[y.jsxs($.div,{initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{},transition:{duration:.8},className:"text-center mb-16",children:[y.jsx("h2",{className:"text-5xl md:text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-6",children:"COMMAND CENTER"}),y.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:'Explore our projects and future plans through the terminal. Type "help" to see available commands.'}),y.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto mt-6"})]}),y.jsxs($.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2},className:"bg-gray-900/50 backdrop-blur-md border border-cyan-500/30 rounded-xl overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/50 to-purple-900/50 border-b border-cyan-500/30 px-6 py-4 flex items-center gap-3",children:[y.jsx(Ny,{className:"w-6 h-6 text-cyan-400"}),y.jsx("span",{className:"text-cyan-400 font-mono font-semibold text-lg",children:"UEL Terminal"})]}),y.jsx("div",{ref:a,className:"bg-gray-950 h-96 overflow-y-auto p-6 font-mono text-sm text-gray-300",children:s.map((u,c)=>y.jsx("div",{className:"mb-2 whitespace-pre-wrap break-words",children:u.type==="input"?y.jsx("span",{className:"text-cyan-400",children:u.text}):y.jsx("span",{className:"text-gray-400",children:u.text})},c))}),y.jsxs("div",{className:"bg-gray-900/80 border-t border-cyan-500/30 px-6 py-4 flex items-center gap-3",children:[y.jsx("span",{className:"text-cyan-400 font-mono text-lg flex-shrink-0",children:">"}),y.jsx("input",{type:"text",value:n,onChange:u=>i(u.target.value),onKeyPress:u=>{u.key==="Enter"&&o(n)},className:"flex-1 bg-transparent text-cyan-400 font-mono outline-none placeholder-gray-600",placeholder:"Type 'help' to see available commands..."})]})]}),y.jsxs($.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:.8,delay:.4},className:"mt-12",children:[y.jsx("p",{className:"text-gray-400 text-center mb-6 font-semibold",children:"Quick Access to Projects:"}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(Fd).map(([u,c])=>y.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(u),className:"p-4 bg-gray-900/50 border border-cyan-500/20 hover:border-cyan-500/50 rounded-lg text-left transition-all group",children:[y.jsx("p",{className:"text-cyan-400 font-mono text-sm",children:`> ${u}`}),y.jsx("p",{className:"text-gray-400 text-sm mt-2 group-hover:text-gray-300",children:c.title})]},u))})]})]})]})}const L5=()=>{};var bb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},j5=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],o=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},Hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,o=a?e[s+1]:0,u=s+2<e.length,c=u?e[s+2]:0,h=r>>2,d=(r&3)<<4|o>>4;let m=(o&15)<<2|c>>6,g=c&63;u||(g=64,a||(m=64)),i.push(n[h],n[d],n[m],n[g])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):j5(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],o=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const d=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||o==null||c==null||d==null)throw new U5;const m=r<<2|o>>4;if(i.push(m),c!==64){const g=o<<4&240|c>>2;if(i.push(g),d!==64){const w=c<<6&192|d;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class U5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z5=function(e){const t=Fx(e);return Hx.encodeByteArray(t,!0)},oh=function(e){return z5(e).replace(/\./g,"")},qx=function(e){try{return Hx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=()=>B5().__FIREBASE_DEFAULTS__,H5=()=>{if(typeof process>"u"||typeof bb>"u")return;const e=bb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},q5=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qx(e[1]);return t&&JSON.parse(t)},Wh=()=>{try{return L5()||F5()||H5()||q5()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Gx=e=>{var t,n;return(n=(t=Wh())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},G5=e=>{const t=Gx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Kx=()=>{var e;return(e=Wh())==null?void 0:e.config},Yx=e=>{var t;return(t=Wh())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $x(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[oh(JSON.stringify(n)),oh(JSON.stringify(a)),""].join(".")}const il={};function $5(){const e={prod:[],emulator:[]};for(const t of Object.keys(il))il[t]?e.emulator.push(t):e.prod.push(t);return e}function Q5(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Eb=!1;function Qx(e,t){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||il[e]===t||il[e]||Eb)return;il[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=$5().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Eb=!0,a()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function d(){const m=Q5(i),g=n("text"),w=document.getElementById(g)||document.createElement("span"),I=n("learnmore"),D=document.getElementById(I)||document.createElement("a"),v=n("preprendIcon"),T=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;o(S),h(D,I);const N=c();u(T,v),S.append(T,w,D,N),document.body.appendChild(S)}r?(w.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function W5(){var t;const e=(t=Wh())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xx(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function J5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tk(){const e=Se();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ek(){return!W5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wx(){try{return typeof indexedDB=="object"}catch{return!1}}function Zx(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}function nk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="FirebaseError";class Vn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=ik,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?sk(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Vn(s,o,i)}}function sk(e,t){return e.replace(rk,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const rk=/\{\$([^}]+)}/g;function ak(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vs(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(Ab(r)&&Ab(a)){if(!vs(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Ab(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ok(e,t){const n=new lk(e,t);return n.subscribe.bind(n)}class lk{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");uk(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Hd),s.error===void 0&&(s.error=Hd),s.complete===void 0&&(s.complete=Hd);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uk(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Hd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=1e3,hk=2,fk=4*60*60*1e3,dk=.5;function Sb(e,t=ck,n=hk){const i=t*Math.pow(n,e),s=Math.round(dk*i*(Math.random()-.5)*2);return Math.min(fk,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e){return e&&e._delegate?e._delegate:e}class In{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new K5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gk(t))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=qs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qs){return this.instances.has(t)}getOptions(t=qs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pk(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=qs){return this.component?this.component.multipleInstances?t:qs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pk(e){return e===qs?void 0:e}function gk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new mk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(at||(at={}));const vk={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},_k=at.INFO,Tk={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},bk=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=Tk[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zh{constructor(t){this.name=t,this._logLevel=_k,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in at))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...t),this._logHandler(this,at.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...t),this._logHandler(this,at.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,at.INFO,...t),this._logHandler(this,at.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,at.WARN,...t),this._logHandler(this,at.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...t),this._logHandler(this,at.ERROR,...t)}}const Ek=(e,t)=>t.some(n=>e instanceof n);let wb,xb;function Ak(){return wb||(wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sk(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jx=new WeakMap,bp=new WeakMap,tR=new WeakMap,qd=new WeakMap,Dy=new WeakMap;function wk(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",a)},r=()=>{n(os(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&Jx.set(n,e)}).catch(()=>{}),Dy.set(t,e),t}function xk(e){if(bp.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",a),e.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",a),e.addEventListener("abort",a)});bp.set(e,t)}let Ep={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return bp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rk(e){Ep=e(Ep)}function Ck(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Gd(this),t,...n);return tR.set(i,t.sort?t.sort():[t]),os(i)}:Sk().includes(e)?function(...t){return e.apply(Gd(this),t),os(Jx.get(this))}:function(...t){return os(e.apply(Gd(this),t))}}function Ik(e){return typeof e=="function"?Ck(e):(e instanceof IDBTransaction&&xk(e),Ek(e,Ak())?new Proxy(e,Ep):e)}function os(e){if(e instanceof IDBRequest)return wk(e);if(qd.has(e))return qd.get(e);const t=Ik(e);return t!==e&&(qd.set(e,t),Dy.set(t,e)),t}const Gd=e=>Dy.get(e);function eR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=os(a);return i&&a.addEventListener("upgradeneeded",u=>{i(os(a.result),u.oldVersion,u.newVersion,os(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Nk=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],Kd=new Map;function Rb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=Dk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Nk.includes(n)))return;const r=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&u.done]))[0]};return Kd.set(t,r),r}Rk(e=>({...e,get:(t,n,i)=>Rb(t,n)||e.get(t,n,i),has:(t,n)=>!!Rb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Mk(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ap="@firebase/app",Cb="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Zh("@firebase/app"),Ok="@firebase/app-compat",Pk="@firebase/analytics-compat",kk="@firebase/analytics",Lk="@firebase/app-check-compat",jk="@firebase/app-check",Uk="@firebase/auth",zk="@firebase/auth-compat",Bk="@firebase/database",Fk="@firebase/data-connect",Hk="@firebase/database-compat",qk="@firebase/functions",Gk="@firebase/functions-compat",Kk="@firebase/installations",Yk="@firebase/installations-compat",$k="@firebase/messaging",Qk="@firebase/messaging-compat",Xk="@firebase/performance",Wk="@firebase/performance-compat",Zk="@firebase/remote-config",Jk="@firebase/remote-config-compat",t3="@firebase/storage",e3="@firebase/storage-compat",n3="@firebase/firestore",i3="@firebase/ai",s3="@firebase/firestore-compat",r3="firebase",a3="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",o3={[Ap]:"fire-core",[Ok]:"fire-core-compat",[kk]:"fire-analytics",[Pk]:"fire-analytics-compat",[jk]:"fire-app-check",[Lk]:"fire-app-check-compat",[Uk]:"fire-auth",[zk]:"fire-auth-compat",[Bk]:"fire-rtdb",[Fk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[qk]:"fire-fn",[Gk]:"fire-fn-compat",[Kk]:"fire-iid",[Yk]:"fire-iid-compat",[$k]:"fire-fcm",[Qk]:"fire-fcm-compat",[Xk]:"fire-perf",[Wk]:"fire-perf-compat",[Zk]:"fire-rc",[Jk]:"fire-rc-compat",[t3]:"fire-gcs",[e3]:"fire-gcs-compat",[n3]:"fire-fst",[s3]:"fire-fst-compat",[i3]:"fire-vertex","fire-js":"fire-js",[r3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,l3=new Map,wp=new Map;function Ib(e,t){try{e.container.addComponent(t)}catch(n){Ei.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yn(e){const t=e.name;if(wp.has(t))return Ei.debug(`There were multiple attempts to register component ${t}.`),!1;wp.set(t,e);for(const n of lh.values())Ib(n,e);for(const n of l3.values())Ib(n,e);return!0}function Sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Ar("app","Firebase",u3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=a3;function nR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Sp,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=Kx()),!n)throw ls.create("no-options");const r=lh.get(s);if(r){if(vs(n,r.options)&&vs(i,r.config))return r;throw ls.create("duplicate-app",{appName:s})}const a=new yk(s);for(const u of wp.values())a.addComponent(u);const o=new c3(n,i,a);return lh.set(s,o),o}function Vy(e=Sp){const t=lh.get(e);if(!t&&e===Sp&&Kx())return nR();if(!t)throw ls.create("no-app",{appName:e});return t}function _n(e,t,n){let i=o3[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ei.warn(a.join(" "));return}Yn(new In(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebase-heartbeat-database",f3=1,Nl="firebase-heartbeat-store";let Yd=null;function iR(){return Yd||(Yd=eR(h3,f3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(e=>{throw ls.create("idb-open",{originalErrorMessage:e.message})})),Yd}async function d3(e){try{const n=(await iR()).transaction(Nl),i=await n.objectStore(Nl).get(sR(e));return await n.done,i}catch(t){if(t instanceof Vn)Ei.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ei.warn(n.message)}}}async function Nb(e,t){try{const i=(await iR()).transaction(Nl,"readwrite");await i.objectStore(Nl).put(t,sR(e)),await i.done}catch(n){if(n instanceof Vn)Ei.warn(n.message);else{const i=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(i.message)}}}function sR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1024,p3=30;class g3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Db();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>p3){const a=_3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ei.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Db(),{heartbeatsToSend:i,unsentEntries:s}=y3(this._heartbeatsCache.heartbeats),r=oh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ei.warn(n),""}}}function Db(){return new Date().toISOString().substring(0,10)}function y3(e,t=m3){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Vb(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vb(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class v3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wx()?Zx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Nb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vb(e){return oh(JSON.stringify({version:2,heartbeats:e})).length}function _3(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(e){Yn(new In("platform-logger",t=>new Vk(t),"PRIVATE")),Yn(new In("heartbeat",t=>new g3(t),"PRIVATE")),_n(Ap,Cb,e),_n(Ap,Cb,"esm2020"),_n("fire-js","")}T3("");var b3="firebase",E3="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(b3,E3,"app");const rR="@firebase/installations",My="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1e4,oR=`w:${My}`,lR="FIS_v2",A3="https://firebaseinstallations.googleapis.com/v1",S3=60*60*1e3,w3="installations",x3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hr=new Ar(w3,x3,R3);function uR(e){return e instanceof Vn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR({projectId:e}){return`${A3}/projects/${e}/installations`}function hR(e){return{token:e.token,requestStatus:2,expiresIn:I3(e.expiresIn),creationTime:Date.now()}}async function fR(e,t){const i=(await t.json()).error;return hr.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function dR({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function C3(e,{refreshToken:t}){const n=dR(e);return n.append("Authorization",N3(t)),n}async function mR(e){const t=await e();return t.status>=500&&t.status<600?e():t}function I3(e){return Number(e.replace("s","000"))}function N3(e){return`${lR} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=cR(e),s=dR(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={fid:n,authVersion:lR,appId:e.appId,sdkVersion:oR},o={method:"POST",headers:s,body:JSON.stringify(a)},u=await mR(()=>fetch(i,o));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:hR(c.authToken)}}else throw await fR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=/^[cdef][\w-]{21}$/,xp="";function O3(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=P3(e);return M3.test(n)?n:xp}catch{return xp}}function P3(e){return V3(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=new Map;function yR(e,t){const n=Jh(e);vR(n,t),k3(n,t)}function vR(e,t){const n=gR.get(e);if(n)for(const i of n)i(t)}function k3(e,t){const n=L3();n&&n.postMessage({key:e,fid:t}),j3()}let Ys=null;function L3(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=e=>{vR(e.data.key,e.data.fid)}),Ys}function j3(){gR.size===0&&Ys&&(Ys.close(),Ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebase-installations-database",z3=1,fr="firebase-installations-store";let $d=null;function Oy(){return $d||($d=eR(U3,z3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(fr)}}})),$d}async function uh(e,t){const n=Jh(e),s=(await Oy()).transaction(fr,"readwrite"),r=s.objectStore(fr),a=await r.get(n);return await r.put(t,n),await s.done,(!a||a.fid!==t.fid)&&yR(e,t.fid),t}async function _R(e){const t=Jh(e),i=(await Oy()).transaction(fr,"readwrite");await i.objectStore(fr).delete(t),await i.done}async function tf(e,t){const n=Jh(e),s=(await Oy()).transaction(fr,"readwrite"),r=s.objectStore(fr),a=await r.get(n),o=t(a);return o===void 0?await r.delete(n):await r.put(o,n),await s.done,o&&(!a||a.fid!==o.fid)&&yR(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(e){let t;const n=await tf(e.appConfig,i=>{const s=B3(i),r=F3(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===xp?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function B3(e){const t=e||{fid:O3(),registrationStatus:0};return TR(t)}function F3(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(hr.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=H3(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:q3(e)}:{installationEntry:t}}async function H3(e,t){try{const n=await D3(e,t);return uh(e.appConfig,n)}catch(n){throw uR(n)&&n.customData.serverCode===409?await _R(e.appConfig):await uh(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function q3(e){let t=await Mb(e.appConfig);for(;t.registrationStatus===1;)await pR(100),t=await Mb(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Py(e);return i||n}return t}function Mb(e){return tf(e,t=>{if(!t)throw hr.create("installation-not-found");return TR(t)})}function TR(e){return G3(e)?{fid:e.fid,registrationStatus:0}:e}function G3(e){return e.registrationStatus===1&&e.registrationTime+aR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3({appConfig:e,heartbeatServiceProvider:t},n){const i=Y3(e,n),s=C3(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const a={installation:{sdkVersion:oR,appId:e.appId}},o={method:"POST",headers:s,body:JSON.stringify(a)},u=await mR(()=>fetch(i,o));if(u.ok){const c=await u.json();return hR(c)}else throw await fR("Generate Auth Token",u)}function Y3(e,{fid:t}){return`${cR(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ky(e,t=!1){let n;const i=await tf(e.appConfig,r=>{if(!bR(r))throw hr.create("not-registered");const a=r.authToken;if(!t&&X3(a))return r;if(a.requestStatus===1)return n=$3(e,t),r;{if(!navigator.onLine)throw hr.create("app-offline");const o=Z3(r);return n=Q3(e,o),o}});return n?await n:i.authToken}async function $3(e,t){let n=await Ob(e.appConfig);for(;n.authToken.requestStatus===1;)await pR(100),n=await Ob(e.appConfig);const i=n.authToken;return i.requestStatus===0?ky(e,t):i}function Ob(e){return tf(e,t=>{if(!bR(t))throw hr.create("not-registered");const n=t.authToken;return J3(n)?{...t,authToken:{requestStatus:0}}:t})}async function Q3(e,t){try{const n=await K3(e,t),i={...t,authToken:n};return await uh(e.appConfig,i),n}catch(n){if(uR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _R(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await uh(e.appConfig,i)}throw n}}function bR(e){return e!==void 0&&e.registrationStatus===2}function X3(e){return e.requestStatus===2&&!W3(e)}function W3(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+S3}function Z3(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function J3(e){return e.requestStatus===1&&e.requestTime+aR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(e){const t=e,{installationEntry:n,registrationPromise:i}=await Py(t);return i?i.catch(console.error):ky(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(e,t=!1){const n=e;return await n6(n),(await ky(n,t)).token}async function n6(e){const{registrationPromise:t}=await Py(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(e){if(!e||!e.options)throw Qd("App Configuration");if(!e.name)throw Qd("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Qd(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Qd(e){return hr.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="installations",s6="installations-internal",r6=e=>{const t=e.getProvider("app").getImmediate(),n=i6(t),i=Sr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},a6=e=>{const t=e.getProvider("app").getImmediate(),n=Sr(t,ER).getImmediate();return{getId:()=>t6(n),getToken:s=>e6(n,s)}};function o6(){Yn(new In(ER,r6,"PUBLIC")),Yn(new In(s6,a6,"PRIVATE"))}o6();_n(rR,My);_n(rR,My,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="analytics",l6="firebase_id",u6="origin",c6=60*1e3,h6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ly="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tn=new Ar("analytics","Analytics",f6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(e){if(!e.startsWith(Ly)){const t=tn.create("invalid-gtag-resource",{gtagURL:e});return Ne.warn(t.message),""}return e}function AR(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function m6(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function p6(e,t){const n=m6("firebase-js-sdk-policy",{createScriptURL:d6}),i=document.createElement("script"),s=`${Ly}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function g6(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function y6(e,t,n,i,s,r){const a=i[s];try{if(a)await t[a];else{const u=(await AR(n)).find(c=>c.measurementId===s);u&&await t[u.appId]}}catch(o){Ne.error(o)}e("config",s,r)}async function v6(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const o=await AR(n);for(const u of a){const c=o.find(d=>d.measurementId===u),h=c&&t[c.appId];if(h)r.push(h);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){Ne.error(r)}}function _6(e,t,n,i){async function s(r,...a){try{if(r==="event"){const[o,u]=a;await v6(e,t,n,o,u)}else if(r==="config"){const[o,u]=a;await y6(e,t,n,i,o,u)}else if(r==="consent"){const[o,u]=a;e("consent",o,u)}else if(r==="get"){const[o,u,c]=a;e("get",o,u,c)}else if(r==="set"){const[o]=a;e("set",o)}else e(r,...a)}catch(o){Ne.error(o)}}return s}function T6(e,t,n,i,s){let r=function(...a){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=_6(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function b6(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Ly)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=30,A6=1e3;class S6{constructor(t={},n=A6){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const SR=new S6;function w6(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function x6(e){var a;const{appId:t,apiKey:n}=e,i={method:"GET",headers:w6(n)},s=h6.replace("{app-id}",t),r=await fetch(s,i);if(r.status!==200&&r.status!==304){let o="";try{const u=await r.json();(a=u.error)!=null&&a.message&&(o=u.error.message)}catch{}throw tn.create("config-fetch-failed",{httpStatus:r.status,responseMessage:o})}return r.json()}async function R6(e,t=SR,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw tn.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw tn.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new N6;return setTimeout(async()=>{o.abort()},c6),wR({appId:i,apiKey:s,measurementId:r},a,o,t)}async function wR(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=SR){var o;const{appId:r,measurementId:a}=e;try{await C6(i,t)}catch(u){if(a)return Ne.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:r,measurementId:a};throw u}try{const u=await x6(e);return s.deleteThrottleMetadata(r),u}catch(u){const c=u;if(!I6(c)){if(s.deleteThrottleMetadata(r),a)return Ne.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:r,measurementId:a};throw u}const h=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Sb(n,s.intervalMillis,E6):Sb(n,s.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(r,d),Ne.debug(`Calling attemptFetch again in ${h} millis`),wR(e,d,i,s)}}function C6(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(tn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function I6(e){if(!(e instanceof Vn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class N6{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function D6(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,a={...i,send_to:r};e("event",n,a)}}async function V6(e,t,n,i){if(i&&i.global){const s={};for(const r of Object.keys(n))s[`user_properties.${r}`]=n[r];return e("set",s),Promise.resolve()}else{const s=await t;e("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(){if(Wx())try{await Zx()}catch(e){return Ne.warn(tn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ne.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function O6(e,t,n,i,s,r,a){const o=R6(e);o.then(m=>{n[m.measurementId]=m.appId,e.options.measurementId&&m.measurementId!==e.options.measurementId&&Ne.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Ne.error(m)),t.push(o);const u=M6().then(m=>{if(m)return i.getId()}),[c,h]=await Promise.all([o,u]);b6(r)||p6(r,c.measurementId),s("js",new Date);const d=(a==null?void 0:a.config)??{};return d[u6]="firebase",d.update=!0,h!=null&&(d[l6]=h),s("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t){this.app=t}_delete(){return delete ha[this.app.options.appId],Promise.resolve()}}let ha={},Pb=[];const kb={};let Xd="dataLayer",k6="gtag",Lb,jy,jb=!1;function L6(){const e=[];if(Xx()&&e.push("This is a browser extension environment."),nk()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=tn.create("invalid-analytics-context",{errorInfo:t});Ne.warn(n.message)}}function j6(e,t,n){L6();const i=e.options.appId;if(!i)throw tn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ne.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tn.create("no-api-key");if(ha[i]!=null)throw tn.create("already-exists",{id:i});if(!jb){g6(Xd);const{wrappedGtag:r,gtagCore:a}=T6(ha,Pb,kb,Xd,k6);jy=r,Lb=a,jb=!0}return ha[i]=O6(e,Pb,kb,t,Lb,Xd,n),new P6(e)}function U6(e=Vy()){e=Ht(e);const t=Sr(e,ch);return t.isInitialized()?t.getImmediate():z6(e)}function z6(e,t={}){const n=Sr(e,ch);if(n.isInitialized()){const s=n.getImmediate();if(vs(t,n.getOptions()))return s;throw tn.create("already-initialized")}return n.initialize({options:t})}function B6(e,t,n){e=Ht(e),V6(jy,ha[e.app.options.appId],t,n).catch(i=>Ne.error(i))}function F6(e,t,n,i){e=Ht(e),D6(jy,ha[e.app.options.appId],t,n,i).catch(s=>Ne.error(s))}const Ub="@firebase/analytics",zb="0.10.19";function H6(){Yn(new In(ch,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return j6(i,s,n)},"PUBLIC")),Yn(new In("analytics-internal",e,"PRIVATE")),_n(Ub,zb),_n(Ub,zb,"esm2020");function e(t){try{const n=t.getProvider(ch).getImmediate();return{logEvent:(i,s,r)=>F6(n,i,s,r),setUserProperties:(i,s)=>B6(n,i,s)}}catch(n){throw tn.create("interop-component-reg-failed",{reason:n})}}}H6();var Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,xR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,_){function A(){}A.prototype=_.prototype,E.F=_.prototype,E.prototype=new A,E.prototype.constructor=E,E.D=function(x,C,V){for(var R=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)R[Jt-2]=arguments[Jt];return _.prototype[C].apply(x,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,_,A){A||(A=0);const x=Array(16);if(typeof _=="string")for(var C=0;C<16;++C)x[C]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(C=0;C<16;++C)x[C]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=E.g[0],A=E.g[1],C=E.g[2];let V=E.g[3],R;R=_+(V^A&(C^V))+x[0]+3614090360&4294967295,_=A+(R<<7&4294967295|R>>>25),R=V+(C^_&(A^C))+x[1]+3905402710&4294967295,V=_+(R<<12&4294967295|R>>>20),R=C+(A^V&(_^A))+x[2]+606105819&4294967295,C=V+(R<<17&4294967295|R>>>15),R=A+(_^C&(V^_))+x[3]+3250441966&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(V^A&(C^V))+x[4]+4118548399&4294967295,_=A+(R<<7&4294967295|R>>>25),R=V+(C^_&(A^C))+x[5]+1200080426&4294967295,V=_+(R<<12&4294967295|R>>>20),R=C+(A^V&(_^A))+x[6]+2821735955&4294967295,C=V+(R<<17&4294967295|R>>>15),R=A+(_^C&(V^_))+x[7]+4249261313&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(V^A&(C^V))+x[8]+1770035416&4294967295,_=A+(R<<7&4294967295|R>>>25),R=V+(C^_&(A^C))+x[9]+2336552879&4294967295,V=_+(R<<12&4294967295|R>>>20),R=C+(A^V&(_^A))+x[10]+4294925233&4294967295,C=V+(R<<17&4294967295|R>>>15),R=A+(_^C&(V^_))+x[11]+2304563134&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(V^A&(C^V))+x[12]+1804603682&4294967295,_=A+(R<<7&4294967295|R>>>25),R=V+(C^_&(A^C))+x[13]+4254626195&4294967295,V=_+(R<<12&4294967295|R>>>20),R=C+(A^V&(_^A))+x[14]+2792965006&4294967295,C=V+(R<<17&4294967295|R>>>15),R=A+(_^C&(V^_))+x[15]+1236535329&4294967295,A=C+(R<<22&4294967295|R>>>10),R=_+(C^V&(A^C))+x[1]+4129170786&4294967295,_=A+(R<<5&4294967295|R>>>27),R=V+(A^C&(_^A))+x[6]+3225465664&4294967295,V=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(V^_))+x[11]+643717713&4294967295,C=V+(R<<14&4294967295|R>>>18),R=A+(V^_&(C^V))+x[0]+3921069994&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(C^V&(A^C))+x[5]+3593408605&4294967295,_=A+(R<<5&4294967295|R>>>27),R=V+(A^C&(_^A))+x[10]+38016083&4294967295,V=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(V^_))+x[15]+3634488961&4294967295,C=V+(R<<14&4294967295|R>>>18),R=A+(V^_&(C^V))+x[4]+3889429448&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(C^V&(A^C))+x[9]+568446438&4294967295,_=A+(R<<5&4294967295|R>>>27),R=V+(A^C&(_^A))+x[14]+3275163606&4294967295,V=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(V^_))+x[3]+4107603335&4294967295,C=V+(R<<14&4294967295|R>>>18),R=A+(V^_&(C^V))+x[8]+1163531501&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(C^V&(A^C))+x[13]+2850285829&4294967295,_=A+(R<<5&4294967295|R>>>27),R=V+(A^C&(_^A))+x[2]+4243563512&4294967295,V=_+(R<<9&4294967295|R>>>23),R=C+(_^A&(V^_))+x[7]+1735328473&4294967295,C=V+(R<<14&4294967295|R>>>18),R=A+(V^_&(C^V))+x[12]+2368359562&4294967295,A=C+(R<<20&4294967295|R>>>12),R=_+(A^C^V)+x[5]+4294588738&4294967295,_=A+(R<<4&4294967295|R>>>28),R=V+(_^A^C)+x[8]+2272392833&4294967295,V=_+(R<<11&4294967295|R>>>21),R=C+(V^_^A)+x[11]+1839030562&4294967295,C=V+(R<<16&4294967295|R>>>16),R=A+(C^V^_)+x[14]+4259657740&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(A^C^V)+x[1]+2763975236&4294967295,_=A+(R<<4&4294967295|R>>>28),R=V+(_^A^C)+x[4]+1272893353&4294967295,V=_+(R<<11&4294967295|R>>>21),R=C+(V^_^A)+x[7]+4139469664&4294967295,C=V+(R<<16&4294967295|R>>>16),R=A+(C^V^_)+x[10]+3200236656&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(A^C^V)+x[13]+681279174&4294967295,_=A+(R<<4&4294967295|R>>>28),R=V+(_^A^C)+x[0]+3936430074&4294967295,V=_+(R<<11&4294967295|R>>>21),R=C+(V^_^A)+x[3]+3572445317&4294967295,C=V+(R<<16&4294967295|R>>>16),R=A+(C^V^_)+x[6]+76029189&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(A^C^V)+x[9]+3654602809&4294967295,_=A+(R<<4&4294967295|R>>>28),R=V+(_^A^C)+x[12]+3873151461&4294967295,V=_+(R<<11&4294967295|R>>>21),R=C+(V^_^A)+x[15]+530742520&4294967295,C=V+(R<<16&4294967295|R>>>16),R=A+(C^V^_)+x[2]+3299628645&4294967295,A=C+(R<<23&4294967295|R>>>9),R=_+(C^(A|~V))+x[0]+4096336452&4294967295,_=A+(R<<6&4294967295|R>>>26),R=V+(A^(_|~C))+x[7]+1126891415&4294967295,V=_+(R<<10&4294967295|R>>>22),R=C+(_^(V|~A))+x[14]+2878612391&4294967295,C=V+(R<<15&4294967295|R>>>17),R=A+(V^(C|~_))+x[5]+4237533241&4294967295,A=C+(R<<21&4294967295|R>>>11),R=_+(C^(A|~V))+x[12]+1700485571&4294967295,_=A+(R<<6&4294967295|R>>>26),R=V+(A^(_|~C))+x[3]+2399980690&4294967295,V=_+(R<<10&4294967295|R>>>22),R=C+(_^(V|~A))+x[10]+4293915773&4294967295,C=V+(R<<15&4294967295|R>>>17),R=A+(V^(C|~_))+x[1]+2240044497&4294967295,A=C+(R<<21&4294967295|R>>>11),R=_+(C^(A|~V))+x[8]+1873313359&4294967295,_=A+(R<<6&4294967295|R>>>26),R=V+(A^(_|~C))+x[15]+4264355552&4294967295,V=_+(R<<10&4294967295|R>>>22),R=C+(_^(V|~A))+x[6]+2734768916&4294967295,C=V+(R<<15&4294967295|R>>>17),R=A+(V^(C|~_))+x[13]+1309151649&4294967295,A=C+(R<<21&4294967295|R>>>11),R=_+(C^(A|~V))+x[4]+4149444226&4294967295,_=A+(R<<6&4294967295|R>>>26),R=V+(A^(_|~C))+x[11]+3174756917&4294967295,V=_+(R<<10&4294967295|R>>>22),R=C+(_^(V|~A))+x[2]+718787259&4294967295,C=V+(R<<15&4294967295|R>>>17),R=A+(V^(C|~_))+x[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+V&4294967295}i.prototype.v=function(E,_){_===void 0&&(_=E.length);const A=_-this.blockSize,x=this.C;let C=this.h,V=0;for(;V<_;){if(C==0)for(;V<=A;)s(this,E,V),V+=this.blockSize;if(typeof E=="string"){for(;V<_;)if(x[C++]=E.charCodeAt(V++),C==this.blockSize){s(this,x),C=0;break}}else for(;V<_;)if(x[C++]=E[V++],C==this.blockSize){s(this,x),C=0;break}}this.h=C,this.o+=_},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;_=this.o*8;for(var A=E.length-8;A<E.length;++A)E[A]=_&255,_/=256;for(this.v(E),E=Array(16),_=0,A=0;A<4;++A)for(let x=0;x<32;x+=8)E[_++]=this.g[A]>>>x&255;return E};function r(E,_){var A=o;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=_(E)}function a(E,_){this.h=_;const A=[];let x=!0;for(let C=E.length-1;C>=0;C--){const V=E[C]|0;x&&V==_||(A[C]=V,x=!1)}this.g=A}var o={};function u(E){return-128<=E&&E<128?r(E,function(_){return new a([_|0],_<0?-1:0)}):new a([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return d;if(E<0)return D(c(-E));const _=[];let A=1;for(let x=0;E>=A;x++)_[x]=E/A|0,A*=4294967296;return new a(_,0)}function h(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return D(h(E.substring(1),_));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(_,8));let x=d;for(let V=0;V<E.length;V+=8){var C=Math.min(8,E.length-V);const R=parseInt(E.substring(V,V+C),_);C<8?(C=c(Math.pow(_,C)),x=x.j(C).add(c(R))):(x=x.j(A),x=x.add(c(R)))}return x}var d=u(0),m=u(1),g=u(16777216);e=a.prototype,e.m=function(){if(I(this))return-D(this).m();let E=0,_=1;for(let A=0;A<this.g.length;A++){const x=this.i(A);E+=(x>=0?x:4294967296+x)*_,_*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(w(this))return"0";if(I(this))return"-"+D(this).toString(E);const _=c(Math.pow(E,6));var A=this;let x="";for(;;){const C=N(A,_).g;A=v(A,C.j(_));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(E);if(A=C,w(A))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function w(E){if(E.h!=0)return!1;for(let _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function I(E){return E.h==-1}e.l=function(E){return E=v(this,E),I(E)?-1:w(E)?0:1};function D(E){const _=E.g.length,A=[];for(let x=0;x<_;x++)A[x]=~E.g[x];return new a(A,~E.h).add(m)}e.abs=function(){return I(this)?D(this):this},e.add=function(E){const _=Math.max(this.g.length,E.g.length),A=[];let x=0;for(let C=0;C<=_;C++){let V=x+(this.i(C)&65535)+(E.i(C)&65535),R=(V>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);x=R>>>16,V&=65535,R&=65535,A[C]=R<<16|V}return new a(A,A[A.length-1]&-2147483648?-1:0)};function v(E,_){return E.add(D(_))}e.j=function(E){if(w(this)||w(E))return d;if(I(this))return I(E)?D(this).j(D(E)):D(D(this).j(E));if(I(E))return D(this.j(D(E)));if(this.l(g)<0&&E.l(g)<0)return c(this.m()*E.m());const _=this.g.length+E.g.length,A=[];for(var x=0;x<2*_;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(let C=0;C<E.g.length;C++){const V=this.i(x)>>>16,R=this.i(x)&65535,Jt=E.i(C)>>>16,Ve=E.i(C)&65535;A[2*x+2*C]+=R*Ve,T(A,2*x+2*C),A[2*x+2*C+1]+=V*Ve,T(A,2*x+2*C+1),A[2*x+2*C+1]+=R*Jt,T(A,2*x+2*C+1),A[2*x+2*C+2]+=V*Jt,T(A,2*x+2*C+2)}for(E=0;E<_;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=_;E<2*_;E++)A[E]=0;return new a(A,0)};function T(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function S(E,_){this.g=E,this.h=_}function N(E,_){if(w(_))throw Error("division by zero");if(w(E))return new S(d,d);if(I(E))return _=N(D(E),_),new S(D(_.g),D(_.h));if(I(_))return _=N(E,D(_)),new S(D(_.g),_.h);if(E.g.length>30){if(I(E)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var A=m,x=_;x.l(E)<=0;)A=P(A),x=P(x);var C=z(A,1),V=z(x,1);for(x=z(x,2),A=z(A,2);!w(x);){var R=V.add(x);R.l(E)<=0&&(C=C.add(A),V=R),x=z(x,1),A=z(A,1)}return _=v(E,C.j(_)),new S(C,_)}for(C=d;E.l(_)>=0;){for(A=Math.max(1,Math.floor(E.m()/_.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=c(A),R=V.j(_);I(R)||R.l(E)>0;)A-=x,V=c(A),R=V.j(_);w(V)&&(V=m),C=C.add(V),E=v(E,R)}return new S(C,E)}e.B=function(E){return N(this,E).h},e.and=function(E){const _=Math.max(this.g.length,E.g.length),A=[];for(let x=0;x<_;x++)A[x]=this.i(x)&E.i(x);return new a(A,this.h&E.h)},e.or=function(E){const _=Math.max(this.g.length,E.g.length),A=[];for(let x=0;x<_;x++)A[x]=this.i(x)|E.i(x);return new a(A,this.h|E.h)},e.xor=function(E){const _=Math.max(this.g.length,E.g.length),A=[];for(let x=0;x<_;x++)A[x]=this.i(x)^E.i(x);return new a(A,this.h^E.h)};function P(E){const _=E.g.length+1,A=[];for(let x=0;x<_;x++)A[x]=E.i(x)<<1|E.i(x-1)>>>31;return new a(A,E.h)}function z(E,_){const A=_>>5;_%=32;const x=E.g.length-A,C=[];for(let V=0;V<x;V++)C[V]=_>0?E.i(V+A)>>>_|E.i(V+A+1)<<32-_:E.i(V+A);return new a(C,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,xR=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,us=a}).apply(typeof Bb<"u"?Bb:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RR,Oo,CR,yc,Rp,IR,NR,DR;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var f=0;f<l.length;++f){var p=l[f];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=n(this);function s(l,f){if(f)t:{var p=i;l=l.split(".");for(var b=0;b<l.length-1;b++){var M=l[b];if(!(M in p))break t;p=p[M]}l=l[l.length-1],b=p[l],f=f(b),f!=b&&f!=null&&t(p,l,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(f){var p=[],b;for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&p.push([b,f[b]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function u(l,f,p){return l.call.apply(l.bind,arguments)}function c(l,f,p){return c=u,c.apply(null,arguments)}function h(l,f){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function d(l,f){function p(){}p.prototype=f.prototype,l.Z=f.prototype,l.prototype=new p,l.prototype.constructor=l,l.Ob=function(b,M,O){for(var B=Array(arguments.length-2),it=2;it<arguments.length;it++)B[it-2]=arguments[it];return f.prototype[M].apply(b,B)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const f=l.length;if(f>0){const p=Array(f);for(let b=0;b<f;b++)p[b]=l[b];return p}return[]}function w(l,f){for(let b=1;b<arguments.length;b++){const M=arguments[b];var p=typeof M;if(p=p!="object"?p:M?Array.isArray(M)?"array":p:"null",p=="array"||p=="object"&&typeof M.length=="number"){p=l.length||0;const O=M.length||0;l.length=p+O;for(let B=0;B<O;B++)l[p+B]=M[B]}else l.push(M)}}class I{constructor(f,p){this.i=f,this.j=p,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function D(l){a.setTimeout(()=>{throw l},0)}function v(){var l=E;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class T{constructor(){this.h=this.g=null}add(f,p){const b=S.get();b.set(f,p),this.h?this.h.next=b:this.g=b,this.h=b}}var S=new I(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(f,p){this.h=f,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let P,z=!1,E=new T,_=()=>{const l=Promise.resolve(void 0);P=()=>{l.then(A)}};function A(){for(var l;l=v();){try{l.h.call(l.g)}catch(p){D(p)}var f=S;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}z=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,f),a.removeEventListener("test",p,f)}catch{}return l}();function R(l){return/^[\s\xa0]*$/.test(l)}function Jt(l,f){C.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}d(Jt,C),Jt.prototype.init=function(l,f){const p=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(p=="mouseover"?f=l.fromElement:p=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Jt.Z.h.call(this)},Jt.prototype.h=function(){Jt.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),H=0;function G(l,f,p,b,M){this.listener=l,this.proxy=null,this.src=f,this.type=p,this.capture=!!b,this.ha=M,this.key=++H,this.da=this.fa=!1}function K(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ht(l,f,p){for(const b in l)f.call(p,l[b],b,l)}function Tt(l,f){for(const p in l)f.call(void 0,l[p],p,l)}function Zn(l){const f={};for(const p in l)f[p]=l[p];return f}const Ds="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(l,f){let p,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(p in b)l[p]=b[p];for(let O=0;O<Ds.length;O++)p=Ds[O],Object.prototype.hasOwnProperty.call(b,p)&&(l[p]=b[p])}}function sn(l){this.src=l,this.g={},this.h=0}sn.prototype.add=function(l,f,p,b,M){const O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);const B=bf(l,f,b,M);return B>-1?(f=l[B],p||(f.fa=!1)):(f=new G(f,this.src,O,!!b,M),f.fa=p,l.push(f)),f};function Ri(l,f){const p=f.type;if(p in l.g){var b=l.g[p],M=Array.prototype.indexOf.call(b,f,void 0),O;(O=M>=0)&&Array.prototype.splice.call(b,M,1),O&&(K(f),l.g[p].length==0&&(delete l.g[p],l.h--))}}function bf(l,f,p,b){for(let M=0;M<l.length;++M){const O=l[M];if(!O.da&&O.listener==f&&O.capture==!!p&&O.ha==b)return M}return-1}var Ef="closure_lm_"+(Math.random()*1e6|0),Af={};function P0(l,f,p,b,M){if(Array.isArray(f)){for(let O=0;O<f.length;O++)P0(l,f[O],p,b,M);return null}return p=j0(p),l&&l[Ve]?l.J(f,p,o(b)?!!b.capture:!1,M):YI(l,f,p,!1,b,M)}function YI(l,f,p,b,M,O){if(!f)throw Error("Invalid event type");const B=o(M)?!!M.capture:!!M;let it=wf(l);if(it||(l[Ef]=it=new sn(l)),p=it.add(f,p,b,B,O),p.proxy)return p;if(b=$I(),p.proxy=b,b.src=l,b.listener=p,l.addEventListener)V||(M=B),M===void 0&&(M=!1),l.addEventListener(f.toString(),b,M);else if(l.attachEvent)l.attachEvent(L0(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function $I(){function l(p){return f.call(l.src,l.listener,p)}const f=QI;return l}function k0(l,f,p,b,M){if(Array.isArray(f))for(var O=0;O<f.length;O++)k0(l,f[O],p,b,M);else b=o(b)?!!b.capture:!!b,p=j0(p),l&&l[Ve]?(l=l.i,O=String(f).toString(),O in l.g&&(f=l.g[O],p=bf(f,p,b,M),p>-1&&(K(f[p]),Array.prototype.splice.call(f,p,1),f.length==0&&(delete l.g[O],l.h--)))):l&&(l=wf(l))&&(f=l.g[f.toString()],l=-1,f&&(l=bf(f,p,b,M)),(p=l>-1?f[l]:null)&&Sf(p))}function Sf(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ve])Ri(f.i,l);else{var p=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(p,b,l.capture):f.detachEvent?f.detachEvent(L0(p),b):f.addListener&&f.removeListener&&f.removeListener(b),(p=wf(f))?(Ri(p,l),p.h==0&&(p.src=null,f[Ef]=null)):K(l)}}}function L0(l){return l in Af?Af[l]:Af[l]="on"+l}function QI(l,f){if(l.da)l=!0;else{f=new Jt(f,this);const p=l.listener,b=l.ha||l.src;l.fa&&Sf(l),l=p.call(b,f)}return l}function wf(l){return l=l[Ef],l instanceof sn?l:null}var xf="__closure_events_fn_"+(Math.random()*1e9>>>0);function j0(l){return typeof l=="function"?l:(l[xf]||(l[xf]=function(f){return l.handleEvent(f)}),l[xf])}function _e(){x.call(this),this.i=new sn(this),this.M=this,this.G=null}d(_e,x),_e.prototype[Ve]=!0,_e.prototype.removeEventListener=function(l,f,p,b){k0(this,l,f,p,b)};function we(l,f){var p,b=l.G;if(b)for(p=[];b;b=b.G)p.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new C(f,l);else if(f instanceof C)f.target=f.target||l;else{var M=f;f=new C(b,l),Rr(f,M)}M=!0;let O,B;if(p)for(B=p.length-1;B>=0;B--)O=f.g=p[B],M=mu(O,b,!0,f)&&M;if(O=f.g=l,M=mu(O,b,!0,f)&&M,M=mu(O,b,!1,f)&&M,p)for(B=0;B<p.length;B++)O=f.g=p[B],M=mu(O,b,!1,f)&&M}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const p=l.g[f];for(let b=0;b<p.length;b++)K(p[b]);delete l.g[f],l.h--}}this.G=null},_e.prototype.J=function(l,f,p,b){return this.i.add(String(l),f,!1,p,b)},_e.prototype.K=function(l,f,p,b){return this.i.add(String(l),f,!0,p,b)};function mu(l,f,p,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let O=0;O<f.length;++O){const B=f[O];if(B&&!B.da&&B.capture==p){const it=B.listener,te=B.ha||B.src;B.fa&&Ri(l.i,B),M=it.call(te,b)!==!1&&M}}return M&&!b.defaultPrevented}function XI(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:a.setTimeout(l,f||0)}function U0(l){l.g=XI(()=>{l.g=null,l.i&&(l.i=!1,U0(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class WI extends x{constructor(f,p){super(),this.m=f,this.l=p,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:U0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(l){x.call(this),this.h=l,this.g={}}d(no,x);var z0=[];function B0(l){ht(l.g,function(f,p){this.g.hasOwnProperty(p)&&Sf(f)},l),l.g={}}no.prototype.N=function(){no.Z.N.call(this),B0(this)},no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rf=a.JSON.stringify,ZI=a.JSON.parse,JI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function F0(){}function H0(){}var io={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cf(){C.call(this,"d")}d(Cf,C);function If(){C.call(this,"c")}d(If,C);var Vs={},q0=null;function pu(){return q0=q0||new _e}Vs.Ia="serverreachability";function G0(l){C.call(this,Vs.Ia,l)}d(G0,C);function so(l){const f=pu();we(f,new G0(f))}Vs.STAT_EVENT="statevent";function K0(l,f){C.call(this,Vs.STAT_EVENT,l),this.stat=f}d(K0,C);function xe(l){const f=pu();we(f,new K0(f,l))}Vs.Ja="timingevent";function Y0(l,f){C.call(this,Vs.Ja,l),this.size=f}d(Y0,C);function ro(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ao(){this.g=!0}ao.prototype.ua=function(){this.g=!1};function t2(l,f,p,b,M,O){l.info(function(){if(l.g)if(O){var B="",it=O.split("&");for(let bt=0;bt<it.length;bt++){var te=it[bt].split("=");if(te.length>1){const se=te[0];te=te[1];const On=se.split("_");B=On.length>=2&&On[1]=="type"?B+(se+"="+te+"&"):B+(se+"=redacted&")}}}else B=null;else B=O;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+f+`
`+p+`
`+B})}function e2(l,f,p,b,M,O,B){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+f+`
`+p+`
`+O+" "+B})}function Cr(l,f,p,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+i2(l,p)+(b?" "+b:"")})}function n2(l,f){l.info(function(){return"TIMEOUT: "+f})}ao.prototype.info=function(){};function i2(l,f){if(!l.g)return f;if(!f)return null;try{const O=JSON.parse(f);if(O){for(l=0;l<O.length;l++)if(Array.isArray(O[l])){var p=O[l];if(!(p.length<2)){var b=p[1];if(Array.isArray(b)&&!(b.length<1)){var M=b[0];if(M!="noop"&&M!="stop"&&M!="close")for(let B=1;B<b.length;B++)b[B]=""}}}}return Rf(O)}catch{return f}}var gu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Q0;function Nf(){}d(Nf,F0),Nf.prototype.g=function(){return new XMLHttpRequest},Q0=new Nf;function oo(l){return encodeURIComponent(String(l))}function s2(l){var f=1;l=l.split(":");const p=[];for(;f>0&&l.length;)p.push(l.shift()),f--;return l.length&&p.push(l.join(":")),p}function Ci(l,f,p,b){this.j=l,this.i=f,this.l=p,this.S=b||1,this.V=new no(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new X0}function X0(){this.i=null,this.g="",this.h=!1}var W0={},Df={};function Vf(l,f,p){l.M=1,l.A=vu(Mn(f)),l.u=p,l.R=!0,Z0(l,null)}function Z0(l,f){l.F=Date.now(),yu(l),l.B=Mn(l.A);var p=l.B,b=l.S;Array.isArray(b)||(b=[String(b)]),hv(p.i,"t",b),l.C=0,p=l.j.L,l.h=new X0,l.g=Iv(l.j,p?f:null,!l.u),l.P>0&&(l.O=new WI(c(l.Y,l,l.g),l.P)),f=l.V,p=l.g,b=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(z0[0]=M.toString()),M=z0);for(let O=0;O<M.length;O++){const B=P0(p,M[O],b||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=l.J?Zn(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),so(),t2(l.i,l.v,l.B,l.l,l.S,l.u)}Ci.prototype.ba=function(l){l=l.target;const f=this.O;f&&Di(l)==3?f.j():this.Y(l)},Ci.prototype.Y=function(l){try{if(l==this.g)t:{const it=Di(this.g),te=this.g.ya(),bt=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||vv(this.g)))){this.K||it!=4||te==7||(te==8||bt<=0?so(3):so(2)),Mf(this);var f=this.g.ca();this.X=f;var p=r2(this);if(this.o=f==200,e2(this.i,this.v,this.B,this.l,this.S,it,f),this.o){if(this.U&&!this.L){e:{if(this.g){var b,M=this.g;if((b=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var O=b;break e}}O=null}if(l=O)Cr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Of(this,l);else{this.o=!1,this.m=3,xe(12),Ms(this),lo(this);break t}}if(this.R){l=!0;let se;for(;!this.K&&this.C<p.length;)if(se=a2(this,p),se==Df){it==4&&(this.m=4,xe(14),l=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(se==W0){this.m=4,xe(15),Cr(this.i,this.l,p,"[Invalid Chunk]"),l=!1;break}else Cr(this.i,this.l,se,null),Of(this,se);if(J0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||p.length!=0||this.h.h||(this.m=1,xe(16),l=!1),this.o=this.o&&l,!l)Cr(this.i,this.l,p,"[Invalid Chunked Response]"),Ms(this),lo(this);else if(p.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ff(B),B.P=!0,xe(11))}}else Cr(this.i,this.l,p,null),Of(this,p);it==4&&Ms(this),this.o&&!this.K&&(it==4?wv(this.j,this):(this.o=!1,yu(this)))}else T2(this.g),f==400&&p.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Ms(this),lo(this)}}}catch{}finally{}};function r2(l){if(!J0(l))return l.g.la();const f=vv(l.g);if(f==="")return"";let p="";const b=f.length,M=Di(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Ms(l),lo(l),"";l.h.i=new a.TextDecoder}for(let O=0;O<b;O++)l.h.h=!0,p+=l.h.i.decode(f[O],{stream:!(M&&O==b-1)});return f.length=0,l.h.g+=p,l.C=0,l.h.g}function J0(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function a2(l,f){var p=l.C,b=f.indexOf(`
`,p);return b==-1?Df:(p=Number(f.substring(p,b)),isNaN(p)?W0:(b+=1,b+p>f.length?Df:(f=f.slice(b,b+p),l.C=b+p,f)))}Ci.prototype.cancel=function(){this.K=!0,Ms(this)};function yu(l){l.T=Date.now()+l.H,tv(l,l.H)}function tv(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ro(c(l.aa,l),f)}function Mf(l){l.D&&(a.clearTimeout(l.D),l.D=null)}Ci.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(n2(this.i,this.B),this.M!=2&&(so(),xe(17)),Ms(this),this.m=2,lo(this)):tv(this,this.T-l)};function lo(l){l.j.I==0||l.K||wv(l.j,l)}function Ms(l){Mf(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,B0(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function Of(l,f){try{var p=l.j;if(p.I!=0&&(p.g==l||Pf(p.h,l))){if(!l.L&&Pf(p.h,l)&&p.I==3){try{var b=p.Ba.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<l.F)Au(p),bu(p);else break t;Bf(p),xe(18)}}else p.xa=M[1],0<p.xa-p.K&&M[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ro(c(p.Va,p),6e3));iv(p.h)<=1&&p.ta&&(p.ta=void 0)}else Ps(p,11)}else if((l.L||p.g==l)&&Au(p),!R(f))for(M=p.Ba.g.parse(f),f=0;f<M.length;f++){let bt=M[f];const se=bt[0];if(!(se<=p.K))if(p.K=se,bt=bt[1],p.I==2)if(bt[0]=="c"){p.M=bt[1],p.ba=bt[2];const On=bt[3];On!=null&&(p.ka=On,p.j.info("VER="+p.ka));const ks=bt[4];ks!=null&&(p.za=ks,p.j.info("SVER="+p.za));const Vi=bt[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(b=1.5*Vi,p.O=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Mi=l.g;if(Mi){const wu=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wu){var O=b.h;O.g||wu.indexOf("spdy")==-1&&wu.indexOf("quic")==-1&&wu.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(kf(O,O.h),O.h=null))}if(b.G){const Hf=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Hf&&(b.wa=Hf,wt(b.J,b.G,Hf))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-l.F,p.j.info("Handshake RTT: "+p.T+"ms")),b=p;var B=l;if(b.na=Cv(b,b.L?b.ba:null,b.W),B.L){sv(b.h,B);var it=B,te=b.O;te&&(it.H=te),it.D&&(Mf(it),yu(it)),b.g=B}else Av(b);p.i.length>0&&Eu(p)}else bt[0]!="stop"&&bt[0]!="close"||Ps(p,7);else p.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Ps(p,7):zf(p):bt[0]!="noop"&&p.l&&p.l.qa(bt),p.A=0)}}so(4)}catch{}}var o2=class{constructor(l,f){this.g=l,this.map=f}};function ev(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function iv(l){return l.h?1:l.g?l.g.size:0}function Pf(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function kf(l,f){l.g?l.g.add(f):l.h=f}function sv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ev.prototype.cancel=function(){if(this.i=rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function rv(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const p of l.g.values())f=f.concat(p.G);return f}return g(l.i)}var av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l2(l,f){if(l){l=l.split("&");for(let p=0;p<l.length;p++){const b=l[p].indexOf("=");let M,O=null;b>=0?(M=l[p].substring(0,b),O=l[p].substring(b+1)):M=l[p],f(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ii(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof Ii?(this.l=l.l,uo(this,l.j),this.o=l.o,this.g=l.g,co(this,l.u),this.h=l.h,Lf(this,fv(l.i)),this.m=l.m):l&&(f=String(l).match(av))?(this.l=!1,uo(this,f[1]||"",!0),this.o=ho(f[2]||""),this.g=ho(f[3]||"",!0),co(this,f[4]),this.h=ho(f[5]||"",!0),Lf(this,f[6]||"",!0),this.m=ho(f[7]||"")):(this.l=!1,this.i=new mo(null,this.l))}Ii.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(fo(f,ov,!0),":");var p=this.g;return(p||f=="file")&&(l.push("//"),(f=this.o)&&l.push(fo(f,ov,!0),"@"),l.push(oo(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&l.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(fo(p,p.charAt(0)=="/"?h2:c2,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",fo(p,d2)),l.join("")},Ii.prototype.resolve=function(l){const f=Mn(this);let p=!!l.j;p?uo(f,l.j):p=!!l.o,p?f.o=l.o:p=!!l.g,p?f.g=l.g:p=l.u!=null;var b=l.h;if(p)co(f,l.u);else if(p=!!l.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var M=f.h.lastIndexOf("/");M!=-1&&(b=f.h.slice(0,M+1)+b)}if(M=b,M==".."||M==".")b="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){b=M.lastIndexOf("/",0)==0,M=M.split("/");const O=[];for(let B=0;B<M.length;){const it=M[B++];it=="."?b&&B==M.length&&O.push(""):it==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),b&&B==M.length&&O.push("")):(O.push(it),b=!0)}b=O.join("/")}else b=M}return p?f.h=b:p=l.i.toString()!=="",p?Lf(f,fv(l.i)):p=!!l.m,p&&(f.m=l.m),f};function Mn(l){return new Ii(l)}function uo(l,f,p){l.j=p?ho(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function co(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function Lf(l,f,p){f instanceof mo?(l.i=f,m2(l.i,l.l)):(p||(f=fo(f,f2)),l.i=new mo(f,l.l))}function wt(l,f,p){l.i.set(f,p)}function vu(l){return wt(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ho(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fo(l,f,p){return typeof l=="string"?(l=encodeURI(l).replace(f,u2),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function u2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ov=/[#\/\?@]/g,c2=/[#\?:]/g,h2=/[#\?]/g,f2=/[#\?@]/g,d2=/#/g;function mo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Os(l){l.g||(l.g=new Map,l.h=0,l.i&&l2(l.i,function(f,p){l.add(decodeURIComponent(f.replace(/\+/g," ")),p)}))}e=mo.prototype,e.add=function(l,f){Os(this),this.i=null,l=Ir(this,l);let p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(f),this.h+=1,this};function lv(l,f){Os(l),f=Ir(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function uv(l,f){return Os(l),f=Ir(l,f),l.g.has(f)}e.forEach=function(l,f){Os(this),this.g.forEach(function(p,b){p.forEach(function(M){l.call(f,M,b,this)},this)},this)};function cv(l,f){Os(l);let p=[];if(typeof f=="string")uv(l,f)&&(p=p.concat(l.g.get(Ir(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)p=p.concat(l[f]);return p}e.set=function(l,f){return Os(this),this.i=null,l=Ir(this,l),uv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},e.get=function(l,f){return l?(l=cv(this,l),l.length>0?String(l[0]):f):f};function hv(l,f,p){lv(l,f),p.length>0&&(l.i=null,l.g.set(Ir(l,f),g(p)),l.h+=p.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let b=0;b<f.length;b++){var p=f[b];const M=oo(p);p=cv(this,p);for(let O=0;O<p.length;O++){let B=M;p[O]!==""&&(B+="="+oo(p[O])),l.push(B)}}return this.i=l.join("&")};function fv(l){const f=new mo;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function Ir(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function m2(l,f){f&&!l.j&&(Os(l),l.i=null,l.g.forEach(function(p,b){const M=b.toLowerCase();b!=M&&(lv(this,b),hv(this,M,p))},l)),l.j=f}function p2(l,f){const p=new ao;if(a.Image){const b=new Image;b.onload=h(Ni,p,"TestLoadImage: loaded",!0,f,b),b.onerror=h(Ni,p,"TestLoadImage: error",!1,f,b),b.onabort=h(Ni,p,"TestLoadImage: abort",!1,f,b),b.ontimeout=h(Ni,p,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function g2(l,f){const p=new ao,b=new AbortController,M=setTimeout(()=>{b.abort(),Ni(p,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(O=>{clearTimeout(M),O.ok?Ni(p,"TestPingServer: ok",!0,f):Ni(p,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Ni(p,"TestPingServer: error",!1,f)})}function Ni(l,f,p,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(p)}catch{}}function y2(){this.g=new JI}function jf(l){this.i=l.Sb||null,this.h=l.ab||!1}d(jf,F0),jf.prototype.g=function(){return new _u(this.i,this.h)};function _u(l,f){_e.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(_u,_e),e=_u.prototype,e.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,go(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||a).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,po(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dv(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function dv(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?po(this):go(this),this.readyState==3&&dv(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,po(this))},e.Na=function(l){this.g&&(this.response=l,po(this))},e.ga=function(){this.g&&po(this)};function po(l){l.readyState=4,l.l=null,l.j=null,l.B=null,go(l)}e.setRequestHeader=function(l,f){this.A.append(l,f)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var p=f.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=f.next();return l.join(`\r
`)};function go(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function mv(l){let f="";return ht(l,function(p,b){f+=b,f+=":",f+=p,f+=`\r
`}),f}function Uf(l,f,p){t:{for(b in p){var b=!1;break t}b=!0}b||(p=mv(p),typeof l=="string"?p!=null&&oo(p):wt(l,f,p))}function Pt(l){_e.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Pt,_e);var v2=/^https?$/i,_2=["POST","PUT"];e=Pt.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,f,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Q0.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(O){pv(this,O);return}if(l=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)p.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const O of b.keys())p.set(O,b.get(O));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(_2,f,void 0)>=0)||b||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of p)this.g.setRequestHeader(O,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(O){pv(this,O)}};function pv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,gv(l),Tu(l)}function gv(l){l.A||(l.A=!0,we(l,"complete"),we(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,we(this,"complete"),we(this,"abort"),Tu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tu(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?yv(this):this.Xa())},e.Xa=function(){yv(this)};function yv(l){if(l.h&&typeof r<"u"){if(l.v&&Di(l)==4)setTimeout(l.Ca.bind(l),0);else if(we(l,"readystatechange"),Di(l)==4){l.h=!1;try{const O=l.ca();t:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var p;if(!(p=f)){var b;if(b=O===0){let B=String(l.D).match(av)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),b=!v2.test(B?B.toLowerCase():"")}p=b}if(p)we(l,"complete"),we(l,"success");else{l.o=6;try{var M=Di(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",gv(l)}}finally{Tu(l)}}}}function Tu(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const p=l.g;l.g=null,f||we(l,"ready");try{p.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Di(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Di(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),ZI(f)}};function vv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function T2(l){const f={};l=(l.g&&Di(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(R(l[b]))continue;var p=s2(l[b]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=f[M]||[];f[M]=O,O.push(p)}Tt(f,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(l,f,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||f}function _v(l){this.za=0,this.i=[],this.j=new ao,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yo("baseRetryDelayMs",5e3,l),this.Za=yo("retryDelaySeedMs",1e4,l),this.Ta=yo("forwardChannelMaxRetries",2,l),this.va=yo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ev(l&&l.concurrentRequestLimit),this.Ba=new y2,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=_v.prototype,e.ka=8,e.I=1,e.connect=function(l,f,p,b){xe(0),this.W=l,this.H=f||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.J=Cv(this,null,this.W),Eu(this)};function zf(l){if(Tv(l),l.I==3){var f=l.V++,p=Mn(l.J);if(wt(p,"SID",l.M),wt(p,"RID",f),wt(p,"TYPE","terminate"),vo(l,p),f=new Ci(l,l.j,f),f.M=2,f.A=vu(Mn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(f.A.toString(),"")}catch{}!p&&a.Image&&(new Image().src=f.A,p=!0),p||(f.g=Iv(f.j,null),f.g.ea(f.A)),f.F=Date.now(),yu(f)}Rv(l)}function bu(l){l.g&&(Ff(l),l.g.cancel(),l.g=null)}function Tv(l){bu(l),l.v&&(a.clearTimeout(l.v),l.v=null),Au(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Eu(l){if(!nv(l.h)&&!l.m){l.m=!0;var f=l.Ea;P||_(),z||(P(),z=!0),E.add(f,l),l.D=0}}function b2(l,f){return iv(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ro(c(l.Ea,l,f),xv(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new Ci(this,this.j,l);let O=this.o;if(this.U&&(O?(O=Zn(O),Rr(O,this.U)):O=this.U),this.u!==null||this.R||(M.J=O,O=null),this.S)t:{for(var f=0,p=0;p<this.i.length;p++){e:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(f+=b,f>4096){f=p;break t}if(f===4096||p===this.i.length-1){f=p+1;break t}}f=1e3}else f=1e3;f=Ev(this,M,f),p=Mn(this.J),wt(p,"RID",l),wt(p,"CVER",22),this.G&&wt(p,"X-HTTP-Session-Id",this.G),vo(this,p),O&&(this.R?f="headers="+oo(mv(O))+"&"+f:this.u&&Uf(p,this.u,O)),kf(this.h,M),this.Ra&&wt(p,"TYPE","init"),this.S?(wt(p,"$req",f),wt(p,"SID","null"),M.U=!0,Vf(M,p,null)):Vf(M,p,f),this.I=2}}else this.I==3&&(l?bv(this,l):this.i.length==0||nv(this.h)||bv(this))};function bv(l,f){var p;f?p=f.l:p=l.V++;const b=Mn(l.J);wt(b,"SID",l.M),wt(b,"RID",p),wt(b,"AID",l.K),vo(l,b),l.u&&l.o&&Uf(b,l.u,l.o),p=new Ci(l,l.j,p,l.D+1),l.u===null&&(p.J=l.o),f&&(l.i=f.G.concat(l.i)),f=Ev(l,p,1e3),p.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),kf(l.h,p),Vf(p,b,f)}function vo(l,f){l.H&&ht(l.H,function(p,b){wt(f,b,p)}),l.l&&ht({},function(p,b){wt(f,b,p)})}function Ev(l,f,p){p=Math.min(l.i.length,p);const b=l.l?c(l.l.Ka,l.l,l):null;t:{var M=l.i;let it=-1;for(;;){const te=["count="+p];it==-1?p>0?(it=M[0].g,te.push("ofs="+it)):it=0:te.push("ofs="+it);let bt=!0;for(let se=0;se<p;se++){var O=M[se].g;const On=M[se].map;if(O-=it,O<0)it=Math.max(0,M[se].g-100),bt=!1;else try{O="req"+O+"_"||"";try{var B=On instanceof Map?On:Object.entries(On);for(const[ks,Vi]of B){let Mi=Vi;o(Vi)&&(Mi=Rf(Vi)),te.push(O+ks+"="+encodeURIComponent(Mi))}}catch(ks){throw te.push(O+"type="+encodeURIComponent("_badmap")),ks}}catch{b&&b(On)}}if(bt){B=te.join("&");break t}}B=void 0}return l=l.i.splice(0,p),f.G=l,B}function Av(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;P||_(),z||(P(),z=!0),E.add(f,l),l.A=0}}function Bf(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ro(c(l.Da,l),xv(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Sv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ro(c(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),bu(this),Sv(this))};function Ff(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function Sv(l){l.g=new Ci(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=Mn(l.na);wt(f,"RID","rpc"),wt(f,"SID",l.M),wt(f,"AID",l.K),wt(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&wt(f,"TO",l.ia),wt(f,"TYPE","xmlhttp"),vo(l,f),l.u&&l.o&&Uf(f,l.u,l.o),l.O&&(l.g.H=l.O);var p=l.g;l=l.ba,p.M=1,p.A=vu(Mn(f)),p.u=null,p.R=!0,Z0(p,l)}e.Va=function(){this.C!=null&&(this.C=null,bu(this),Bf(this),xe(19))};function Au(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function wv(l,f){var p=null;if(l.g==f){Au(l),Ff(l),l.g=null;var b=2}else if(Pf(l.h,f))p=f.G,sv(l.h,f),b=1;else return;if(l.I!=0){if(f.o)if(b==1){p=f.u?f.u.length:0,f=Date.now()-f.F;var M=l.D;b=pu(),we(b,new Y0(b,p)),Eu(l)}else Av(l);else if(M=f.m,M==3||M==0&&f.X>0||!(b==1&&b2(l,f)||b==2&&Bf(l)))switch(p&&p.length>0&&(f=l.h,f.i=f.i.concat(p)),M){case 1:Ps(l,5);break;case 4:Ps(l,10);break;case 3:Ps(l,6);break;default:Ps(l,2)}}}function xv(l,f){let p=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(p*=2),p*f}function Ps(l,f){if(l.j.info("Error code "+f),f==2){var p=c(l.bb,l),b=l.Ua;const M=!b;b=new Ii(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uo(b,"https"),vu(b),M?p2(b.toString(),p):g2(b.toString(),p)}else xe(2);l.I=0,l.l&&l.l.pa(f),Rv(l),Tv(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Rv(l){if(l.I=0,l.ja=[],l.l){const f=rv(l.h);(f.length!=0||l.i.length!=0)&&(w(l.ja,f),w(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function Cv(l,f,p){var b=p instanceof Ii?Mn(p):new Ii(p);if(b.g!="")f&&(b.g=f+"."+b.g),co(b,b.u);else{var M=a.location;b=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const O=new Ii(null);b&&uo(O,b),f&&(O.g=f),M&&co(O,M),p&&(O.h=p),b=O}return p=l.G,f=l.wa,p&&f&&wt(b,p,f),wt(b,"VER",l.ka),vo(l,b),b}function Iv(l,f,p){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new Pt(new jf({ab:p})):new Pt(l.ma),f.Fa(l.L),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nv(){}e=Nv.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Su(){}Su.prototype.g=function(l,f){return new qe(l,f)};function qe(l,f){_e.call(this),this.g=new _v(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!R(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!R(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Nr(this)}d(qe,_e),qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qe.prototype.close=function(){zf(this.g)},qe.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.v&&(p={},p.__data__=Rf(l),l=p);f.i.push(new o2(f.Ya++,l)),f.I==3&&Eu(f)},qe.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,qe.Z.N.call(this)};function Dv(l){Cf.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){t:{for(const p in f){l=p;break t}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}d(Dv,Cf);function Vv(){If.call(this),this.status=1}d(Vv,If);function Nr(l){this.g=l}d(Nr,Nv),Nr.prototype.ra=function(){we(this.g,"a")},Nr.prototype.qa=function(l){we(this.g,new Dv(l))},Nr.prototype.pa=function(l){we(this.g,new Vv)},Nr.prototype.oa=function(){we(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,qe.prototype.send=qe.prototype.o,qe.prototype.open=qe.prototype.m,qe.prototype.close=qe.prototype.close,DR=function(){return new Su},NR=function(){return pu()},IR=Vs,Rp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gu.NO_ERROR=0,gu.TIMEOUT=8,gu.HTTP_ERROR=6,yc=gu,$0.COMPLETE="complete",CR=$0,H0.EventType=io,io.OPEN="a",io.CLOSE="b",io.ERROR="c",io.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Oo=H0,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,RR=Pt}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.8.0";function q6(e){Xa=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Zh("@firebase/firestore");function kr(){return dr.logLevel}function q(e,...t){if(dr.logLevel<=at.DEBUG){const n=t.map(Uy);dr.debug(`Firestore (${Xa}): ${e}`,...n)}}function Ai(e,...t){if(dr.logLevel<=at.ERROR){const n=t.map(Uy);dr.error(`Firestore (${Xa}): ${e}`,...n)}}function Na(e,...t){if(dr.logLevel<=at.WARN){const n=t.map(Uy);dr.warn(`Firestore (${Xa}): ${e}`,...n)}}function Uy(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,VR(e,i,n)}function VR(e,t,n){let i=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Ai(i),new Error(i)}function pt(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||VR(t,s,i)}function tt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Vn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class G6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class K6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y6{constructor(t){this.t=t,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){pt(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new cs,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new cs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new MR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return pt(t===null||typeof t=="string",2055,{h:t}),new be(t)}}class $6{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=be.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Q6{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new $6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){pt(this.o===void 0,3512);const i=r=>{r.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=W6(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function ot(e,t){return e<t?-1:e>t?1:0}function Cp(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return Wd(s)===Wd(r)?ot(s,r):Wd(s)?1:-1}return ot(e.length,t.length)}const Z6=55296,J6=57343;function Wd(e){const t=e.charCodeAt(0);return t>=Z6&&t<=J6}function Da(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__name__";class Pn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Q(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Pn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=Pn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return ot(t.length,n.length)}static compareSegments(t,n){const i=Pn.isNumericId(t),s=Pn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Pn.extractNumericId(t).compare(Pn.extractNumericId(n)):Cp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return us.fromString(t.substring(4,t.length-2))}}class At extends Pn{construct(t,n,i){return new At(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new At(n)}static emptyPath(){return new At([])}}const tL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pe extends Pn{construct(t,n,i){return new pe(t,n,i)}static isValidIdentifier(t){return tL.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hb}static keyField(){return new pe([Hb])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const o=t[s];if(o==="\\"){if(s+1===t.length)throw new F(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new F(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pe(n)}static emptyPath(){return new pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.path=t}static fromPath(t){return new Y(At.fromString(t))}static fromName(t){return new Y(At.fromString(t).popFirst(5))}static empty(){return new Y(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&At.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return At.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Y(new At(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(e,t,n){if(!n)throw new F(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function eL(e,t,n,i){if(t===!0&&i===!0)throw new F(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function qb(e){if(!Y.isDocumentKey(e))throw new F(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Gb(e){if(Y.isDocumentKey(e))throw new F(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function PR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ef(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q(12329,{type:typeof e})}function Fn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(e);throw new F(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e,t){const n={typeString:e};return t&&(n.value=t),n}function su(e,t){if(!PR(e))throw new F(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new F(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=-62135596800,Yb=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(t){return Ct.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Yb);return new Ct(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Kb)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(su(t,Ct._jsonSchema))return new Ct(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Kb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Wt("string",Ct._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(t){return new J(t)}static min(){return new J(new Ct(0,0))}static max(){return new J(new Ct(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function nL(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=J.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new _s(s,Y.empty(),t)}function iL(e){return new _s(e.readTime,e.key,Dl)}class _s{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new _s(J.min(),Y.empty(),Dl)}static max(){return new _s(J.max(),Y.empty(),Dl)}}function sL(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Y.comparator(e.documentKey,t.documentKey),n!==0?n:ot(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==rL)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,i)=>{n(t)})}static reject(t){return new j((n,i)=>{i(t)})}static waitFor(t){return new j((n,i)=>{let s=0,r=0,a=!1;t.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(t){let n=j.resolve(!1);for(const i of t)n=n.next(s=>s?j.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new j((i,s)=>{const r=t.length,a=new Array(r);let o=0;for(let u=0;u<r;u++){const c=u;n(t[c]).next(h=>{a[c]=h,++o,o===r&&i(a)},h=>s(h))}})}static doWhile(t,n){return new j((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function oL(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-1;function sf(e){return e==null}function hh(e){return e===0&&1/e==-1/0}function lL(e){return typeof e=="number"&&Number.isInteger(e)&&!hh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="";function uL(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=$b(t)),t=cL(e.get(n),t);return $b(t)}function cL(e,t){let n=t;const i=e.length;for(let s=0;s<i;s++){const r=e.charAt(s);switch(r){case"\0":n+="";break;case kR:n+="";break;default:n+=r}}return n}function $b(e){return e+kR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Cs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t,n){this.comparator=t,this.root=n||he.EMPTY}insert(t,n){return new Ot(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,he.BLACK,null,null))}remove(t){return new Ot(this.comparator,this.root.remove(t,this.comparator).copy(null,null,he.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yu(this.root,t,this.comparator,!0)}}class Yu{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class he{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??he.RED,this.left=s??he.EMPTY,this.right=r??he.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new he(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return he.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return he.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,he.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,he.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Q(27949);return t+(this.isRed()?0:1)}}he.EMPTY=null,he.RED=!0,he.BLACK=!1;he.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(t,n,i,s,r){return this}insert(t,n,i){return new he(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.comparator=t,this.data=new Ot(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xb(this.data.getIterator())}getIteratorFrom(t){return new Xb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ne(this.comparator);return n.data=t,n}}class Xb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.fields=t,t.sort(pe.comparator)}static empty(){return new Qe([])}unionWith(t){let n=new ne(pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Qe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Da(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new jR("Invalid base64 string: "+r):r}}(t);return new ve(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new ve(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ve.EMPTY_BYTE_STRING=new ve("");const hL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(e){if(pt(!!e,39018),typeof e=="string"){let t=0;const n=hL.exec(e);if(pt(!!n,46558,{timestamp:e}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function bs(e){return typeof e=="string"?ve.fromBase64String(e):ve.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="server_timestamp",zR="__type__",BR="__previous_value__",FR="__local_write_time__";function Fy(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[zR])==null?void 0:i.stringValue)===UR}function rf(e){const t=e.mapValue.fields[BR];return Fy(t)?rf(t):t}function Vl(e){const t=Ts(e.mapValue.fields[FR].timestampValue);return new Ct(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t,n,i,s,r,a,o,u,c,h,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=d}}const fh="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||fh}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function dL(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="__type__",mL="__max__",$u={mapValue:{}},qR="__vector__",dh="value";function Es(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fy(e)?4:gL(e)?9007199254740991:pL(e)?10:11:Q(28295,{value:e})}function $n(e,t){if(e===t)return!0;const n=Es(e);if(n!==Es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vl(e).isEqual(Vl(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Ts(s.timestampValue),o=Ts(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return bs(s.bytesValue).isEqual(bs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return zt(s.geoPointValue.latitude)===zt(r.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return zt(s.integerValue)===zt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=zt(s.doubleValue),o=zt(r.doubleValue);return a===o?hh(a)===hh(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Da(e.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Qb(a)!==Qb(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!$n(a[u],o[u])))return!1;return!0}(e,t);default:return Q(52216,{left:e})}}function Ol(e,t){return(e.values||[]).find(n=>$n(n,t))!==void 0}function Va(e,t){if(e===t)return 0;const n=Es(e),i=Es(t);if(n!==i)return ot(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(r,a){const o=zt(r.integerValue||r.doubleValue),u=zt(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Wb(e.timestampValue,t.timestampValue);case 4:return Wb(Vl(e),Vl(t));case 5:return Cp(e.stringValue,t.stringValue);case 6:return function(r,a){const o=bs(r),u=bs(a);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,a){const o=r.split("/"),u=a.split("/");for(let c=0;c<o.length&&c<u.length;c++){const h=ot(o[c],u[c]);if(h!==0)return h}return ot(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,a){const o=ot(zt(r.latitude),zt(a.latitude));return o!==0?o:ot(zt(r.longitude),zt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Zb(e.arrayValue,t.arrayValue);case 10:return function(r,a){var m,g,w,I;const o=r.fields||{},u=a.fields||{},c=(m=o[dh])==null?void 0:m.arrayValue,h=(g=u[dh])==null?void 0:g.arrayValue,d=ot(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return d!==0?d:Zb(c,h)}(e.mapValue,t.mapValue);case 11:return function(r,a){if(r===$u.mapValue&&a===$u.mapValue)return 0;if(r===$u.mapValue)return 1;if(a===$u.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),c=a.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const m=Cp(u[d],h[d]);if(m!==0)return m;const g=Va(o[u[d]],c[h[d]]);if(g!==0)return g}return ot(u.length,h.length)}(e.mapValue,t.mapValue);default:throw Q(23264,{he:n})}}function Wb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);const n=Ts(e),i=Ts(t),s=ot(n.seconds,i.seconds);return s!==0?s:ot(n.nanos,i.nanos)}function Zb(e,t){const n=e.values||[],i=t.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Va(n[s],i[s]);if(r)return r}return ot(n.length,i.length)}function Ma(e){return Ip(e)}function Ip(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ts(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return bs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Y.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Ip(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Ip(n.fields[a])}`;return s+"}"}(e.mapValue):Q(61005,{value:e})}function vc(e){switch(Es(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rf(e);return t?16+vc(t):16;case 5:return 2*e.stringValue.length;case 6:return bs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+vc(r),0)}(e.arrayValue);case 10:case 11:return function(i){let s=0;return Cs(i.fields,(r,a)=>{s+=r.length+vc(a)}),s}(e.mapValue);default:throw Q(13486,{value:e})}}function Jb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Np(e){return!!e&&"integerValue"in e}function Hy(e){return!!e&&"arrayValue"in e}function tE(e){return!!e&&"nullValue"in e}function eE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _c(e){return!!e&&"mapValue"in e}function pL(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[HR])==null?void 0:i.stringValue)===qR}function sl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Cs(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=sl(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sl(e.arrayValue.values[n]);return t}return{...e}}function gL(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===mL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.value=t}static empty(){return new je({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!_c(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=sl(n)}setAll(t){let n=pe.emptyPath(),i={},s=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=o.popLast()}a?i[o.lastSegment()]=sl(a):s.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());_c(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];_c(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Cs(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new je(sl(this.value))}}function GR(e){const t=[];return Cs(e.fields,(n,i)=>{const s=new pe([n]);if(_c(i)){const r=GR(i.mapValue).fields;if(r.length===0)t.push(s);else for(const a of r)t.push(s.child(a))}else t.push(s)}),new Qe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n,i,s,r,a,o){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(t){return new Ee(t,0,J.min(),J.min(),J.min(),je.empty(),0)}static newFoundDocument(t,n,i,s){return new Ee(t,1,n,J.min(),i,s,0)}static newNoDocument(t,n){return new Ee(t,2,n,J.min(),J.min(),je.empty(),0)}static newUnknownDocument(t,n){return new Ee(t,3,n,J.min(),J.min(),je.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=je.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=je.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ee&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.position=t,this.inclusive=n}}function nE(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(r.field.isKeyField()?i=Y.comparator(Y.fromName(a.referenceValue),n.key):i=Va(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function iE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$n(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n="asc"){this.field=t,this.dir=n}}function yL(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{}class Qt extends KR{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new _L(t,n,i):n==="array-contains"?new EL(t,i):n==="in"?new AL(t,i):n==="not-in"?new SL(t,i):n==="array-contains-any"?new wL(t,i):new Qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new TL(t,i):new bL(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Va(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends KR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Nn(t,n)}matches(t){return YR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YR(e){return e.op==="and"}function $R(e){return vL(e)&&YR(e)}function vL(e){for(const t of e.filters)if(t instanceof Nn)return!1;return!0}function Dp(e){if(e instanceof Qt)return e.field.canonicalString()+e.op.toString()+Ma(e.value);if($R(e))return e.filters.map(t=>Dp(t)).join(",");{const t=e.filters.map(n=>Dp(n)).join(",");return`${e.op}(${t})`}}function QR(e,t){return e instanceof Qt?function(i,s){return s instanceof Qt&&i.op===s.op&&i.field.isEqual(s.field)&&$n(i.value,s.value)}(e,t):e instanceof Nn?function(i,s){return s instanceof Nn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&QR(a,s.filters[o]),!0):!1}(e,t):void Q(19439)}function XR(e){return e instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ma(n.value)}`}(e):e instanceof Nn?function(n){return n.op.toString()+" {"+n.getFilters().map(XR).join(" ,")+"}"}(e):"Filter"}class _L extends Qt{constructor(t,n,i){super(t,n,i),this.key=Y.fromName(i.referenceValue)}matches(t){const n=Y.comparator(t.key,this.key);return this.matchesComparison(n)}}class TL extends Qt{constructor(t,n){super(t,"in",n),this.keys=WR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class bL extends Qt{constructor(t,n){super(t,"not-in",n),this.keys=WR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function WR(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Y.fromName(i.referenceValue))}class EL extends Qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hy(n)&&Ol(n.arrayValue,this.value)}}class AL extends Qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class SL extends Qt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ol(this.value.arrayValue,n)}}class wL extends Qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ol(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,n=null,i=[],s=[],r=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function sE(e,t=null,n=[],i=[],s=null,r=null,a=null){return new xL(e,t,n,i,s,r,a)}function qy(e){const t=tt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Dp(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),sf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ma(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ma(i)).join(",")),t.Te=n}return t.Te}function Gy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yL(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iE(e.startAt,t.startAt)&&iE(e.endAt,t.endAt)}function Vp(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n=null,i=[],s=[],r=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RL(e,t,n,i,s,r,a,o){return new Ja(e,t,n,i,s,r,a,o)}function Ky(e){return new Ja(e)}function rE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function CL(e){return Y.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function ZR(e){return e.collectionGroup!==null}function rl(e){const t=tt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ne(pe.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Pl(r,i))}),n.has(pe.keyField().canonicalString())||t.Ie.push(new Pl(pe.keyField(),i))}return t.Ie}function Hn(e){const t=tt(e);return t.Ee||(t.Ee=IL(t,rl(e))),t.Ee}function IL(e,t){if(e.limitType==="F")return sE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Pl(s.field,r)});const n=e.endAt?new mh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mh(e.startAt.position,e.startAt.inclusive):null;return sE(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Mp(e,t){const n=e.filters.concat([t]);return new Ja(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function NL(e,t){const n=e.explicitOrderBy.concat([t]);return new Ja(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function Op(e,t,n){return new Ja(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function af(e,t){return Gy(Hn(e),Hn(t))&&e.limitType===t.limitType}function JR(e){return`${qy(Hn(e))}|lt:${e.limitType}`}function Lr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>XR(s)).join(", ")}]`),sf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Ma(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Ma(s)).join(",")),`Target(${i})`}(Hn(e))}; limitType=${e.limitType})`}function of(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Y.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of rl(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,o,u){const c=nE(a,o,u);return a.inclusive?c<=0:c<0}(i.startAt,rl(i),s)||i.endAt&&!function(a,o,u){const c=nE(a,o,u);return a.inclusive?c>=0:c>0}(i.endAt,rl(i),s))}(e,t)}function DL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tC(e){return(t,n)=>{let i=!1;for(const s of rl(e)){const r=VL(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function VL(e,t,n){const i=e.field.isKeyField()?Y.comparator(t.key,n.key):function(r,a,o){const u=a.data.field(r),c=o.data.field(r);return u!==null&&c!==null?Va(u,c):Q(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Cs(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return LR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Ot(Y.comparator);function Si(){return ML}const eC=new Ot(Y.comparator);function Po(...e){let t=eC;for(const n of e)t=t.insert(n.key,n);return t}function nC(e){let t=eC;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function $s(){return al()}function iC(){return al()}function al(){return new wr(e=>e.toString(),(e,t)=>e.isEqual(t))}const OL=new Ot(Y.comparator),PL=new ne(Y.comparator);function lt(...e){let t=PL;for(const n of e)t=t.add(n);return t}const kL=new ne(ot);function LL(){return kL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function sC(e){return{integerValue:""+e}}function jL(e,t){return lL(t)?sC(t):Yy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function UL(e,t,n){return e instanceof kl?function(s,r){const a={fields:{[zR]:{stringValue:UR},[FR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Fy(r)&&(r=rf(r)),r&&(a.fields[BR]=r),{mapValue:a}}(n,t):e instanceof Ll?aC(e,t):e instanceof jl?oC(e,t):function(s,r){const a=rC(s,r),o=aE(a)+aE(s.Ae);return Np(a)&&Np(s.Ae)?sC(o):Yy(s.serializer,o)}(e,t)}function zL(e,t,n){return e instanceof Ll?aC(e,t):e instanceof jl?oC(e,t):n}function rC(e,t){return e instanceof ph?function(i){return Np(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class kl extends lf{}class Ll extends lf{constructor(t){super(),this.elements=t}}function aC(e,t){const n=lC(t);for(const i of e.elements)n.some(s=>$n(s,i))||n.push(i);return{arrayValue:{values:n}}}class jl extends lf{constructor(t){super(),this.elements=t}}function oC(e,t){let n=lC(t);for(const i of e.elements)n=n.filter(s=>!$n(s,i));return{arrayValue:{values:n}}}class ph extends lf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function aE(e){return zt(e.integerValue||e.doubleValue)}function lC(e){return Hy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t,n){this.field=t,this.transform=n}}function FL(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Ll&&s instanceof Ll||i instanceof jl&&s instanceof jl?Da(i.elements,s.elements,$n):i instanceof ph&&s instanceof ph?$n(i.Ae,s.Ae):i instanceof kl&&s instanceof kl}(e.transform,t.transform)}class HL{constructor(t,n){this.version=t,this.transformResults=n}}class xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xn}static exists(t){return new xn(void 0,t)}static updateTime(t){return new xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class uf{}function uC(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new $y(e.key,xn.none()):new ru(e.key,e.data,xn.none());{const n=e.data,i=je.empty();let s=new ne(pe.comparator);for(let r of t.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Is(e.key,i,new Qe(s.toArray()),xn.none())}}function qL(e,t,n){e instanceof ru?function(s,r,a){const o=s.value.clone(),u=lE(s.fieldTransforms,r,a.transformResults);o.setAll(u),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Is?function(s,r,a){if(!Tc(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=lE(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(cC(s)),u.setAll(o),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function ol(e,t,n,i){return e instanceof ru?function(r,a,o,u){if(!Tc(r.precondition,a))return o;const c=r.value.clone(),h=uE(r.fieldTransforms,u,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Is?function(r,a,o,u){if(!Tc(r.precondition,a))return o;const c=uE(r.fieldTransforms,u,a),h=a.data;return h.setAll(cC(r)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(d=>d.field))}(e,t,n,i):function(r,a,o){return Tc(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function GL(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=rC(i.transform,s||null);r!=null&&(n===null&&(n=je.empty()),n.set(i.field,r))}return n||null}function oE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Da(i,s,(r,a)=>FL(r,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ru extends uf{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Is extends uf{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function cC(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function lE(e,t,n){const i=new Map;pt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,zL(a,o,n[s]))}return i}function uE(e,t,n){const i=new Map;for(const s of e){const r=s.transform,a=n.data.field(s.field);i.set(s.field,UL(r,a,t))}return i}class $y extends uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KL extends uf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&qL(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ol(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ol(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=iC();return this.mutations.forEach(s=>{const r=t.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=n.has(s.key)?null:o;const u=uC(a,o);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),lt())}isEqual(t){return this.batchId===t.batchId&&Da(this.mutations,t.mutations,(n,i)=>oE(n,i))&&Da(this.baseMutations,t.baseMutations,(n,i)=>oE(n,i))}}class Qy{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){pt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let s=function(){return OL}();const r=t.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Qy(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,ft;function XL(e){switch(e){case k.OK:return Q(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Q(15467,{code:e})}}function hC(e){if(e===void 0)return Ai("GRPC error has no .code"),k.UNKNOWN;switch(e){case qt.OK:return k.OK;case qt.CANCELLED:return k.CANCELLED;case qt.UNKNOWN:return k.UNKNOWN;case qt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case qt.INTERNAL:return k.INTERNAL;case qt.UNAVAILABLE:return k.UNAVAILABLE;case qt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case qt.NOT_FOUND:return k.NOT_FOUND;case qt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case qt.ABORTED:return k.ABORTED;case qt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case qt.DATA_LOSS:return k.DATA_LOSS;default:return Q(39323,{code:e})}}(ft=qt||(qt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new us([4294967295,4294967295],0);function cE(e){const t=WL().encode(e),n=new xR;return n.update(t),new Uint8Array(n.digest())}function hE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new us([n,i],0),new us([s,r],0)]}class Xy{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ko(`Invalid padding: ${n}`);if(i<0)throw new ko(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ko(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ko(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=us.fromNumber(this.ge)}ye(t,n,i){let s=t.add(n.multiply(us.fromNumber(i)));return s.compare(ZL)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=cE(t),[i,s]=hE(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),a=new Xy(r,s,n);return i.forEach(o=>a.insert(o)),a}insert(t){if(this.ge===0)return;const n=cE(t),[i,s]=hE(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new cf(J.min(),s,new Ot(ot),Si(),lt())}}class au{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new au(i,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,n,i,s){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=s}}class fC{constructor(t,n){this.targetId=t,this.Ce=n}}class dC{constructor(t,n,i=ve.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=ve.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=lt(),n=lt(),i=lt();return this.Fe.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Q(38017,{changeType:r})}}),new au(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=dE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JL{constructor(t){this.Ge=t,this.ze=new Map,this.je=Si(),this.He=Qu(),this.Je=Qu(),this.Ze=new Ot(ot)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Q(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(t){const n=t.targetId,i=t.Ce.count,s=this.ot(n);if(s){const r=s.target;if(Vp(r))if(i===0){const a=new Y(r.path);this.et(n,a,Ee.newNoDocument(a,J.min()))}else pt(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const o=this.ut(t),u=o?this.ct(o,t,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,o;try{a=bs(i).toUint8Array()}catch(u){if(u instanceof jR)return Na("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Xy(a,s,r)}catch(u){return Na(u instanceof ko?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.et(n,r,null),s++)}),s}Tt(t){const n=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&Vp(o.target)){const u=new Y(o.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Ee.newNoDocument(u,t))}r.Be&&(n.set(a,r.ke()),r.Ke())}});let i=lt();this.Je.forEach((r,a)=>{let o=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(t));const s=new cf(t,n,this.Ze,this.je,i);return this.je=Si(),this.He=Qu(),this.Je=Qu(),this.Ze=new Ot(ot),s}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new fE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new ne(ot),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new ne(ot),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new fE),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Qu(){return new Ot(Y.comparator)}function dE(){return new Ot(Y.comparator)}const tj={asc:"ASCENDING",desc:"DESCENDING"},ej={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nj={and:"AND",or:"OR"};class ij{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pp(e,t){return e.useProto3Json||sf(t)?t:{value:t}}function gh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sj(e,t){return gh(e,t.toTimestamp())}function qn(e){return pt(!!e,49232),J.fromTimestamp(function(n){const i=Ts(n);return new Ct(i.seconds,i.nanos)}(e))}function Wy(e,t){return kp(e,t).canonicalString()}function kp(e,t){const n=function(s){return new At(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function pC(e){const t=At.fromString(e);return pt(TC(t),10190,{key:t.toString()}),t}function Lp(e,t){return Wy(e.databaseId,t.path)}function Zd(e,t){const n=pC(t);if(n.get(1)!==e.databaseId.projectId)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Y(yC(n))}function gC(e,t){return Wy(e.databaseId,t)}function rj(e){const t=pC(e);return t.length===4?At.emptyPath():yC(t)}function jp(e){return new At(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yC(e){return pt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function mE(e,t,n){return{name:Lp(e,t),fields:n.value.mapValue.fields}}function aj(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,h){return c.useProto3Json?(pt(h===void 0||typeof h=="string",58123),ve.fromBase64String(h||"")):(pt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ve.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?k.UNKNOWN:hC(c.code);return new F(h,c.message||"")}(a);n=new dC(i,s,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Zd(e,i.document.name),r=qn(i.document.updateTime),a=i.document.createTime?qn(i.document.createTime):J.min(),o=new je({mapValue:{fields:i.document.fields}}),u=Ee.newFoundDocument(s,r,a,o),c=i.targetIds||[],h=i.removedTargetIds||[];n=new bc(c,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Zd(e,i.document),r=i.readTime?qn(i.readTime):J.min(),a=Ee.newNoDocument(s,r),o=i.removedTargetIds||[];n=new bc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Zd(e,i.document),r=i.removedTargetIds||[];n=new bc([],r,s,null)}else{if(!("filter"in t))return Q(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new QL(s,r),o=i.targetId;n=new fC(o,a)}}return n}function oj(e,t){let n;if(t instanceof ru)n={update:mE(e,t.key,t.value)};else if(t instanceof $y)n={delete:Lp(e,t.key)};else if(t instanceof Is)n={update:mE(e,t.key,t.data),updateMask:gj(t.fieldMask)};else{if(!(t instanceof KL))return Q(16599,{dt:t.type});n={verify:Lp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof kl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ll)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof jl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ph)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Q(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:sj(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Q(27497)}(e,t.precondition)),n}function lj(e,t){return e&&e.length>0?(pt(t!==void 0,14353),e.map(n=>function(s,r){let a=s.updateTime?qn(s.updateTime):qn(r);return a.isEqual(J.min())&&(a=qn(r)),new HL(a,s.transformResults||[])}(n,t))):[]}function uj(e,t){return{documents:[gC(e,t.path)]}}function cj(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=gC(e,s);const r=function(c){if(c.length!==0)return _C(Nn.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:jr(m.field),direction:dj(m.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Pp(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:s}}function hj(e){let t=rj(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){pt(i===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:t=t.child(h.collectionId)}let r=[];n.where&&(r=function(d){const m=vC(d);return m instanceof Nn&&$R(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(m=>function(w){return new Pl(Ur(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(d){let m;return m=typeof d=="object"?d.value:d,sf(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(d){const m=!!d.before,g=d.values||[];return new mh(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,g=d.values||[];return new mh(g,m)}(n.endAt)),RL(t,s,a,r,o,"F",u,c)}function fj(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function vC(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ur(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ur(n.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ur(n.unaryFilter.field);return Qt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ur(n.unaryFilter.field);return Qt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(e):e.fieldFilter!==void 0?function(n){return Qt.create(Ur(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Nn.create(n.compositeFilter.filters.map(i=>vC(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(e):Q(30097,{filter:e})}function dj(e){return tj[e]}function mj(e){return ej[e]}function pj(e){return nj[e]}function jr(e){return{fieldPath:e.canonicalString()}}function Ur(e){return pe.fromServerFormat(e.fieldPath)}function _C(e){return e instanceof Qt?function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:jr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jr(n.field),op:mj(n.op),value:n.value}}}(e):e instanceof Nn?function(n){const i=n.getFilters().map(s=>_C(s));return i.length===1?i[0]:{compositeFilter:{op:pj(n.op),filters:i}}}(e):Q(54877,{filter:e})}function gj(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function TC(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function bC(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,n,i,s,r=J.min(),a=J.min(),o=ve.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Wi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(t){this.yt=t}}function vj(e){const t=hj({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Op(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.Sn=new Tj}addToCollectionParentIndex(t,n){return this.Sn.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(_s.min())}updateCollectionGroup(t,n,i){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class Tj{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new ne(At.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new ne(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EC=41943040;class Le{static withCacheSize(t){return new Le(t,Le.DEFAULT_COLLECTION_PERCENTILE,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Le.DEFAULT_COLLECTION_PERCENTILE=10,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Le.DEFAULT=new Le(EC,Le.DEFAULT_COLLECTION_PERCENTILE,Le.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Le.DISABLED=new Le(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Oa(0)}static ar(){return new Oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="LruGarbageCollector",bj=1048576;function yE([e,t],[n,i]){const s=ot(e,n);return s===0?ot(t,i):s}class Ej{constructor(t){this.Pr=t,this.buffer=new ne(yE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();yE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Aj{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){q(gE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?q(gE,"Ignoring IndexedDB error during garbage collection: ",n):await Wa(n)}await this.Ar(3e5)})}}class Sj{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return j.resolve(nf.ce);const i=new Ej(n);return this.Vr.forEachTarget(t,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(t,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(pE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,s,r,a,o,u,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,a=Date.now(),this.nthSequenceNumber(t,s))).next(d=>(i=d,o=Date.now(),this.removeTargets(t,i,n))).next(d=>(r=d,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(d=>(c=Date.now(),kr()<=at.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(u-o)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:d})))}}function wj(e,t){return new Sj(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.changes=new wr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ee.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?j.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&ol(i.mutation,s,Qe.empty(),Ct.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,lt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=lt()){const s=$s();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let a=Po();return r.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=$s();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,lt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,i,s){let r=Si();const a=al(),o=function(){return al()}();return n.forEach((u,c)=>{const h=i.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Is)?r=r.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),ol(h.mutation,c,h.mutation.getFieldMask(),Ct.now())):a.set(c.key,Qe.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>o.set(c,new Rj(h,a.get(c)??null))),o))}recalculateAndSaveOverlays(t,n){const i=al();let s=new Ot((a,o)=>a-o),r=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=i.get(u)||Qe.empty();h=o.applyToLocalView(c,h),i.set(u,h);const d=(s.get(o.batchId)||lt()).add(u);s=s.insert(o.batchId,d)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,h=u.value,d=iC();h.forEach(m=>{if(!r.has(m)){const g=uC(n.get(m),i.get(m));g!==null&&d.set(m,g),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,d))}return j.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return CL(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ZR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):j.resolve($s());let o=Dl,u=r;return a.next(c=>j.forEach(c,(h,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),r.get(h)?j.resolve():this.remoteDocumentCache.getEntry(t,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,u,c,lt())).next(h=>({batchId:o,changes:nC(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Y(n)).next(i=>{let s=Po();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const r=n.collectionGroup;let a=Po();return this.indexManager.getCollectionParents(t,r).next(o=>j.forEach(o,u=>{const c=function(d,m){return new Ja(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,s).next(h=>{h.forEach((d,m)=>{a=a.insert(d,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,s))).next(a=>{r.forEach((u,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Ee.newInvalidDocument(h)))});let o=Po();return a.forEach((u,c)=>{const h=r.get(u);h!==void 0&&ol(h.mutation,c,Qe.empty(),Ct.now()),of(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(s){return{name:s.name,query:vj(s.bundledQuery),readTime:qn(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.overlays=new Ot(Y.comparator),this.Lr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const i=$s();return j.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.bt(t,n,r)}),j.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),j.resolve()}getOverlaysForCollection(t,n,i){const s=$s(),r=n.length+1,a=new Y(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return j.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ot((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=r.get(c.largestBatchId);h===null&&(h=$s(),r=r.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=$s(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=s)););return j.resolve(o)}bt(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new $L(n,i));let r=this.Lr.get(n);r===void 0&&(r=lt(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.sessionToken=ve.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.kr=new ne(re.Kr),this.qr=new ne(re.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new re(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new re(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new Y(new At([])),i=new re(n,t),s=new re(n,t+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Y(new At([])),i=new re(n,t),s=new re(n,t+1);let r=lt();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(t){const n=new re(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class re{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Y.comparator(t.key,n.key)||ot(t.Hr,n.Hr)}static Ur(t,n){return ot(t.Hr,n.Hr)||Y.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ne(re.Kr)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new YL(r,n,i,s);this.mutationQueue.push(a);for(const o of s)this.Jr=this.Jr.add(new re(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(a)}lookupMutationBatch(t,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.Xr(i),r=s<0?0:s;return j.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?By:this.Yn-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new re(n,0),s=new re(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const o=this.Zr(a.Hr);r.push(o)}),j.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ne(ot);return n.forEach(s=>{const r=new re(s,0),a=new re(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],o=>{i=i.add(o.Hr)})}),j.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Y.isDocumentKey(r)||(r=r.child(""));const a=new re(new Y(r),0);let o=new ne(ot);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(o=o.add(u.Hr)),!0)},a),j.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){pt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return j.forEach(n.mutations,s=>{const r=new re(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new re(n,0),s=this.Jr.firstAfterOrEqual(i);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(t){this.ti=t,this.docs=function(){return new Ot(Y.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return j.resolve(i?i.document.mutableCopy():Ee.newInvalidDocument(n))}getEntries(t,n){let i=Si();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ee.newInvalidDocument(s))}),j.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=Si();const a=n.path,o=new Y(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||sL(iL(h),i)<=0||(s.has(h.key)||of(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return j.resolve(r)}getAllFromCollectionGroup(t,n,i,s){Q(9500)}ni(t,n){return j.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new Oj(this)}getSize(t){return j.resolve(this.size)}}class Oj extends xj{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(t,s)):this.Mr.removeEntry(i)}),j.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(t){this.persistence=t,this.ri=new wr(n=>qy(n),Gy),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new Zy,this.targetCount=0,this.oi=Oa._r()}forEachTarget(t,n){return this.ri.forEach((i,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),j.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Oa(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.lr(n),j.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),s++)}),j.waitFor(r).next(()=>s)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return j.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),j.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(t,a))}),j.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return j.resolve(i)}containsKey(t,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n){this._i={},this.overlays={},this.ai=new nf(0),this.ui=!1,this.ui=!0,this.ci=new Dj,this.referenceDelegate=t(this),this.li=new Pj(this),this.indexManager=new _j,this.remoteDocumentCache=function(s){return new Mj(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new yj(n),this.Pi=new Ij(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Nj,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new Vj(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const s=new kj(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(t,n){return j.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class kj extends aL{constructor(t){super(),this.currentSequenceNumber=t}}class Jy{constructor(t){this.persistence=t,this.Ri=new Zy,this.Ai=null}static Vi(t){return new Jy(t)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),j.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),j.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,i=>{const s=Y.fromPath(i);return this.mi(t,s).next(r=>{r||n.removeEntry(s,J.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class yh{constructor(t,n){this.persistence=t,this.fi=new wr(i=>uL(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=wj(this,n)}static Vi(t,n){return new yh(t,n)}Ti(){}Ii(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(s=>i+s))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return j.forEach(this.fi,(i,s)=>this.wr(t,i,s).next(r=>r?j.resolve():n(s)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(t,a=>this.wr(t,a,n).next(o=>{o||(i++,r.removeEntry(a,J.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),j.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),j.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=vc(t.data.value)),n}wr(t,n,i){return j.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const s=this.fi.get(n);return j.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=s}static Es(t,n){let i=lt(),s=lt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new t0(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return ek()?8:oL(Se())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,s){const r={result:null};return this.gs(t,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(t,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new Lj;return this.ys(t,n,a).next(o=>{if(r.result=o,this.As)return this.ws(t,n,a,o.size)})}).next(()=>r.result)}ws(t,n,i,s){return i.documentReadCount<this.Vs?(kr()<=at.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Lr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(kr()<=at.DEBUG&&q("QueryEngine","Query:",Lr(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(kr()<=at.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Lr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hn(n))):j.resolve())}gs(t,n){if(rE(n))return j.resolve(null);let i=Hn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Op(n,null,"F"),i=Hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const a=lt(...r);return this.fs.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.bs(n,o);return this.Ss(n,c,a,u.readTime)?this.gs(t,Op(n,null,"F")):this.Ds(t,c,n,u)}))})))}ps(t,n,i,s){return rE(n)||s.isEqual(J.min())?j.resolve(null):this.fs.getDocuments(t,i).next(r=>{const a=this.bs(n,r);return this.Ss(n,a,i,s)?j.resolve(null):(kr()<=at.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lr(n)),this.Ds(t,a,n,nL(s,Dl)).next(o=>o))})}bs(t,n){let i=new ne(tC(t));return n.forEach((s,r)=>{of(t,r)&&(i=i.add(r))}),i}Ss(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(t,n,i){return kr()<=at.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Lr(n)),this.fs.getDocumentsMatchingQuery(t,n,_s.min(),i)}Ds(t,n,i,s){return this.fs.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="LocalStore",Uj=3e8;class zj{constructor(t,n,i,s){this.persistence=t,this.Cs=n,this.serializer=s,this.vs=new Ot(ot),this.Fs=new wr(r=>qy(r),Gy),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Cj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function Bj(e,t,n,i){return new zj(e,t,n,i)}async function SC(e,t){const n=tt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let u=lt();for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of r){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:o}))})})}function Fj(e,t){const n=tt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,c,h){const d=c.batch,m=d.keys();let g=j.resolve();return m.forEach(w=>{g=g.next(()=>h.getEntry(u,w)).next(I=>{const D=c.docVersions.get(w);pt(D!==null,48541),I.version.compareTo(D)<0&&(d.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(u,d))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=lt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function wC(e){const t=tt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function Hj(e,t){const n=tt(e),i=t.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const o=[];t.targetChanges.forEach((h,d)=>{const m=s.get(d);if(!m)return;o.push(n.li.removeMatchingKeys(r,h.removedDocuments,d).next(()=>n.li.addMatchingKeys(r,h.addedDocuments,d)));let g=m.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(d)!==null?g=g.withResumeToken(ve.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),s=s.insert(d,g),function(I,D,v){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Uj?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,g,h)&&o.push(n.li.updateTargetData(r,g))});let u=Si(),c=lt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),o.push(qj(r,a,t.documentUpdates).next(h=>{u=h.Bs,c=h.Ls})),!i.isEqual(J.min())){const h=n.li.getLastRemoteSnapshotVersion(r).next(d=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(h)}return j.waitFor(o).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,c)).next(()=>u)}).then(r=>(n.vs=s,r))}function qj(e,t,n){let i=lt(),s=lt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let a=Si();return n.forEach((o,u)=>{const c=r.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),u.isNoDocument()&&u.version.isEqual(J.min())?(t.removeEntry(o,u.readTime),a=a.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(o,u)):q(e0,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{Bs:a,Ls:s}})}function Gj(e,t){const n=tt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=By),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Kj(e,t){const n=tt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,t).next(r=>r?(s=r,j.resolve(s)):n.li.allocateTargetId(i).next(a=>(s=new Wi(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function Up(e,t,n){const i=tt(e),s=i.vs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Za(a))throw a;q(e0,`Failed to update sequence numbers for target ${t}: ${a}`)}i.vs=i.vs.remove(t),i.Fs.delete(s.target)}function vE(e,t,n){const i=tt(e);let s=J.min(),r=lt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,h){const d=tt(u),m=d.Fs.get(h);return m!==void 0?j.resolve(d.vs.get(m)):d.li.getTargetData(c,h)}(i,a,Hn(t)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,o.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,t,n?s:J.min(),n?r:lt())).next(o=>(Yj(i,DL(t),o),{documents:o,ks:r})))}function Yj(e,t,n){let i=e.Ms.get(t)||J.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ms.set(t,i)}class _E{constructor(){this.activeTargetIds=LL()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $j{constructor(){this.vo=new _E,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new _E,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class bE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(TE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){q(TE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function zp(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="RestConnection",Xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Wj{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===fh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(t,n,i,s,r){const a=zp(),o=this.Qo(t,n.toUriEncodedString());q(Jd,`Sending RPC '${t}' ${a}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,r);const{host:c}=new URL(o),h=$a(c);return this.zo(t,o,u,i,h).then(d=>(q(Jd,`Received RPC '${t}' ${a}: `,d),d),d=>{throw Na(Jd,`RPC '${t}' ${a} failed with error: `,d,"url: ",o,"request:",i),d})}jo(t,n,i,s,r,a){return this.Wo(t,n,i,s,r)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>t[r]=s),i&&i.headers.forEach((s,r)=>t[r]=s)}Qo(t,n){const i=Xj[t];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te="WebChannelConnection",Ro=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class fa extends Wj{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!fa.c_){const t=NR();Ro(t,IR.STAT_EVENT,n=>{n.stat===Rp.PROXY?q(Te,"STAT_EVENT: detected buffering proxy"):n.stat===Rp.NOPROXY&&q(Te,"STAT_EVENT: detected no buffering proxy")}),fa.c_=!0}}zo(t,n,i,s,r){const a=zp();return new Promise((o,u)=>{const c=new RR;c.setWithCredentials(!0),c.listenOnce(CR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yc.NO_ERROR:const d=c.getResponseJson();q(Te,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(d)),o(d);break;case yc.TIMEOUT:q(Te,`RPC '${t}' ${a} timed out`),u(new F(k.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const m=c.getStatus();if(q(Te,`RPC '${t}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const I=function(v){const T=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(T)>=0?T:k.UNKNOWN}(w.status);u(new F(I,w.message))}else u(new F(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(k.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:t,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(Te,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(s);q(Te,`RPC '${t}' ${a} sending request:`,s),c.send(n,"POST",h,i,15)})}T_(t,n,i){const s=zp(),r=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const c=r.join("");q(Te,`Creating RPC '${t}' stream ${s}: ${c}`,o);const h=a.createWebChannel(c,o);this.I_(h);let d=!1,m=!1;const g=new Zj({Ho:w=>{m?q(Te,`Not sending because RPC '${t}' stream ${s} is closed:`,w):(d||(q(Te,`Opening RPC '${t}' stream ${s} transport.`),h.open(),d=!0),q(Te,`RPC '${t}' stream ${s} sending:`,w),h.send(w))},Jo:()=>h.close()});return Ro(h,Oo.EventType.OPEN,()=>{m||(q(Te,`RPC '${t}' stream ${s} transport opened.`),g.i_())}),Ro(h,Oo.EventType.CLOSE,()=>{m||(m=!0,q(Te,`RPC '${t}' stream ${s} transport closed`),g.o_(),this.E_(h))}),Ro(h,Oo.EventType.ERROR,w=>{m||(m=!0,Na(Te,`RPC '${t}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),g.o_(new F(k.UNAVAILABLE,"The operation could not be completed")))}),Ro(h,Oo.EventType.MESSAGE,w=>{var I;if(!m){const D=w.data[0];pt(!!D,16349);const v=D,T=(v==null?void 0:v.error)||((I=v[0])==null?void 0:I.error);if(T){q(Te,`RPC '${t}' stream ${s} received error:`,T);const S=T.status;let N=function(E){const _=qt[E];if(_!==void 0)return hC(_)}(S),P=T.message;N===void 0&&(N=k.INTERNAL,P="Unknown error status: "+S+" with message "+T.message),m=!0,g.o_(new F(N,P)),h.close()}else q(Te,`RPC '${t}' stream ${s} received:`,D),g.__(D)}}),fa.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e){return new fa(e)}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(e){return new ij(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fa.c_=!1;class xC{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class RC{constructor(t,n,i,s,r,a,o,u){this.Ci=t,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xC(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{t(()=>{const s=new F(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(EE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(q(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t9 extends RC{constructor(t,n,i,s,r,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=aj(this.serializer,t),i=function(r){if(!("targetChange"in r))return J.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?J.min():a.readTime?qn(a.readTime):J.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=jp(this.serializer),n.addTarget=function(r,a){let o;const u=a.target;if(o=Vp(u)?{documents:uj(r,u)}:{query:cj(r,u).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=mC(r,a.resumeToken);const c=Pp(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(J.min())>0){o.readTime=gh(r,a.snapshotVersion.toTimestamp());const c=Pp(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=fj(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=jp(this.serializer),n.removeTarget=t,this.K_(n)}}class e9 extends RC{constructor(t,n,i,s,r,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return pt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,pt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){pt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=lj(t.writeResults,t.commitTime),i=qn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=jp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>oj(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{}class i9 extends n9{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(t,kp(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new F(k.UNKNOWN,r.toString())})}jo(t,n,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(t,kp(n,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(k.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function s9(e,t,n,i){return new i9(e,t,n,i)}class r9{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="RemoteStore";class a9{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{xr(this)&&(q(mr,"Restarting streams for network reachability change."),await async function(u){const c=tt(u);c.Ea.add(4),await ou(c),c.Va.set("Unknown"),c.Ea.delete(4),await ff(c)}(this))})}),this.Va=new r9(i,s)}}async function ff(e){if(xr(e))for(const t of e.Ra)await t(!0)}async function ou(e){for(const t of e.Ra)await t(!1)}function CC(e,t){const n=tt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),r0(n)?s0(n):to(n).O_()&&i0(n,t))}function n0(e,t){const n=tt(e),i=to(n);n.Ia.delete(t),i.O_()&&IC(n,t),n.Ia.size===0&&(i.O_()?i.L_():xr(n)&&n.Va.set("Unknown"))}function i0(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(e).Z_(t)}function IC(e,t){e.da.$e(t),to(e).X_(t)}function s0(e){e.da=new JL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),to(e).start(),e.Va.ua()}function r0(e){return xr(e)&&!to(e).x_()&&e.Ia.size>0}function xr(e){return tt(e).Ea.size===0}function NC(e){e.da=void 0}async function o9(e){e.Va.set("Online")}async function l9(e){e.Ia.forEach((t,n)=>{i0(e,t)})}async function u9(e,t){NC(e),r0(e)?(e.Va.ha(t),s0(e)):e.Va.set("Unknown")}async function c9(e,t,n){if(e.Va.set("Online"),t instanceof dC&&t.state===2&&t.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.da.removeTarget(o))}(e,t)}catch(i){q(mr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await vh(e,i)}else if(t instanceof bc?e.da.Xe(t):t instanceof fC?e.da.st(t):e.da.tt(t),!n.isEqual(J.min()))try{const i=await wC(e.localStore);n.compareTo(i)>=0&&await function(r,a){const o=r.da.Tt(a);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=r.Ia.get(c);h&&r.Ia.set(c,h.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,c)=>{const h=r.Ia.get(u);if(!h)return;r.Ia.set(u,h.withResumeToken(ve.EMPTY_BYTE_STRING,h.snapshotVersion)),IC(r,u);const d=new Wi(h.target,u,c,h.sequenceNumber);i0(r,d)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q(mr,"Failed to raise snapshot:",i),await vh(e,i)}}async function vh(e,t,n){if(!Za(t))throw t;e.Ea.add(1),await ou(e),e.Va.set("Offline"),n||(n=()=>wC(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(mr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await ff(e)})}function DC(e,t){return t().catch(n=>vh(e,n,t))}async function df(e){const t=tt(e),n=As(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:By;for(;h9(t);)try{const s=await Gj(t.localStore,i);if(s===null){t.Ta.length===0&&n.L_();break}i=s.batchId,f9(t,s)}catch(s){await vh(t,s)}VC(t)&&MC(t)}function h9(e){return xr(e)&&e.Ta.length<10}function f9(e,t){e.Ta.push(t);const n=As(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function VC(e){return xr(e)&&!As(e).x_()&&e.Ta.length>0}function MC(e){As(e).start()}async function d9(e){As(e).ra()}async function m9(e){const t=As(e);for(const n of e.Ta)t.ea(n.mutations)}async function p9(e,t,n){const i=e.Ta.shift(),s=Qy.from(i,t,n);await DC(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await df(e)}async function g9(e,t){t&&As(e).Y_&&await async function(i,s){if(function(a){return XL(a)&&a!==k.ABORTED}(s.code)){const r=i.Ta.shift();As(i).B_(),await DC(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await df(i)}}(e,t),VC(e)&&MC(e)}async function AE(e,t){const n=tt(e);n.asyncQueue.verifyOperationInProgress(),q(mr,"RemoteStore received new credentials");const i=xr(n);n.Ea.add(3),await ou(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await ff(n)}async function y9(e,t){const n=tt(e);t?(n.Ea.delete(2),await ff(n)):t||(n.Ea.add(2),await ou(n),n.Va.set("Unknown"))}function to(e){return e.ma||(e.ma=function(n,i,s){const r=tt(n);return r.sa(),new t9(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:o9.bind(null,e),Yo:l9.bind(null,e),t_:u9.bind(null,e),J_:c9.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),r0(e)?s0(e):e.Va.set("Unknown")):(await e.ma.stop(),NC(e))})),e.ma}function As(e){return e.fa||(e.fa=function(n,i,s){const r=tt(n);return r.sa(),new e9(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:d9.bind(null,e),t_:g9.bind(null,e),ta:m9.bind(null,e),na:p9.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await df(e)):(await e.fa.stop(),e.Ta.length>0&&(q(mr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,o=new a0(t,n,a,s,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o0(e,t){if(Ai("AsyncQueue",`${t}: ${e}`),Za(e))return new F(k.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{static emptySet(t){return new da(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Y.comparator(n.key,i.key):(n,i)=>Y.comparator(n.key,i.key),this.keyedMap=Po(),this.sortedSet=new Ot(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof da)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new da;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.ga=new Ot(Y.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Q(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Pa{constructor(t,n,i,s,r,a,o,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Pa(t,n,da.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&af(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class _9{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=tt(n),r=s.queries;s.queries=wE(),r.forEach((a,o)=>{for(const u of o.ba)u.onError(i)})})(this,new F(k.ABORTED,"Firestore shutting down"))}}function wE(){return new wr(e=>JR(e),af)}async function OC(e,t){const n=tt(e);let i=3;const s=t.query;let r=n.queries.get(s);r?!r.Sa()&&t.Da()&&(i=2):(r=new v9,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(s,!0);break;case 1:r.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=o0(a,`Initialization of query '${Lr(t.query)}' failed`);return void t.onError(o)}n.queries.set(s,r),r.ba.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&l0(n)}async function PC(e,t){const n=tt(e),i=t.query;let s=3;const r=n.queries.get(i);if(r){const a=r.ba.indexOf(t);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=t.Da()?0:1:!r.Sa()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function T9(e,t){const n=tt(e);let i=!1;for(const s of t){const r=s.query,a=n.queries.get(r);if(a){for(const o of a.ba)o.Fa(s)&&(i=!0);a.wa=s}}i&&l0(n)}function b9(e,t,n){const i=tt(e),s=i.queries.get(t);if(s)for(const r of s.ba)r.onError(n);i.queries.delete(t)}function l0(e){e.Ca.forEach(t=>{t.next()})}var Bp,xE;(xE=Bp||(Bp={})).Ma="default",xE.Cache="cache";class kC{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Pa(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Pa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.key=t}}class jC{constructor(t){this.key=t}}class E9{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=tC(t),this.tu=new da(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new SE,s=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((h,d)=>{const m=s.get(h),g=of(this.query,d)?d:null,w=!!m&&this.mutatedKeys.has(m.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let D=!1;m&&g?m.data.isEqual(g.data)?w!==I&&(i.track({type:3,doc:g}),D=!0):this.su(m,g)||(i.track({type:2,doc:g}),D=!0,(u&&this.eu(g,u)>0||c&&this.eu(g,c)<0)&&(o=!0)):!m&&g?(i.track({type:0,doc:g}),D=!0):m&&!g&&(i.track({type:1,doc:m}),D=!0,(u||c)&&(o=!0)),D&&(g?(a=a.add(g),r=I?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),i.track({type:1,doc:h})}return{tu:a,iu:i,Ss:o,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((h,d)=>function(g,w){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:D})}};return I(g)-I(w)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(i),s=s??!1;const o=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,a.length!==0||c?{snapshot:new Pa(this.query,t.tu,r,a,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=lt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new jC(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new LC(i))}),n}cu(t){this.Za=t.ks,this.Ya=lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const u0="SyncEngine";class A9{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class S9{constructor(t){this.key=t,this.hu=!1}}class w9{constructor(t,n,i,s,r,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new wr(o=>JR(o),af),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(Y.comparator),this.Au=new Map,this.Vu=new Zy,this.du={},this.mu=new Map,this.fu=Oa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x9(e,t,n=!0){const i=qC(e);let s;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await UC(i,t,n,!0),s}async function R9(e,t){const n=qC(e);await UC(n,t,!0,!1)}async function UC(e,t,n,i){const s=await Kj(e.localStore,Hn(t)),r=s.targetId,a=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await C9(e,t,r,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&CC(e.remoteStore,s),o}async function C9(e,t,n,i,s){e.pu=(d,m,g)=>async function(I,D,v,T){let S=D.view.ru(v);S.Ss&&(S=await vE(I.localStore,D.query,!1).then(({documents:E})=>D.view.ru(E,S)));const N=T&&T.targetChanges.get(D.targetId),P=T&&T.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(S,I.isPrimaryClient,N,P);return CE(I,D.targetId,z.au),z.snapshot}(e,d,m,g);const r=await vE(e.localStore,t,!0),a=new E9(t,r.ks),o=a.ru(r.documents),u=au.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=a.applyChanges(o,e.isPrimaryClient,u);CE(e,n,c.au);const h=new A9(t,n,a);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function I9(e,t,n){const i=tt(e),s=i.Tu.get(t),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!af(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Up(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&n0(i.remoteStore,s.targetId),Fp(i,s.targetId)}).catch(Wa)):(Fp(i,s.targetId),await Up(i.localStore,s.targetId,!0))}async function N9(e,t){const n=tt(e),i=n.Tu.get(t),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),n0(n.remoteStore,i.targetId))}async function D9(e,t,n){const i=j9(e);try{const s=await function(a,o){const u=tt(a),c=Ct.now(),h=o.reduce((g,w)=>g.add(w.key),lt());let d,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Si(),I=lt();return u.xs.getEntries(g,h).next(D=>{w=D,w.forEach((v,T)=>{T.isValidDocument()||(I=I.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(D=>{d=D;const v=[];for(const T of o){const S=GL(T,d.get(T.key).overlayedDocument);S!=null&&v.push(new Is(T.key,S,GR(S.value.mapValue),xn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,v,o)}).next(D=>{m=D;const v=D.applyToLocalDocumentSet(d,I);return u.documentOverlayCache.saveOverlays(g,D.batchId,v)})}).then(()=>({batchId:m.batchId,changes:nC(d)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,u){let c=a.du[a.currentUser.toKey()];c||(c=new Ot(ot)),c=c.insert(o,u),a.du[a.currentUser.toKey()]=c}(i,s.batchId,n),await lu(i,s.changes),await df(i.remoteStore)}catch(s){const r=o0(s,"Failed to persist write");n.reject(r)}}async function zC(e,t){const n=tt(e);try{const i=await Hj(n.localStore,t);t.targetChanges.forEach((s,r)=>{const a=n.Au.get(r);a&&(pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?pt(a.hu,14607):s.removedDocuments.size>0&&(pt(a.hu,42227),a.hu=!1))}),await lu(n,i,t)}catch(i){await Wa(i)}}function RE(e,t,n){const i=tt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((r,a)=>{const o=a.view.va(t);o.snapshot&&s.push(o.snapshot)}),function(a,o){const u=tt(a);u.onlineState=o;let c=!1;u.queries.forEach((h,d)=>{for(const m of d.ba)m.va(o)&&(c=!0)}),c&&l0(u)}(i.eventManager,t),s.length&&i.Pu.J_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function V9(e,t,n){const i=tt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Au.get(t),r=s&&s.key;if(r){let a=new Ot(Y.comparator);a=a.insert(r,Ee.newNoDocument(r,J.min()));const o=lt().add(r),u=new cf(J.min(),new Map,new Ot(ot),a,o);await zC(i,u),i.Ru=i.Ru.remove(r),i.Au.delete(t),c0(i)}else await Up(i.localStore,t,!1).then(()=>Fp(i,t,n)).catch(Wa)}async function M9(e,t){const n=tt(e),i=t.batch.batchId;try{const s=await Fj(n.localStore,t);FC(n,i,null),BC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await lu(n,s)}catch(s){await Wa(s)}}async function O9(e,t,n){const i=tt(e);try{const s=await function(a,o){const u=tt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,o).next(d=>(pt(d!==null,37113),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(i.localStore,t);FC(i,t,n),BC(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await lu(i,s)}catch(s){await Wa(s)}}function BC(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function FC(e,t,n){const i=tt(e);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.du[i.currentUser.toKey()]=s}}function Fp(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||HC(e,i)})}function HC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(n0(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),c0(e))}function CE(e,t,n){for(const i of n)i instanceof LC?(e.Vu.addReference(i.key,t),P9(e,i)):i instanceof jC?(q(u0,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||HC(e,i.key)):Q(19791,{wu:i})}function P9(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(q(u0,"New document in limbo: "+n),e.Eu.add(i),c0(e))}function c0(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Y(At.fromString(t)),i=e.fu.next();e.Au.set(i,new S9(n)),e.Ru=e.Ru.insert(n,i),CC(e.remoteStore,new Wi(Hn(Ky(n.path)),i,"TargetPurposeLimboResolution",nf.ce))}}async function lu(e,t,n){const i=tt(e),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{a.push(i.pu(u,t,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;i.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){s.push(c);const d=t0.Es(u.targetId,c);r.push(d)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(u,c){const h=tt(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,m=>j.forEach(m.Ts,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>j.forEach(m.Is,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!Za(d))throw d;q(e0,"Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const g=h.vs.get(m),w=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(w);h.vs=h.vs.insert(m,I)}}}(i.localStore,r))}async function k9(e,t){const n=tt(e);if(!n.currentUser.isEqual(t)){q(u0,"User change. New user:",t.toKey());const i=await SC(n.localStore,t);n.currentUser=t,function(r,a){r.mu.forEach(o=>{o.forEach(u=>{u.reject(new F(k.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await lu(n,i.Ns)}}function L9(e,t){const n=tt(e),i=n.Au.get(t);if(i&&i.hu)return lt().add(i.key);{let s=lt();const r=n.Iu.get(t);if(!r)return s;for(const a of r){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function qC(e){const t=tt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V9.bind(null,t),t.Pu.J_=T9.bind(null,t.eventManager),t.Pu.yu=b9.bind(null,t.eventManager),t}function j9(e){const t=tt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=M9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=O9.bind(null,t),t}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Bj(this.persistence,new jj,t.initialUser,this.serializer)}Cu(t){return new AC(Jy.Vi,this.serializer)}Du(t){return new $j}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class U9 extends _h{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){pt(this.persistence.referenceDelegate instanceof yh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Aj(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Le.withCacheSize(this.cacheSizeBytes):Le.DEFAULT;return new AC(i=>yh.Vi(i,n),this.serializer)}}class Hp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k9.bind(null,this.syncEngine),await y9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _9}()}createDatastore(t){const n=hf(t.databaseInfo.databaseId),i=Jj(t.databaseInfo);return s9(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,a,o){return new a9(i,s,r,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>RE(this.syncEngine,n,0),function(){return bE.v()?new bE:new Qj}())}createSyncEngine(t,n){return function(s,r,a,o,u,c,h){const d=new w9(s,r,a,o,u,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(s){const r=tt(s);q(mr,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ai("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class z9{constructor(t,n,i,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=be.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{q(Ss,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(Ss,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=o0(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function em(e,t){e.asyncQueue.verifyOperationInProgress(),q(Ss,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await SC(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function IE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await B9(e);q(Ss,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>AE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>AE(t.remoteStore,s)),e._onlineComponents=t}async function B9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(Ss,"Using user provided OfflineComponentProvider");try{await em(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(s){return s.name==="FirebaseError"?s.code===k.FAILED_PRECONDITION||s.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await em(e,new _h)}}else q(Ss,"Using default OfflineComponentProvider"),await em(e,new U9(void 0));return e._offlineComponents}async function KC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(Ss,"Using user provided OnlineComponentProvider"),await IE(e,e._uninitializedComponentsProvider._online)):(q(Ss,"Using default OnlineComponentProvider"),await IE(e,new Hp))),e._onlineComponents}function F9(e){return KC(e).then(t=>t.syncEngine)}async function qp(e){const t=await KC(e),n=t.eventManager;return n.onListen=x9.bind(null,t.syncEngine),n.onUnlisten=I9.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=R9.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=N9.bind(null,t.syncEngine),n}function H9(e,t,n,i){const s=new GC(i),r=new kC(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>OC(await qp(e),r)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>PC(await qp(e),r))}}function q9(e,t,n={}){const i=new cs;return e.asyncQueue.enqueueAndForget(async()=>function(r,a,o,u,c){const h=new GC({next:m=>{h.Nu(),a.enqueueAndForget(()=>PC(r,d)),m.fromCache&&u.source==="server"?c.reject(new F(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new kC(o,h,{includeMetadataChanges:!0,Ka:!0});return OC(r,d)}(await qp(e),e.asyncQueue,t,n,i)),i.promise}function G9(e,t){const n=new cs;return e.asyncQueue.enqueueAndForget(async()=>D9(await F9(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="ComponentProvider",NE=new Map;function Y9(e,t,n,i,s){return new fL(e,t,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,YC(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firestore.googleapis.com",DE=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new F(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$C,this.ssl=DE}else this.host=t.host,this.ssl=t.ssl??DE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=EC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bj)throw new F(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}eL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YC(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mf{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new G6;switch(i.type){case"firstParty":return new Q6(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=NE.get(n);i&&(q(K9,"Removing Datastore"),NE.delete(n),i.terminate())}(this),Promise.resolve()}}function $9(e,t,n,i={}){var c;e=Fn(e,mf);const s=$a(t),r=e._getSettings(),a={...r,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;s&&($x(`https://${o}`),Qx("Firestore",!0)),r.host!==$C&&r.host!==o&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:o,ssl:s,emulatorOptions:i};if(!vs(u,a)&&(e._setSettings(u),i.mockUserToken)){let h,d;if(typeof i.mockUserToken=="string")h=i.mockUserToken,d=be.MOCK_USER;else{h=Y5(i.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new be(m)}e._authCredentials=new K6(new MR(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ns(this.firestore,t,this._query)}}class Zt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zt(this.firestore,t,this._key)}toJSON(){return{type:Zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(su(n,Zt._jsonSchema))return new Zt(t,i||null,new Y(At.fromString(n.referencePath)))}}Zt._jsonSchemaVersion="firestore/documentReference/1.0",Zt._jsonSchema={type:Wt("string",Zt._jsonSchemaVersion),referencePath:Wt("string")};class hs extends Ns{constructor(t,n,i){super(t,n,Ky(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zt(this.firestore,null,new Y(t))}withConverter(t){return new hs(this.firestore,t,this._path)}}function h0(e,t,...n){if(e=Ht(e),OR("collection","path",t),e instanceof mf){const i=At.fromString(t,...n);return Gb(i),new hs(e,null,i)}{if(!(e instanceof Zt||e instanceof hs))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return Gb(i),new hs(e.firestore,null,i)}}function f0(e,t,...n){if(e=Ht(e),arguments.length===1&&(t=zy.newId()),OR("doc","path",t),e instanceof mf){const i=At.fromString(t,...n);return qb(i),new Zt(e,null,new Y(i))}{if(!(e instanceof Zt||e instanceof hs))throw new F(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(At.fromString(t,...n));return qb(i),new Zt(e.firestore,e instanceof hs?e.converter:null,new Y(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class OE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xC(this,"async_queue_retry"),this._c=()=>{const i=tm();i&&q(ME,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new cs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Za(t))throw t;q(ME,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",PE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=a0.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&Q(47125,{Pc:PE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function PE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class pr extends mf{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new OE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OE(t),this._firestoreClient=void 0,await t}}}function Q9(e,t){const n=typeof e=="object"?e:Vy(),i=typeof e=="string"?e:fh,s=Sr(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=G5("firestore");r&&$9(s,...r)}return s}function d0(e){if(e._terminated)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||X9(e),e._firestoreClient}function X9(e){var i,s,r,a;const t=e._freezeSettings(),n=Y9(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(s=e._app)==null?void 0:s.options.apiKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new z9(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mn(ve.fromBase64String(t))}catch(n){throw new F(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mn(ve.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(su(t,mn._jsonSchema))return mn.fromBase64String(t.bytes)}}mn._jsonSchemaVersion="firestore/bytes/1.0",mn._jsonSchema={type:Wt("string",mn._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ot(this._lat,t._lat)||ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gn._jsonSchemaVersion}}static fromJSON(t){if(su(t,Gn._jsonSchema))return new Gn(t.latitude,t.longitude)}}Gn._jsonSchemaVersion="firestore/geoPoint/1.0",Gn._jsonSchema={type:Wt("string",Gn._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Rn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(su(t,Rn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Rn(t.vectorValues);throw new F(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rn._jsonSchemaVersion="firestore/vectorValue/1.0",Rn._jsonSchema={type:Wt("string",Rn._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=/^__.*__$/;class Z9{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Is(t,this.data,this.fieldMask,n,this.fieldTransforms):new ru(t,this.data,n,this.fieldTransforms)}}class QC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Is(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function XC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:e})}}class p0{constructor(t,n,i,s,r,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new p0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var s;const n=(s=this.path)==null?void 0:s.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Th(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XC(this.dataSource)&&W9.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class J9{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||hf(t)}createContext(t,n,i,s=!1){return new p0({dataSource:t,methodName:n,targetDoc:i,path:pe.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g0(e){const t=e._freezeSettings(),n=hf(e._databaseId);return new J9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tU(e,t,n,i,s,r={}){const a=e.createContext(r.merge||r.mergeFields?2:0,t,n,s);v0("Data must be an object, but it was:",a,i);const o=WC(i,a);let u,c;if(r.merge)u=new Qe(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const d of r.mergeFields){const m=gr(t,d,n);if(!a.contains(m))throw new F(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);tI(h,m)||h.push(m)}u=new Qe(h),c=a.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=a.fieldTransforms;return new Z9(new je(o),u,c)}class gf extends pf{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gf}}class y0 extends pf{_toFieldTransform(t){return new BL(t.path,new kl)}isEqual(t){return t instanceof y0}}function eU(e,t,n,i){const s=e.createContext(1,t,n);v0("Data must be an object, but it was:",s,i);const r=[],a=je.empty();Cs(i,(u,c)=>{const h=JC(t,u,n);c=Ht(c);const d=s.childContextForFieldPath(h);if(c instanceof gf)r.push(h);else{const m=uu(c,d);m!=null&&(r.push(h),a.set(h,m))}});const o=new Qe(r);return new QC(a,o,s.fieldTransforms)}function nU(e,t,n,i,s,r){const a=e.createContext(1,t,n),o=[gr(t,i,n)],u=[s];if(r.length%2!=0)throw new F(k.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<r.length;m+=2)o.push(gr(t,r[m])),u.push(r[m+1]);const c=[],h=je.empty();for(let m=o.length-1;m>=0;--m)if(!tI(c,o[m])){const g=o[m];let w=u[m];w=Ht(w);const I=a.childContextForFieldPath(g);if(w instanceof gf)c.push(g);else{const D=uu(w,I);D!=null&&(c.push(g),h.set(g,D))}}const d=new Qe(c);return new QC(h,d,a.fieldTransforms)}function iU(e,t,n,i=!1){return uu(n,e.createContext(i?4:3,t))}function uu(e,t){if(ZC(e=Ht(e)))return v0("Unsupported field value:",t,e),WC(e,t);if(e instanceof pf)return function(i,s){if(!XC(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let u=uu(o,s.childContextForArray(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return jL(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Ct.fromDate(i);return{timestampValue:gh(s.serializer,r)}}if(i instanceof Ct){const r=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gh(s.serializer,r)}}if(i instanceof Gn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mn)return{bytesValue:mC(s.serializer,i._byteString)};if(i instanceof Zt){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Rn)return function(a,o){const u=a instanceof Rn?a.toArray():a;return{mapValue:{fields:{[HR]:{stringValue:qR},[dh]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw o.createError("VectorValues must only contain numeric values.");return Yy(o.serializer,h)})}}}}}}(i,s);if(bC(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${ef(i)}`)}(e,t)}function WC(e,t){const n={};return LR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cs(e,(i,s)=>{const r=uu(s,t.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function ZC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ct||e instanceof Gn||e instanceof mn||e instanceof Zt||e instanceof pf||e instanceof Rn||bC(e))}function v0(e,t,n){if(!ZC(n)||!PR(n)){const i=ef(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function gr(e,t,n){if((t=Ht(t))instanceof m0)return t._internalPath;if(typeof t=="string")return JC(e,t);throw Th("Field path arguments must be of type string or ",e,!1,void 0,n)}const sU=new RegExp("[~\\*/\\[\\]]");function JC(e,t,n){if(t.search(sU)>=0)throw Th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new m0(...t.split("."))._internalPath}catch{throw Th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Th(e,t,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new F(k.INVALID_ARGUMENT,o+e+u)}function tI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{convertValue(t,n="none"){switch(Es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Cs(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,s,r;const n=(r=(s=(i=t.fields)==null?void 0:i[dh].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>zt(a.doubleValue));return new Rn(n)}convertGeoPoint(t){return new Gn(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=rf(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Ts(t);return new Ct(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=At.fromString(t);pt(TC(i),9688,{name:t});const s=new Ml(i.get(1),i.get(3)),r=new Y(i.popFirst(5));return s.isEqual(n)||Ai(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends rU{constructor(t){super(),this.firestore=t}convertBytes(t){return new mn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function aU(){return new y0("serverTimestamp")}const kE="@firebase/firestore",LE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(gr("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oU extends eI{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T0{}class iI extends T0{}function sI(e,t,...n){let i=[];t instanceof T0&&i.push(t),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof b0).length,o=r.filter(u=>u instanceof yf).length;if(a>1||a>0&&o>0)throw new F(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class yf extends iI{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new yf(t,n,i)}_apply(t){const n=this._parse(t);return rI(t._query,n),new Ns(t.firestore,t.converter,Mp(t._query,n))}_parse(t){const n=g0(t.firestore);return function(r,a,o,u,c,h,d){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zE(d,h);const w=[];for(const I of d)w.push(UE(u,r,I));m={arrayValue:{values:w}}}else m=UE(u,r,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zE(d,h),m=iU(o,a,d,h==="in"||h==="not-in");return Qt.create(c,h,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function lU(e,t,n){const i=t,s=gr("where",e);return yf._create(s,i,n)}class b0 extends T0{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new b0(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Nn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let a=s;const o=r.getFlattenedFilters();for(const u of o)rI(a,u),a=Mp(a,u)}(t._query,n),new Ns(t.firestore,t.converter,Mp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E0 extends iI{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new E0(t,n)}_apply(t){const n=function(s,r,a){if(s.startAt!==null)throw new F(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new F(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(r,a)}(t._query,this._field,this._direction);return new Ns(t.firestore,t.converter,NL(t._query,n))}}function uU(e,t="asc"){const n=t,i=gr("orderBy",e);return E0._create(i,n)}function UE(e,t,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZR(t)&&n.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(At.fromString(n));if(!Y.isDocumentKey(i))throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jb(e,new Y(i))}if(n instanceof Zt)return Jb(e,n._key);throw new F(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function zE(e,t){if(!Array.isArray(e)||e.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rI(e,t){const n=function(s,r){for(const a of s)for(const o of a.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function cU(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class Lo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ir extends eI{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(gr("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ir._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",ir._jsonSchema={type:Wt("string",ir._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Ec extends ir{data(t={}){return super.data(t)}}class sr{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ec(this._firestore,this._userDataWriter,i.key,i,new Lo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const u=new Ec(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Lo(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Ec(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Lo(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:hU(o.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr._jsonSchemaVersion="firestore/querySnapshot/1.0",sr._jsonSchema={type:Wt("string",sr._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};function fU(e){e=Fn(e,Ns);const t=Fn(e.firestore,pr),n=d0(t),i=new _0(t);return nI(e._query),q9(n,e._query).then(s=>new sr(t,i,e,s))}function dU(e,t,n,...i){e=Fn(e,Zt);const s=Fn(e.firestore,pr),r=g0(s);let a;return a=typeof(t=Ht(t))=="string"||t instanceof m0?nU(r,"updateDoc",e._key,t,n,i):eU(r,"updateDoc",e._key,t),A0(s,[a.toMutation(e._key,xn.exists(!0))])}function mU(e){return A0(Fn(e.firestore,pr),[new $y(e._key,xn.none())])}function pU(e,t){const n=Fn(e.firestore,pr),i=f0(e),s=cU(e.converter,t),r=g0(e.firestore);return A0(n,[tU(r,"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,xn.exists(!1))]).then(()=>i)}function gU(e,...t){var c,h,d;e=Ht(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||jE(t[i])||(n=t[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jE(t[i])){const m=t[i];t[i]=(c=m.next)==null?void 0:c.bind(m),t[i+1]=(h=m.error)==null?void 0:h.bind(m),t[i+2]=(d=m.complete)==null?void 0:d.bind(m)}let r,a,o;if(e instanceof Zt)a=Fn(e.firestore,pr),o=Ky(e._key.path),r={next:m=>{t[i]&&t[i](yU(a,e,m))},error:t[i+1],complete:t[i+2]};else{const m=Fn(e,Ns);a=Fn(m.firestore,pr),o=m._query;const g=new _0(a);r={next:w=>{t[i]&&t[i](new sr(a,g,m,w))},error:t[i+1],complete:t[i+2]},nI(e._query)}const u=d0(a);return H9(u,o,s,r)}function A0(e,t){const n=d0(e);return G9(n,t)}function yU(e,t,n){const i=n.docs.get(t._key),s=new _0(e);return new ir(e,s,t._key,i,new Lo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){q6(Qa),Yn(new In("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new pr(new Y6(i.getProvider("auth-internal")),new X6(a,i.getProvider("app-check-internal")),dL(a,s),a);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),_n(kE,LE,t),_n(kE,LE,"esm2020")})();const vU={apiKey:"AIzaSyC-gx4P90V8cEKV0_MoMPNActR2sQqsXWQ",authDomain:"united-earth-labs.firebaseapp.com",projectId:"united-earth-labs",storageBucket:"united-earth-labs.firebasestorage.app",messagingSenderId:"483788540820",appId:"1:483788540820:web:cc139d950fad54a651dd81",measurementId:"G-ZLNZ26628W"},aI=nR(vU);U6(aI);const Ul=Q9(aI);function _U({isOpen:e,onClose:t}){const[n,i]=U.useState({name:"",age:"",email:"",contactNumber:"",reasonToJoin:"",innovativeIdeas:"",timeDedication:"",skills:"",background:"",experience:"",availability:""}),[s,r]=U.useState({}),[a,o]=U.useState(!1),u=d=>{const{name:m,value:g}=d.target;i(w=>({...w,[m]:g})),s[m]&&r(w=>({...w,[m]:""}))},c=()=>{const d={};return n.name.trim()||(d.name="Name is required"),n.age.trim()||(d.age="Age is required"),n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(d.email="Please enter a valid email"):d.email="Email is required",n.contactNumber.trim()?/^[\d\s\-\+\(\)]+$/.test(n.contactNumber)||(d.contactNumber="Please enter a valid contact number"):d.contactNumber="Contact number is required",n.reasonToJoin.trim()||(d.reasonToJoin="This field is required"),n.innovativeIdeas.trim()||(d.innovativeIdeas="This field is required"),n.timeDedication.trim()||(d.timeDedication="This field is required"),r(d),Object.keys(d).length===0},h=async d=>{if(d.preventDefault(),c()){o(!0);try{const m=h0(Ul,"applications");await pU(m,{...n,submittedAt:aU(),status:"pending"}),alert("Thank you for your application! We will review it and get back to you soon."),i({name:"",age:"",email:"",contactNumber:"",reasonToJoin:"",innovativeIdeas:"",timeDedication:"",skills:"",background:"",experience:"",availability:""}),t()}catch(m){console.error("Error submitting application:",m),alert("Error submitting application. Please try again later.")}finally{o(!1)}}};return y.jsx(tx,{children:e&&y.jsxs(y.Fragment,{children:[y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50"}),y.jsx($.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:d=>d.stopPropagation(),children:y.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 border border-purple-500/30 rounded-3xl shadow-2xl shadow-purple-500/20",children:[y.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white hover:bg-purple-500/20 rounded-full transition-all duration-200 z-10",children:y.jsx(Il,{className:"w-6 h-6"})}),y.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-900/50 to-blue-900/50 backdrop-blur-md border-b border-purple-500/30 p-6 rounded-t-3xl",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-purple-400 to-blue-400",children:"Join United Earth Labs"}),y.jsx("p",{className:"text-gray-300 mt-2",children:"Help us advance humanity to Type 1 Civilization"})]}),y.jsxs("form",{onSubmit:h,className:"p-6 md:p-8 space-y-6",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Full Name ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("input",{type:"text",name:"name",value:n.name,onChange:u,className:`w-full px-4 py-3 bg-gray-800/50 border ${s.name?"border-red-500":"border-purple-500/30"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all`,placeholder:"Your name"}),s.name&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.name})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Age ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("input",{type:"number",name:"age",value:n.age,onChange:u,min:"18",className:`w-full px-4 py-3 bg-gray-800/50 border ${s.age?"border-red-500":"border-purple-500/30"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all`,placeholder:"Your age"}),s.age&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.age})]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Email Address ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,className:`w-full px-4 py-3 bg-gray-800/50 border ${s.email?"border-red-500":"border-purple-500/30"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all`,placeholder:"your-email@example.com"}),s.email&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.email})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Contact Number ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("input",{type:"tel",name:"contactNumber",value:n.contactNumber,onChange:u,className:`w-full px-4 py-3 bg-gray-800/50 border ${s.contactNumber?"border-red-500":"border-purple-500/30"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all`,placeholder:"+1 0000000000"}),s.contactNumber&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.contactNumber})]})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-cyan-400 font-semibold mb-2",children:"Educational/Professional Background"}),y.jsx("input",{type:"text",name:"background",value:n.background,onChange:u,className:"w-full px-4 py-3 bg-gray-800/50 border border-purple-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all",placeholder:"Your educational/professional background"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-cyan-400 font-semibold mb-2",children:"Years of Experience"}),y.jsx("input",{type:"text",name:"experience",value:n.experience,onChange:u,className:"w-full px-4 py-3 bg-gray-800/50 border border-purple-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all",placeholder:"Your years of experience"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-cyan-400 font-semibold mb-2",children:"Skills & Expertise"}),y.jsx("input",{type:"text",name:"skills",value:n.skills,onChange:u,className:"w-full px-4 py-3 bg-gray-800/50 border border-purple-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all",placeholder:"Your skills & expertise"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Why do you want to join United Earth Labs? ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("textarea",{name:"reasonToJoin",value:n.reasonToJoin,onChange:u,rows:"4",className:`w-full px-4 py-3 bg-gray-800/50 border ${s.reasonToJoin?"border-red-500":"border-purple-500/30"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all resize-none`,placeholder:"Your reason to join"}),s.reasonToJoin&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.reasonToJoin})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Share Your Innovative Ideas ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("textarea",{name:"innovativeIdeas",value:n.innovativeIdeas,onChange:u,rows:"5",className:`w-full px-4 py-3 bg-gray-800/50 border ${s.innovativeIdeas?"border-red-500":"border-purple-500/30"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all resize-none`,placeholder:"Your innovative ideas"}),s.innovativeIdeas&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.innovativeIdeas})]}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["How much time can you dedicate? ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsxs("select",{name:"timeDedication",value:n.timeDedication,onChange:u,className:`w-full px-4 py-3 bg-gray-800/50 border ${s.timeDedication?"border-red-500":"border-purple-500/30"} rounded-lg text-white focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all`,children:[y.jsx("option",{value:"",children:"Select..."}),y.jsx("option",{value:"part-time",children:"Part-time (10-20 hrs/week)"}),y.jsx("option",{value:"full-time",children:"Full-time (40+ hrs/week)"}),y.jsx("option",{value:"contract",children:"Contract/Project-based"}),y.jsx("option",{value:"volunteer",children:"Volunteer (flexible)"})]}),s.timeDedication&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:s.timeDedication})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-cyan-400 font-semibold mb-2",children:"Availability"}),y.jsx("input",{type:"text",name:"availability",value:n.availability,onChange:u,className:"w-full px-4 py-3 bg-gray-800/50 border border-purple-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all",placeholder:"Your availability"})]})]}),y.jsxs("div",{className:"pt-4 flex gap-4",children:[y.jsx($.button,{type:"button",onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-6 py-3 bg-gray-800/50 hover:bg-gray-700/50 border border-purple-500/30 hover:border-purple-500/50 text-gray-300 font-semibold rounded-lg transition-all duration-300",children:"Cancel"}),y.jsx($.button,{type:"submit",disabled:a,whileHover:{scale:a?1:1.02},whileTap:{scale:a?1:.98},className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg shadow-lg shadow-purple-500/50 hover:shadow-purple-500/70 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Submitting...":"Submit Application"})]})]})]})})]})})}function TU(){const e=U.useRef(null),t=Xh(e,{once:!0,amount:.3}),[n,i]=U.useState(!1);return y.jsxs("section",{id:"contact",ref:e,className:"relative min-h-screen py-20 px-6 flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/20 via-transparent to-purple-900/20 z-0"}),y.jsx("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:y.jsxs($.div,{initial:{opacity:0,y:50},animate:t?{opacity:1,y:0}:{},transition:{duration:.8},children:[y.jsx("h2",{className:"text-5xl md:text-7xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-6",children:"JOIN THE MISSION"}),y.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent mx-auto mb-8"}),y.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed max-w-2xl mx-auto",children:"Be part of the generation that transforms humanity. Whether you're a scientist, engineer, dreamer, or visionaryyour contribution matters in building our future."}),y.jsxs($.div,{initial:{opacity:0,y:30},animate:t?{opacity:1,y:0}:{},transition:{duration:.8,delay:.2},className:"space-y-6",children:[y.jsxs("div",{className:"p-8 bg-gradient-to-br from-purple-500/10 to-blue-500/10 backdrop-blur-md border border-purple-500/30 rounded-3xl",children:[y.jsx("h3",{className:"text-2xl font-bold text-cyan-400 mb-6",children:"Get in Touch"}),y.jsx("div",{className:"flex flex-wrap justify-center gap-6 mb-8",children:[{icon:A5,label:"Email",href:"mailto:adityaraaj11d@gmaail.com"},{icon:p5,label:"GitHub",href:"https://github.com/United-Earth-Labs"},{icon:_5,label:"LinkedIn",href:"https://linkedin.com/in/united-earth-labs-6506533a6"}].map(s=>{const r=s.icon;return y.jsxs($.a,{href:s.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-5},whileTap:{scale:.95},className:"flex items-center space-x-3 px-6 py-3 bg-gray-800/50 hover:bg-gray-700/50 border border-purple-500/30 hover:border-purple-500/50 rounded-full transition-all duration-300",children:[y.jsx(r,{className:"w-5 h-5 text-cyan-400"}),y.jsx("span",{className:"text-gray-300 font-semibold",children:s.label})]},s.label)})}),y.jsx($.button,{onClick:()=>i(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold text-lg rounded-full shadow-lg shadow-purple-500/50 hover:shadow-purple-500/70 transition-all duration-300",children:"Apply to Join the Team"})]}),y.jsx("div",{className:"mt-12",children:y.jsx("p",{className:"text-gray-400 text-sm",children:"United Earth Labs  Building Tomorrow, Today"})})]})]})}),y.jsx(_U,{isOpen:n,onClose:()=>i(!1)})]})}function bU(){return y.jsx("footer",{className:"relative border-t border-purple-500/20 bg-gray-900/50 backdrop-blur-md",children:y.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[y.jsxs("div",{className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear()," United Earth Labs. All rights reserved."]}),y.jsx("div",{className:"text-gray-400 text-sm",children:"Advancing humanity to Type 1 Civilization"}),y.jsxs("div",{className:"flex space-x-6",children:[y.jsx("a",{href:"#hero",className:"text-gray-400 hover:text-cyan-400 transition-colors text-sm",children:"Home"}),y.jsx("a",{href:"#vision",className:"text-gray-400 hover:text-cyan-400 transition-colors text-sm",children:"Vision"}),y.jsx("a",{href:"#goals",className:"text-gray-400 hover:text-cyan-400 transition-colors text-sm",children:"Goals"}),y.jsx("a",{href:"#contact",className:"text-gray-400 hover:text-cyan-400 transition-colors text-sm",children:"Contact"})]})]})})})}function oI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EU=oI,lI=new Ar("auth","Firebase",oI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Zh("@firebase/auth");function AU(e,...t){bh.logLevel<=at.WARN&&bh.warn(`Auth (${Qa}): ${e}`,...t)}function Ac(e,...t){bh.logLevel<=at.ERROR&&bh.error(`Auth (${Qa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(e,...t){throw w0(e,...t)}function Cn(e,...t){return w0(e,...t)}function S0(e,t,n){const i={...EU(),[t]:n};return new Ar("auth","Firebase",i).create(t,{appName:e.name})}function rr(e){return S0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SU(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Qn(e,"argument-error"),S0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return lI.create(e,...t)}function Z(e,t,...n){if(!e)throw w0(t,...n)}function ci(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ac(t),new Error(t)}function wi(e,t){e||ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function wU(){return BE()==="http:"||BE()==="https:"}function BE(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wU()||Xx()||"connection"in navigator)?navigator.onLine:!0}function RU(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n){this.shortDelay=t,this.longDelay=n,wi(n>t,"Short delay should be less than long delay!"),this.isMobile=X5()||J5()}get(){return xU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(e,t){wi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NU=new cu(3e4,6e4);function R0(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function eo(e,t,n,i,s={}){return cI(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const o=iu({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...r};return Z5()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&$a(e.emulatorConfig.host)&&(c.credentials="include"),uI.fetch()(await hI(e,e.config.apiHost,n,o),c)})}async function cI(e,t,n){e._canInitEmulator=!1;const i={...CU,...t};try{const s=new VU(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Wu(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const o=r.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Wu(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Wu(e,"user-disabled",a);const h=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw S0(e,h,c);Qn(e,h)}}catch(s){if(s instanceof Vn)throw s;Qn(e,"network-request-failed",{message:String(s)})}}async function DU(e,t,n,i,s={}){const r=await eo(e,t,n,i,s);return"mfaPendingCredential"in r&&Qn(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function hI(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?x0(e.config,s):`${e.config.apiScheme}://${s}`;return IU.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class VU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),NU.get())})}}function Wu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Cn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MU(e,t){return eo(e,"POST","/v1/accounts:delete",t)}async function Eh(e,t){return eo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OU(e,t=!1){const n=Ht(e),i=await n.getIdToken(t),s=C0(i);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:ll(nm(s.auth_time)),issuedAtTime:ll(nm(s.iat)),expirationTime:ll(nm(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function nm(e){return Number(e)*1e3}function C0(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const s=qx(n);return s?JSON.parse(s):(Ac("Failed to decode base64 JWT payload"),null)}catch(s){return Ac("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function FE(e){const t=C0(e);return Z(t,"internal-error"),Z(typeof t.exp<"u","internal-error"),Z(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Vn&&PU(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function PU({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(e){var d;const t=e.auth,n=await e.getIdToken(),i=await zl(e,Eh(t,{idToken:n}));Z(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(d=s.providerUserInfo)!=null&&d.length?fI(s.providerUserInfo):[],a=jU(e.providerData,r),o=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=o?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kp(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function LU(e){const t=Ht(e);await Ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jU(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function fI(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(e,t){const n=await cI(e,{},async()=>{const i=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await hI(e,s,"/v1/token",`key=${r}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:i};return e.emulatorConfig&&$a(e.emulatorConfig.host)&&(u.credentials="include"),uI.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zU(e,t){return eo(e,"POST","/v2/accounts:revokeToken",R0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Z(t.idToken,"internal-error"),Z(typeof t.idToken<"u","internal-error"),Z(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Z(t.length!==0,"internal-error");const n=FE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await UU(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new ma;return i&&(Z(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(Z(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(Z(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e,t){Z(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class wn{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new kU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await zl(this,this.stsTokenManager.getToken(this.auth,t));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return OU(this,t)}reload(){return LU(this)}_assign(t){this!==t&&(Z(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(rr(this.auth));const t=await this.getIdToken();return await zl(this,MU(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:d,emailVerified:m,isAnonymous:g,providerData:w,stsTokenManager:I}=n;Z(d&&I,t,"internal-error");const D=ma.fromJSON(this.name,I);Z(typeof d=="string",t,"internal-error"),Pi(i,t.name),Pi(s,t.name),Z(typeof m=="boolean",t,"internal-error"),Z(typeof g=="boolean",t,"internal-error"),Pi(r,t.name),Pi(a,t.name),Pi(o,t.name),Pi(u,t.name),Pi(c,t.name),Pi(h,t.name);const v=new wn({uid:d,auth:t,email:s,emailVerified:m,displayName:i,isAnonymous:g,photoURL:a,phoneNumber:r,tenantId:o,stsTokenManager:D,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(v.providerData=w.map(T=>({...T}))),u&&(v._redirectEventId=u),v}static async _fromIdTokenResponse(t,n,i=!1){const s=new ma;s.updateFromServerResponse(n);const r=new wn({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Ah(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?fI(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),o=new ma;o.updateFromIdToken(i);const u=new wn({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Kp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function hi(e){wi(e instanceof Function,"Expected a class definition");let t=HE.get(e);return t?(wi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,HE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dI.type="NONE";const qE=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(e,t,n){return`firebase:${e}:${t}:${n}`}class pa{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Sc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Sc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Eh(this.auth,{idToken:t}).catch(()=>{});return n?wn._fromGetAccountInfoResponse(this.auth,n,t):null}return wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new pa(hi(qE),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||hi(qE);const a=Sc(i,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let d;if(typeof h=="string"){const m=await Eh(t,{idToken:h}).catch(()=>{});if(!m)break;d=await wn._fromGetAccountInfoResponse(t,m,h)}else d=wn._fromJSON(t,h);c!==r&&(o=d),r=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new pa(r,t,i):(r=u[0],o&&await r._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(a)}catch{}})),new pa(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_I(t))return"Blackberry";if(TI(t))return"Webos";if(pI(t))return"Safari";if((t.includes("chrome/")||gI(t))&&!t.includes("edge/"))return"Chrome";if(vI(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function mI(e=Se()){return/firefox\//i.test(e)}function pI(e=Se()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gI(e=Se()){return/crios\//i.test(e)}function yI(e=Se()){return/iemobile/i.test(e)}function vI(e=Se()){return/android/i.test(e)}function _I(e=Se()){return/blackberry/i.test(e)}function TI(e=Se()){return/webos/i.test(e)}function I0(e=Se()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function BU(e=Se()){var t;return I0(e)&&!!((t=window.navigator)!=null&&t.standalone)}function FU(){return tk()&&document.documentMode===10}function bI(e=Se()){return I0(e)||vI(e)||TI(e)||_I(e)||/windows phone/i.test(e)||yI(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(e,t=[]){let n;switch(e){case"Browser":n=GE(Se());break;case"Worker":n=`${GE(Se())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,o)=>{try{const u=t(r);a(u)}catch(u){o(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(e,t={}){return eo(e,"GET","/v2/passwordPolicy",R0(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=6;class KU{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new HU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await pa.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Eh(this,{idToken:t}),i=await wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(Sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ah(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RU()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sn(this.app))return Promise.reject(rr(this));const n=t?Ht(t):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Z(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qU(this),n=new KU(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ar("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zU(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hi(t)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(o,this,"internal-error"),o.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=EI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&AU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vf(e){return Ht(e)}class KE{constructor(t){this.auth=t,this.observer=null,this.addObserver=ok(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $U(e){N0=e}function QU(e){return N0.loadJS(e)}function XU(){return N0.gapiScript}function WU(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(e,t){const n=Sr(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(vs(r,t??{}))return s;Qn(s,"already-initialized")}return n.initialize({options:t})}function JU(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(hi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function tz(e,t,n){const i=vf(e);Z(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=AI(t),{host:a,port:o}=ez(t),u=o===null?"":`:${o}`,c={url:`${r}//${a}${u}/`},h=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Z(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Z(vs(c,i.config.emulator)&&vs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,$a(a)?($x(`${r}//${a}${u}`),Qx("Auth",!0)):nz()}function AI(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ez(e){const t=AI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:YE(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:YE(a)}}}function YE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function nz(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(t){return ci("not implemented")}_linkToIdToken(t,n){return ci("not implemented")}_getReauthenticationResolver(t){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(e,t){return DU(e,"POST","/v1/accounts:signInWithIdp",R0(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="http://localhost";class yr extends SI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new yr(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ga(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,ga(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ga(t,n)}buildRequest(){const t={requestUri:iz,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=iu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends hu{constructor(){super("facebook.com")}static credential(t){return yr._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return yr._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ai.credentialFromTaggedObject(t)}static credentialFromError(t){return ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ai.credential(n,i)}catch{return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com";ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends hu{constructor(){super("github.com")}static credential(t){return yr._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends hu{constructor(){super("twitter.com")}static credential(t,n){return yr._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gi.credentialFromTaggedObject(t)}static credentialFromError(t){return Gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Gi.credential(n,i)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await wn._fromIdTokenResponse(t,i,s),a=$E(i);return new ka({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=$E(i);return new ka({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function $E(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Vn{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Sh(t,n,i,s)}}function wI(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(e,r,t,i):r})}async function sz(e,t,n=!1){const i=await zl(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ka._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(e,t,n=!1){const{auth:i}=e;if(Sn(i.app))return Promise.reject(rr(i));const s="reauthenticate";try{const r=await zl(e,wI(i,s,t,e),n);Z(r.idToken,i,"internal-error");const a=C0(r.idToken);Z(a,i,"internal-error");const{sub:o}=a;return Z(e.uid===o,i,"user-mismatch"),ka._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Qn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(e,t,n=!1){if(Sn(e.app))return Promise.reject(rr(e));const i="signIn",s=await wI(e,i,t),r=await ka._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}function oz(e,t,n,i){return Ht(e).onIdTokenChanged(t,n,i)}function lz(e,t,n){return Ht(e).beforeAuthStateChanged(t,n)}function uz(e,t,n,i){return Ht(e).onAuthStateChanged(t,n,i)}function Yp(e){return Ht(e).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=1e3,hz=10;class RI extends xI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);FU()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,hz):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},cz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}RI.type="LOCAL";const fz=RI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends xI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}CI.type="SESSION";const II=CI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new _f(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const o=Array.from(a).map(async c=>c(n.origin,r)),u=await dz(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((o,u)=>{const c=V0("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(m.data.response);break;default:clearTimeout(h),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function pz(e){Kn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function gz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function vz(){return NI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebaseLocalStorageDb",_z=1,xh="firebaseLocalStorage",VI="fbase_key";class fu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tf(e,t){return e.transaction([xh],t?"readwrite":"readonly").objectStore(xh)}function Tz(){const e=indexedDB.deleteDatabase(DI);return new fu(e).toPromise()}function $p(){const e=indexedDB.open(DI,_z);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(xh,{keyPath:VI})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(xh)?t(i):(i.close(),await Tz(),t(await $p()))})})}async function QE(e,t,n){const i=Tf(e,!0).put({[VI]:t,value:n});return new fu(i).toPromise()}async function bz(e,t){const n=Tf(e,!1).get(t),i=await new fu(n).toPromise();return i===void 0?null:i.value}function XE(e,t){const n=Tf(e,!0).delete(t);return new fu(n).toPromise()}const Ez=800,Az=3;class MI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Az)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(vz()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await gz(),!this.activeServiceWorker)return;this.sender=new mz(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $p();return await QE(t,wh,"1"),await XE(t,wh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>QE(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>bz(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Tf(s,!1).getAll();return new fu(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MI.type="LOCAL";const Sz=MI;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e,t){return t?hi(t):(Z(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends SI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ga(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ga(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function wz(e){return az(e.auth,new M0(e),e.bypassAuthState)}function xz(e){const{auth:t,user:n}=e;return Z(n,t,"internal-error"),rz(n,new M0(e),e.bypassAuthState)}async function Rz(e){const{auth:t,user:n}=e;return Z(n,t,"internal-error"),sz(n,new M0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wz;case"linkViaPopup":case"linkViaRedirect":return Rz;case"reauthViaPopup":case"reauthViaRedirect":return xz;default:Qn(this.auth,"internal-error")}}resolve(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=new cu(2e3,1e4);async function Iz(e,t,n){if(Sn(e.app))return Promise.reject(Cn(e,"operation-not-supported-in-this-environment"));const i=vf(e);SU(e,t,D0);const s=OI(i,n);return new Qs(i,"signInViaPopup",t,s).executeNotNull()}class Qs extends PI{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Z(t,this.auth,"internal-error"),t}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const t=V0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Cz.get())};t()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="pendingRedirect",wc=new Map;class Dz extends PI{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const i=await Vz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vz(e,t){const n=Pz(t),i=Oz(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function Mz(e,t){wc.set(e._key(),t)}function Oz(e){return hi(e._redirectPersistence)}function Pz(e){return Sc(Nz,e.config.apiKey,e.name)}async function kz(e,t,n=!1){if(Sn(e.app))return Promise.reject(rr(e));const i=vf(e),s=OI(i,t),a=await new Dz(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=10*60*1e3;class jz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!kI(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(t))}saveEventToCache(t){this.cachedEventUids.add(WE(t)),this.lastProcessedEventTime=Date.now()}}function WE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function kI({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Uz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kI(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(e,t={}){return eo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fz=/^https?/;async function Hz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await zz(e);for(const n of t)try{if(qz(n))return}catch{}Qn(e,"unauthorized-domain")}function qz(e){const t=Gp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!Fz.test(n))return!1;if(Bz.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new cu(3e4,6e4);function ZE(){const e=Kn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Kz(e){return new Promise((t,n)=>{var s,r,a;function i(){ZE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(Cn(e,"network-request-failed"))},timeout:Gz.get()})}if((r=(s=Kn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=Kn().gapi)!=null&&a.load)i();else{const o=WU("iframefcb");return Kn()[o]=()=>{gapi.load?i():n(Cn(e,"network-request-failed"))},QU(`${XU()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw xc=null,t})}let xc=null;function Yz(e){return xc=xc||Kz(e),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=new cu(5e3,15e3),Qz="__/auth/iframe",Xz="emulator/auth/iframe",Wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jz(e){const t=e.config;Z(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x0(t,Xz):`https://${e.config.authDomain}/${Qz}`,i={apiKey:t.apiKey,appName:e.name,v:Qa},s=Zz.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${iu(i).slice(1)}`}async function t8(e){const t=await Yz(e),n=Kn().gapi;return Z(n,e,"internal-error"),t.open({where:document.body,url:Jz(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wz,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Cn(e,"network-request-failed"),o=Kn().setTimeout(()=>{r(a)},$z.get());function u(){Kn().clearTimeout(o),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n8=500,i8=600,s8="_blank",r8="http://localhost";class JE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a8(e,t,n,i=n8,s=i8){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const u={...e8,width:i.toString(),height:s.toString(),top:r,left:a},c=Se().toLowerCase();n&&(o=gI(c)?s8:n),mI(c)&&(t=t||r8,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[g,w])=>`${m}${g}=${w},`,"");if(BU(c)&&o!=="_self")return o8(t||"",o),new JE(null);const d=window.open(t||"",o,h);Z(d,e,"popup-blocked");try{d.focus()}catch{}return new JE(d)}function o8(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="__/auth/handler",u8="emulator/auth/handler",c8=encodeURIComponent("fac");async function tA(e,t,n,i,s,r){Z(e.config.authDomain,e,"auth-domain-config-required"),Z(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Qa,eventId:s};if(t instanceof D0){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",ak(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,d]of Object.entries({}))a[h]=d}if(t instanceof hu){const h=t.getScopes().filter(d=>d!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await e._getAppCheckToken(),c=u?`#${c8}=${encodeURIComponent(u)}`:"";return`${h8(e)}?${iu(o).slice(1)}${c}`}function h8({config:e}){return e.emulator?x0(e,u8):`https://${e.authDomain}/${l8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class f8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=II,this._completeRedirectFn=kz,this._overrideRedirectResult=Mz}async _openPopup(t,n,i,s){var a;wi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await tA(t,n,i,Gp(),s);return a8(t,r,V0())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await tA(t,n,i,Gp(),s);return pz(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(wi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await t8(t),i=new jz(t);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(im,{type:im},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[im];r!==void 0&&n(!!r),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bI()||pI()||I0()}}const d8=f8;var eA="@firebase/auth",nA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g8(e){Yn(new In("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Z(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EI(e)},c=new YU(i,s,r,u);return JU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Yn(new In("auth-internal",t=>{const n=vf(t.getProvider("auth").getImmediate());return(i=>new m8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(eA,nA,p8(e)),_n(eA,nA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=5*60,v8=Yx("authIdTokenMaxAge")||y8;let iA=null;const _8=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>v8)return;const s=n==null?void 0:n.token;iA!==s&&(iA=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LI(e=Vy()){const t=Sr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ZU(e,{popupRedirectResolver:d8,persistence:[Sz,fz,II]}),i=Yx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=_8(r.toString());lz(n,a,()=>a(n.currentUser)),oz(n,o=>a(o))}}const s=Gx("auth");return s&&tz(n,`http://${s}`),n}function T8(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}$U({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Cn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",T8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g8("Browser");class du{constructor(t=0,n="Network Error"){this.status=t,this.text=n}}const b8=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},fe={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:b8()},O0=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},E8=(e,t="https://api.emailjs.com")=>{if(!e)return;const n=O0(e);fe.publicKey=n.publicKey,fe.blockHeadless=n.blockHeadless,fe.storageProvider=n.storageProvider,fe.blockList=n.blockList,fe.limitRate=n.limitRate,fe.origin=n.origin||t},jI=async(e,t,n={})=>{const i=await fetch(fe.origin+e,{method:"POST",headers:n,body:t}),s=await i.text(),r=new du(i.status,s);if(i.ok)return r;throw r},UI=(e,t,n)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},A8=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},zI=e=>e.webdriver||!e.languages||e.languages.length===0,BI=()=>new du(451,"Unavailable For Headless Browser"),S8=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},w8=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},x8=(e,t)=>e instanceof FormData?e.get(t):e[t],FI=(e,t)=>{if(w8(e))return!1;S8(e.list,e.watchVariable);const n=x8(t,e.watchVariable);return typeof n!="string"?!1:e.list.includes(n)},HI=()=>new du(403,"Forbidden"),R8=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},C8=async(e,t,n)=>{const i=Number(await n.get(e)||0);return t-Date.now()+i},qI=async(e,t,n)=>{if(!t.throttle||!n)return!1;R8(t.throttle,t.id);const i=t.id||e;return await C8(i,t.throttle,n)>0?!0:(await n.set(i,Date.now().toString()),!1)},GI=()=>new du(429,"Too Many Requests"),I8=async(e,t,n,i)=>{const s=O0(i),r=s.publicKey||fe.publicKey,a=s.blockHeadless||fe.blockHeadless,o=s.storageProvider||fe.storageProvider,u={...fe.blockList,...s.blockList},c={...fe.limitRate,...s.limitRate};return a&&zI(navigator)?Promise.reject(BI()):(UI(r,e,t),A8(n),n&&FI(u,n)?Promise.reject(HI()):await qI(location.pathname,c,o)?Promise.reject(GI()):jI("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:r,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"}))},N8=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},D8=e=>typeof e=="string"?document.querySelector(e):e,V8=async(e,t,n,i)=>{const s=O0(i),r=s.publicKey||fe.publicKey,a=s.blockHeadless||fe.blockHeadless,o=fe.storageProvider||s.storageProvider,u={...fe.blockList,...s.blockList},c={...fe.limitRate,...s.limitRate};if(a&&zI(navigator))return Promise.reject(BI());const h=D8(n);UI(r,e,t),N8(h);const d=new FormData(h);return FI(u,d)?Promise.reject(HI()):await qI(location.pathname,c,o)?Promise.reject(GI()):(d.append("lib_version","4.4.1"),d.append("service_id",e),d.append("template_id",t),d.append("user_id",r),jI("/api/v1.0/email/send-form",d))},KI={init:E8,send:I8,sendForm:V8,EmailJSResponseStatus:du},M8="c0M6a1USKyLnrZi3D";console.log("Email.js Public Key loaded:"," Present");KI.init(M8);function O8({application:e,onClose:t,onSuccess:n}){console.log(" ApplicationActionModal mounted for:",e.name);const[i,s]=U.useState(null),[r,a]=U.useState(""),[o,u]=U.useState(!1),[c,h]=U.useState(null),d=async()=>{if(!r.trim()){h("Please enter a message");return}u(!0),h(null);try{const m=f0(Ul,"applications",e.id);await dU(m,{status:i,adminMessage:r,updatedAt:new Date});try{const g={to_email:e.email,name:e.name,time:new Date().toLocaleDateString(),subject:i==="approved"?"Congratulations! Your Application to United Earth Labs has been Accepted ":"Thank You for Your Application to United Earth Labs",status:i==="approved"?"Approved":"Rejected",message:r},w="service_hw0a7xq",I=i==="approved"?"template_y5jkmqa":"template_b4kt9ng";if(console.log(" SENDING EMAIL - Detailed Log:"),console.log("Service ID:",w),console.log("Template ID:",I),console.log("Email Payload:",g),!w.startsWith("service_"))throw new Error(`Invalid Service ID format. Expected "service_*", got "${w}"`);if(!I.startsWith("template_"))throw new Error(`Invalid Template ID format. Expected "template_*", got "${I}"`);console.log(" Calling emailjs.send()..."),console.log("Sending with:"),console.log("- Service:",w),console.log("- Template:",I),console.log("- Recipient:",g.to_email);const D=await KI.send(w,I,g,"c0M6a1USKyLnrZi3D");console.log(" EMAIL SENT SUCCESSFULLY!"),console.log("Response:",D),console.log("Status:",D.status),console.log("Text:",D.text)}catch(g){console.error(" EMAIL SENDING FAILED!"),console.error("Error Name:",g.name),console.error("Error Message:",g.message),console.error("Full Error Object:",g);const w=g.message||"Unknown email error";alert(` Email Error:

${w}

Check console for details.`),h(` Email Failed: ${w}`),u(!1);return}n(),t(),n(),t()}catch(m){console.error("Error:",m),h(m.message||"Error processing application"),u(!1)}};return i?y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-purple-500/30 rounded-lg p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:m=>m.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:i==="approved"?" Approve Application":" Reject Application"}),y.jsxs("p",{className:"text-gray-400 mt-1",children:[e.name,"  ",e.email]})]}),y.jsx("button",{onClick:()=>s(null),className:"p-2 hover:bg-purple-500/20 rounded-full transition-all",children:y.jsx(Il,{className:"w-6 h-6 text-gray-400"})})]}),c&&y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 p-4 bg-red-900/30 border border-red-500/50 rounded-lg",children:y.jsx("p",{className:"text-red-300 text-sm",children:c})}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("label",{className:"block text-cyan-400 font-semibold mb-2",children:["Message to Applicant ",y.jsx("span",{className:"text-red-400",children:"*"})]}),y.jsx("textarea",{value:r,onChange:m=>a(m.target.value),placeholder:i==="approved"?`Write a welcome message...

Example: We are excited to have you on the team! Please check your email for next steps.`:`Write a feedback message...

Example: Thank you for your interest. We will contact you if a suitable position opens up in the future.`,rows:"6",className:"w-full px-4 py-3 bg-gray-800/50 border border-purple-500/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all resize-none"}),y.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"This message will be sent to the applicant via email."})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s(null),disabled:o,className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-lg transition-all disabled:opacity-50",children:"Back"}),y.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:o,className:`flex-1 py-3 ${i==="approved"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white font-bold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed`,children:o?"Processing...":i==="approved"?" Approve & Send Email":" Reject & Send Email"})]})]})}):y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:y.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-purple-500/30 rounded-lg p-8 max-w-md w-full",onClick:m=>m.stopPropagation(),children:[y.jsx("h2",{className:"text-2xl font-bold text-cyan-400 mb-4",children:e.name}),y.jsx("p",{className:"text-gray-300 mb-6",children:"What action do you want to take?"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("approved"),className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-all",children:" Approve"}),y.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("rejected"),className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-all",children:" Reject"})]}),y.jsx("button",{onClick:t,className:"w-full mt-3 py-2 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-all",children:"Cancel"})]})})}function P8(){const[e,t]=U.useState([]),[n,i]=U.useState(null),[s,r]=U.useState(!0),[a,o]=U.useState("all"),[u,c]=U.useState(null),[h,d]=U.useState(null),m=LI();U.useEffect(()=>{r(!0),c(null);const v=h0(Ul,"applications"),T=sI(v,uU("submittedAt","desc")),S=gU(T,N=>{const P=N.docs.map(z=>({id:z.id,...z.data()}));t(P),r(!1)},N=>{console.error("Error fetching applications:",N),c(N.message),r(!1)});return()=>S()},[]);const g=async v=>{if(window.confirm("Are you sure you want to delete this application?"))try{await mU(f0(Ul,"applications",v))}catch(T){console.error("Error deleting application:",T),alert("Error deleting application")}},w=()=>{const v=["Name","Email","Age","Contact","Background","Experience","Skills","Reason to Join","Ideas","Time Dedication","Availability","Status","Submitted"],T=e.map(E=>[E.name,E.email,E.age,E.contactNumber,E.background||"N/A",E.experience||"N/A",E.skills||"N/A",E.reasonToJoin,E.innovativeIdeas,E.timeDedication,E.availability||"N/A",E.status||"pending",E.submittedAt?new Date(E.submittedAt.seconds*1e3).toLocaleString():"N/A"]);let S=[v,...T].map(E=>E.map(_=>`"${String(_).replace(/"/g,'""')}"`).join(",")).join(`
`);const N=new Blob([S],{type:"text/csv"}),P=window.URL.createObjectURL(N),z=document.createElement("a");z.href=P,z.download=`applications-${new Date().toISOString().split("T")[0]}.csv`,z.click(),window.URL.revokeObjectURL(P)},I=e.filter(v=>a==="all"?!0:v.status===a),D={total:e.length,pending:e.filter(v=>v.status==="pending").length,approved:e.filter(v=>v.status==="approved").length,rejected:e.filter(v=>v.status==="rejected").length};return s?y.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black flex items-center justify-center",children:y.jsx("div",{className:"text-2xl text-cyan-400",children:"Loading applications..."})}):y.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black p-6",children:[y.jsxs("div",{className:"max-w-7xl mx-auto",children:[u&&y.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-900/30 border border-red-500/50 rounded-lg",children:[y.jsxs("p",{className:"text-red-300 mb-2",children:[" Error: ",u]}),y.jsx("p",{className:"text-red-300 text-sm mb-3",children:"Make sure Firestore security rules are updated. Check FIRESTORE_SETUP.md for instructions."}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-semibold",children:"Retry"})]}),y.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8 flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-5xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 mb-2",children:"Applications Dashboard"}),y.jsx("p",{className:"text-gray-400",children:"Manage all team applications"})]}),y.jsxs($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{try{await Yp(m),localStorage.removeItem("adminAccess"),window.location.hash="#admin",window.location.reload()}catch(v){console.error("Logout error:",v),alert("Error logging out")}},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg flex items-center gap-2 transition-all",children:[y.jsx(b5,{className:"w-4 h-4"}),"Logout"]})]}),y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total",value:D.total,color:"from-blue-500 to-cyan-500"},{label:"Pending",value:D.pending,color:"from-yellow-500 to-orange-500"},{label:"Approved",value:D.approved,color:"from-green-500 to-emerald-500"},{label:"Rejected",value:D.rejected,color:"from-red-500 to-pink-500"}].map((v,T)=>y.jsxs("div",{className:`bg-gradient-to-br ${v.color} p-6 rounded-lg`,children:[y.jsx("div",{className:"text-white text-sm font-semibold opacity-80",children:v.label}),y.jsx("div",{className:"text-3xl font-black text-white",children:v.value})]},T))}),y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mb-6 flex gap-4",children:y.jsxs("button",{onClick:w,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-purple-500/50 transition-all",children:[y.jsx(h5,{className:"inline mr-2 w-4 h-4"}),"Download CSV"]})}),y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-6 flex gap-3 flex-wrap",children:["all","pending","approved","rejected"].map(v=>y.jsx("button",{onClick:()=>o(v),className:`px-4 py-2 rounded-full font-semibold transition-all ${a===v?"bg-purple-600 text-white shadow-lg shadow-purple-500/50":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-gray-800/50 border border-purple-500/30 rounded-lg overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-purple-900/50 border-b border-purple-500/30",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4 text-left text-cyan-400 font-semibold",children:"Name"}),y.jsx("th",{className:"px-6 py-4 text-left text-cyan-400 font-semibold",children:"Email"}),y.jsx("th",{className:"px-6 py-4 text-left text-cyan-400 font-semibold",children:"Contact"}),y.jsx("th",{className:"px-6 py-4 text-left text-cyan-400 font-semibold",children:"Status"}),y.jsx("th",{className:"px-6 py-4 text-left text-cyan-400 font-semibold",children:"Submitted"}),y.jsx("th",{className:"px-6 py-4 text-left text-cyan-400 font-semibold",children:"Actions"})]})}),y.jsx("tbody",{children:I.map((v,T)=>y.jsxs("tr",{className:`border-b border-purple-500/20 hover:bg-purple-500/10 transition-all ${T%2===0?"bg-gray-900/30":"bg-gray-800/30"}`,children:[y.jsx("td",{className:"px-6 py-4 text-white font-semibold",children:v.name}),y.jsx("td",{className:"px-6 py-4 text-gray-300",children:v.email}),y.jsx("td",{className:"px-6 py-4 text-gray-300",children:v.contactNumber}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-3 py-1 rounded font-semibold text-white ${(v.status||"pending")==="pending"?"bg-yellow-600":(v.status||"pending")==="approved"?"bg-green-600":"bg-red-600"}`,children:v.status?v.status.charAt(0).toUpperCase()+v.status.slice(1):"Pending"})}),y.jsx("td",{className:"px-6 py-4 text-gray-400 text-sm",children:v.submittedAt?new Date(v.submittedAt.seconds*1e3).toLocaleDateString():"N/A"}),y.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[(v.status||"pending")==="pending"&&y.jsx("button",{onClick:()=>{console.log("Action button clicked for:",v.name),d(v)},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-semibold transition-all",title:"Take action",children:"Action"}),y.jsx("button",{onClick:()=>i(v),className:"p-2 hover:bg-purple-500/30 rounded transition-all text-cyan-400 hover:text-cyan-300",title:"View details",children:y.jsx(d5,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>g(v.id),className:"p-2 hover:bg-red-500/30 rounded transition-all text-red-400 hover:text-red-300",title:"Delete",children:y.jsx(Il,{className:"w-5 h-5"})})]})]},v.id))})]})})}),I.length===0&&y.jsx("div",{className:"text-center py-12",children:y.jsx("p",{className:"text-gray-400 text-lg",children:"No applications found"})})]}),n&&y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>i(null),children:y.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-gradient-to-br from-gray-900 to-gray-800 border border-purple-500/30 rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:v=>v.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsx("h2",{className:"text-3xl font-black text-cyan-400",children:n.name}),y.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-purple-500/20 rounded-full transition-all",children:y.jsx(Il,{className:"w-6 h-6 text-gray-400"})})]}),y.jsx("div",{className:"space-y-4",children:[{label:"Email",value:n.email},{label:"Age",value:n.age},{label:"Contact Number",value:n.contactNumber},{label:"Background",value:n.background||"Not provided"},{label:"Experience",value:n.experience||"Not provided"},{label:"Skills",value:n.skills||"Not provided"},{label:"Time Dedication",value:n.timeDedication},{label:"Availability",value:n.availability||"Not provided"},{label:"Why Join",value:n.reasonToJoin},{label:"Innovative Ideas",value:n.innovativeIdeas},{label:"Submitted",value:n.submittedAt?new Date(n.submittedAt.seconds*1e3).toLocaleString():"N/A"}].map((v,T)=>y.jsxs("div",{children:[y.jsx("p",{className:"text-cyan-400 font-semibold mb-1",children:v.label}),y.jsx("p",{className:"text-gray-300 bg-gray-900/50 p-3 rounded border border-purple-500/20 whitespace-pre-wrap",children:v.value})]},T))})]})}),h&&y.jsx(O8,{application:h,onClose:()=>d(null),onSuccess:()=>d(null)})]})}function k8({onLoginSuccess:e}){const[t,n]=U.useState(!1),[i,s]=U.useState(null),[r,a]=U.useState(null),[o,u]=U.useState(!1),c=LI(),h=new ai;U.useEffect(()=>{const m=uz(c,async g=>{if(console.log("Auth state changed:",g==null?void 0:g.email),g){u(!0);try{console.log("Checking if user is admin...");const w=h0(Ul,"admins"),I=sI(w,lU("email","==",g.email)),D=await fU(I);console.log("Admin check result:",D.docs.length,"documents found"),D.empty?(console.log("User not found in admins collection"),s("You are not authorized as an admin. Contact your administrator."),await Yp(c),u(!1)):(console.log("User is authorized admin"),a(g),s(null),u(!1),e(g))}catch(w){console.error("Error checking admin status:",w),s(`Error: ${w.message}`),await Yp(c),u(!1)}}else a(null),u(!1)});return()=>m()},[c,e]);const d=async()=>{n(!0),s(null);try{console.log("Starting Google sign in...");const m=await Iz(c,h);console.log("Google sign in successful:",m.user.email)}catch(m){console.error("Google sign in error:",m),s(m.message),n(!1)}};return r?null:o?y.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl text-cyan-400 mb-4",children:"Verifying admin status..."}),y.jsx("div",{className:"animate-spin text-4xl",children:""})]})}):y.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-800 to-black flex items-center justify-center p-4",children:y.jsxs($.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-gradient-to-br from-gray-900 to-gray-800 border border-purple-500/30 rounded-lg p-8",children:[y.jsx("h1",{className:"text-4xl font-black bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-purple-400 mb-2",children:"Admin Login"}),y.jsx("p",{className:"text-gray-400 mb-8",children:"Sign in with your Google account"}),i&&y.jsx($.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-6 p-4 bg-red-900/30 border border-red-500/50 rounded-lg",children:y.jsx("p",{className:"text-red-300 text-sm",children:i})}),y.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:t,className:"w-full py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:t?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"animate-spin",children:""}),"Signing in..."]}):" Sign in with Google"}),y.jsx("p",{className:"text-gray-400 text-xs text-center mt-6",children:"Only authorized admin accounts can access this panel"}),y.jsx("p",{className:"text-gray-500 text-xs text-center mt-4 border-t border-gray-700 pt-4",children:"Make sure your Google email is added to the admins collection in Firestore"})]})})}const sA={"cybertron-construction":{title:"Cybertron Construction",description:"Building a planet-scale technological infrastructure that serves as humanity's ultimate achievement in engineering and innovation.",details:`
Project: CYBERTRON CONSTRUCTION


Overview:
We are constructing a planet-scale technological infrastructure that will 
serve as humanity's ultimate achievement in engineering and innovation.

Why We Want This:
 To provide unlimited computational resources for global advancement
 To create a self-sustaining technological ecosystem
 To enable processing power for solving humanity's greatest challenges
 To establish a foundation for becoming a Type 1 Civilization

Status: Research Phase
Next Steps: Advanced architectural planning and resource assessment
    `},"cyborg-technology":{title:"Cyborg Technology",description:"Developing seamless human-machine interfaces that enhance human capabilities while preserving our essential humanity.",details:`
Project: CYBORG TECHNOLOGY


Overview:
We are developing seamless human-machine interfaces that enhance human 
capabilities while preserving our essential humanity and autonomy.

Why We Want This:
 To overcome physical limitations and disabilities
 To augment human intelligence and cognitive abilities
 To enable direct brain-computer communication
 To create a symbiotic relationship between humans and technology

Status: Research phase
Next Steps: Neural interface trials and cognitive enhancement prototypes
    `},"solar-energy-harvesting":{title:"Solar Energy Harvesting",description:"Harnessing 10% of the sun's total energy output to power all of humanity's needs sustainably and indefinitely.",details:`
Project: SOLAR ENERGY HARVESTING


Overview:
We are developing technology to harvest 10% of the sun's total energy 
output to power all of humanity's needs sustainably and indefinitely.

Why We Want This:
 To achieve unlimited clean energy for the entire human civilization
 To eliminate fossil fuel dependency permanently
 To power all future technological projects with renewable energy
 To become energy-positive as a species

Status: Research Phase
Next Steps: Orbital construction infrastructure development
    `},"radiation-as-fuel":{title:"Radiation as Fuel",description:"Transforming harmful radiation into a powerful, clean energy source, revolutionizing how we power our civilization.",details:`
Project: RADIATION AS FUEL


Overview:
We are transforming harmful radiation into a powerful, clean energy 
source that will revolutionize how we power our civilization.

Why We Want This:
 To harness one of nature's most abundant energy sources
 To solve environmental hazards by converting radiation productively
 To enable deep space exploration with efficient power systems
 To create a redundant power system alongside solar harvesting

Status: Research Phase
Next Steps: Radiation conversion efficiency optimization
    `},"artificial-ecosystems":{title:"Artificial Ecosystems",description:"Creating self-sustaining biomes and ecosystems that support life beyond Earth, enabling interplanetary colonization.",details:`
Project: ARTIFICIAL ECOSYSTEMS


Overview:
We are creating self-sustaining biomes and ecosystems that support life 
beyond Earth, enabling human colonization across the solar system.

Why We Want This:
 To ensure human survival through multi-planetary presence
 To create closed-loop life support systems for space habitats
 To enable sustainable long-term colonization of other worlds
 To expand the habitable zone for human civilization

Status: Research phase
Next Steps: Zero-gravity ecosystem testing in orbital platforms
    `},"human-dreams-realized":{title:"Human Dreams Realized",description:"Bringing every ambitious human dream to reality through relentless innovation, research, and technological advancement.",details:`
Project: HUMAN DREAMS REALIZED


Overview:
We are committed to bringing every ambitious human dream to reality 
through relentless innovation, research, and technological advancement.

Why We Want This:
 To inspire and empower humanity to achieve the impossible
 To transform science fiction into scientific fact
 To prove that with enough determination, any challenge can be overcome
 To demonstrate that humanity's potential is truly limitless

Status: Research Phase
Next Steps: Research and collaboration with dream-builders worldwide
    `},"planetary-mining":{title:"Planetaery Mining",description:"Mining planetary bodies for essential resources to fuel humanity's expansion into the solar system.",details:`
Project: PLANETARY MINING


Overview:
We are mining planetary bodies for essential resources to fuel humanity's 
expansion into the solar system, including metals, minerals, and volatiles.

Why We Want This:
 To secure resources for large-scale space infrastructure
 To reduce dependency on Earth-based materials
 To support sustainable off-world colonies
 To enable advanced manufacturing in space
 To drive economic growth through space resource utilization

Status: Research Phase
    `}};function L8({isOpen:e,onClose:t}){const[n,i]=U.useState(""),[s,r]=U.useState([{type:"output",text:"Welcome to United Earth Labs Terminal v1.0"},{type:"output",text:'Type "help" to see available commands'},{type:"output",text:""}]),a=U.useRef(null);U.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[s]);const o=u=>{const c=u.toLowerCase().trim();if(r(h=>[...h,{type:"input",text:`> ${u}`}]),c==="help"){const h=`
Available Commands:


  cybertron-construction     Build planet-scale technological infrastructure
  cyborg-technology          Develop human-machine interfaces
  solar-energy-harvesting    Harness the sun's unlimited energy
  radiation-as-fuel          Transform radiation into clean power
  artificial-ecosystems      Create sustainable life beyond Earth
  human-dreams-realized      Turn ambitious dreams into reality
  planetary-mining           Mine planetary bodies for essential resources

Type any command name to see detailed information.
Type "clear" to clear terminal history.
Type "exit" to close terminal.
      `;r(d=>[...d,{type:"output",text:h}])}else c==="clear"?r([{type:"output",text:"Terminal cleared."},{type:"output",text:'Type "help" for commands'}]):c==="exit"?t():sA[c]?r(h=>[...h,{type:"output",text:sA[c].details}]):c===""||r(h=>[...h,{type:"output",text:`Command not found: "${u}"
Type "help" for available commands.`}]);i("")};return e?y.jsx(tx,{children:y.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-6 right-6 w-full max-w-2xl max-h-96 z-50",children:y.jsxs("div",{className:"bg-gray-900/95 backdrop-blur-md border border-cyan-500/30 rounded-lg overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/50 to-purple-900/50 border-b border-cyan-500/30 px-4 py-3 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ny,{className:"w-5 h-5 text-cyan-400"}),y.jsx("span",{className:"text-cyan-400 font-mono font-semibold",children:"UEL Terminal"})]}),y.jsx("button",{onClick:t,className:"text-gray-400 hover:text-cyan-400 transition-colors",children:y.jsx(Il,{className:"w-5 h-5"})})]}),y.jsx("div",{ref:a,className:"bg-gray-950 h-64 overflow-y-auto p-4 font-mono text-sm text-gray-300",children:s.map((u,c)=>y.jsx("div",{className:"mb-2 whitespace-pre-wrap break-words",children:u.type==="input"?y.jsx("span",{className:"text-cyan-400",children:u.text}):y.jsx("span",{className:"text-gray-400",children:u.text})},c))}),y.jsxs("div",{className:"bg-gray-900/80 border-t border-cyan-500/30 px-4 py-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-cyan-400 font-mono",children:">"}),y.jsx("input",{autoFocus:!0,type:"text",value:n,onChange:u=>i(u.target.value),onKeyPress:u=>{u.key==="Enter"&&o(n)},className:"flex-1 bg-transparent text-cyan-400 font-mono outline-none",placeholder:"Type 'help' for commands..."})]})]})})}):null}function j8(){const[e,t]=U.useState(!1),[n,i]=U.useState(null),[s,r]=U.useState(!1),a=window.location.hash==="#admin"||localStorage.getItem("adminAccess")==="true";return(e||a)&&n?y.jsxs("div",{className:"app-root",children:[y.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-gray-900 via-blue-900 to-purple-900 -z-10"}),y.jsx(P8,{})]}):e||a?y.jsxs("div",{className:"app-root",children:[y.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-gray-900 via-blue-900 to-purple-900 -z-10"}),y.jsx(k8,{onLoginSuccess:i})]}):y.jsxs("div",{className:"app-root",children:[y.jsx("div",{className:"fixed inset-0 bg-gradient-to-b from-gray-900 via-blue-900 to-purple-900 -z-10"}),y.jsx(V5,{onTerminalOpen:()=>r(!0)}),y.jsxs("main",{children:[y.jsx(t5,{}),y.jsx(M5,{}),y.jsx(P5,{}),y.jsx(k5,{}),y.jsx(TU,{})]}),y.jsx(bU,{}),y.jsx(L8,{isOpen:s,onClose:()=>r(!1)})]})}vV.createRoot(document.getElementById("root")).render(y.jsx(j8,{}));
